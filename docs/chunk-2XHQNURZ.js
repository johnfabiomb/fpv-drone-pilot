import{a as Xa,b as Pd,c as kd,d as G,e as Ld,f as Nd,g as mi,h as Fd,i as jd,k as qi,l as zd,m as Ud,n as Ya,o as Bd}from"./chunk-LVZZRJM4.js";import{$ as cd,$a as Bt,A as Ot,Aa as yd,B as sd,Ba as Hi,C as La,Ca as wd,D as Xs,Da as Ks,E as di,Ea as bd,F as Na,G as od,Ga as Ed,H as ad,Ha as Tr,I as Ys,Ia as De,J as Ye,Ja as U,K as we,L as $e,La as Sr,M as Rt,N as ut,Na as qs,Oa as Cd,P as O,Q as rt,Qa as Z,R as ld,Ra as Tn,S as tt,Sa as Wi,T as Fa,Ta as xd,U as C,Ua as Rd,V as P,Va as Id,W as xr,Wa as Xi,X as Ze,Xa as Yi,Y as he,Ya as fi,Z as st,Za as Qs,_ as be,_a as Ut,a as ji,aa as ja,ab as Oe,b as id,ba as hd,bb as Td,c as Gs,ca as $s,cb as Sd,d as Aa,da as Ui,db as Js,e as Ma,ea as Cn,eb as Ua,f as $,fa as Bi,fb as Ee,g as Yt,ga as Vi,gb as Ba,h as ui,ha as Rr,hb as Ad,i as ye,ia as te,ib as $i,j as k,ja as za,jb as pi,k as br,ka as yt,kb as gi,l as Da,la as $t,lb as Zi,m as nd,ma as ud,mb as Va,n as J,na as Zs,nb as Pe,o as Er,oa as dd,ob as Ga,p as ce,pa as Gi,pb as Ha,q as Hs,qa as xn,qb as to,r as zi,ra as Ir,rb as Md,s as rd,sa as Rn,sb as Dd,t as Ws,ta as In,tb as Ar,u as Dt,ua as fd,ub as Wa,v as Oa,va as pd,vb as Ki,w as En,wa as gd,x as Cr,xa as md,xb as Od,y as Pa,ya as _d,z as ka,za as vd}from"./chunk-SOU5UP3M.js";import{a as S,b as ft,d as L_,e as N_,f as ed}from"./chunk-CWTPBX7D.js";var Zp=L_((Oc,Pc)=>{"use strict";(function(n,t){typeof Oc=="object"&&typeof Pc<"u"?Pc.exports=t():typeof define=="function"&&define.amd?define(t):(n=n||self).RBush=t()})(Oc,function(){"use strict";function n(f,p,_,b,y){(function w(x,I,R,T,W){for(;T>R;){if(T-R>600){var z=T-R+1,it=I-R+1,Wt=Math.log(z),Nt=.5*Math.exp(2*Wt/3),Ft=.5*Math.sqrt(Wt*Nt*(z-Nt)/z)*(it-z/2<0?-1:1),Mt=Math.max(R,Math.floor(I-it*Nt/z+Ft)),nt=Math.min(T,Math.floor(I+(z-it)*Nt/z+Ft));w(x,I,Mt,nt,W)}var wt=x[I],bt=R,ct=T;for(t(x,R,I),W(x[T],wt)>0&&t(x,R,T);bt<ct;){for(t(x,bt,ct),bt++,ct--;W(x[bt],wt)<0;)bt++;for(;W(x[ct],wt)>0;)ct--}W(x[R],wt)===0?t(x,R,ct):t(x,++ct,T),ct<=I&&(R=ct+1),I<=ct&&(T=ct-1)}})(f,p,_||0,b||f.length-1,y||i)}function t(f,p,_){var b=f[p];f[p]=f[_],f[_]=b}function i(f,p){return f<p?-1:f>p?1:0}var e=function(f){f===void 0&&(f=9),this._maxEntries=Math.max(4,f),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(f,p,_){if(!_)return p.indexOf(f);for(var b=0;b<p.length;b++)if(_(f,p[b]))return b;return-1}function s(f,p){o(f,0,f.children.length,p,f)}function o(f,p,_,b,y){y||(y=m(null)),y.minX=1/0,y.minY=1/0,y.maxX=-1/0,y.maxY=-1/0;for(var w=p;w<_;w++){var x=f.children[w];a(y,f.leaf?b(x):x)}return y}function a(f,p){return f.minX=Math.min(f.minX,p.minX),f.minY=Math.min(f.minY,p.minY),f.maxX=Math.max(f.maxX,p.maxX),f.maxY=Math.max(f.maxY,p.maxY),f}function l(f,p){return f.minX-p.minX}function c(f,p){return f.minY-p.minY}function h(f){return(f.maxX-f.minX)*(f.maxY-f.minY)}function u(f){return f.maxX-f.minX+(f.maxY-f.minY)}function d(f,p){return f.minX<=p.minX&&f.minY<=p.minY&&p.maxX<=f.maxX&&p.maxY<=f.maxY}function g(f,p){return p.minX<=f.maxX&&p.minY<=f.maxY&&p.maxX>=f.minX&&p.maxY>=f.minY}function m(f){return{children:f,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(f,p,_,b,y){for(var w=[p,_];w.length;)if(!((_=w.pop())-(p=w.pop())<=b)){var x=p+Math.ceil((_-p)/b/2)*b;n(f,x,p,_,y),w.push(p,x,x,_)}}return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(f){var p=this.data,_=[];if(!g(f,p))return _;for(var b=this.toBBox,y=[];p;){for(var w=0;w<p.children.length;w++){var x=p.children[w],I=p.leaf?b(x):x;g(f,I)&&(p.leaf?_.push(x):d(f,I)?this._all(x,_):y.push(x))}p=y.pop()}return _},e.prototype.collides=function(f){var p=this.data;if(!g(f,p))return!1;for(var _=[];p;){for(var b=0;b<p.children.length;b++){var y=p.children[b],w=p.leaf?this.toBBox(y):y;if(g(f,w)){if(p.leaf||d(f,w))return!0;_.push(y)}}p=_.pop()}return!1},e.prototype.load=function(f){if(!f||!f.length)return this;if(f.length<this._minEntries){for(var p=0;p<f.length;p++)this.insert(f[p]);return this}var _=this._build(f.slice(),0,f.length-1,0);if(this.data.children.length)if(this.data.height===_.height)this._splitRoot(this.data,_);else{if(this.data.height<_.height){var b=this.data;this.data=_,_=b}this._insert(_,this.data.height-_.height-1,!0)}else this.data=_;return this},e.prototype.insert=function(f){return f&&this._insert(f,this.data.height-1),this},e.prototype.clear=function(){return this.data=m([]),this},e.prototype.remove=function(f,p){if(!f)return this;for(var _,b,y,w=this.data,x=this.toBBox(f),I=[],R=[];w||I.length;){if(w||(w=I.pop(),b=I[I.length-1],_=R.pop(),y=!0),w.leaf){var T=r(f,w.children,p);if(T!==-1)return w.children.splice(T,1),I.push(w),this._condense(I),this}y||w.leaf||!d(w,x)?b?(_++,w=b.children[_],y=!1):w=null:(I.push(w),R.push(_),_=0,b=w,w=w.children[0])}return this},e.prototype.toBBox=function(f){return f},e.prototype.compareMinX=function(f,p){return f.minX-p.minX},e.prototype.compareMinY=function(f,p){return f.minY-p.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(f){return this.data=f,this},e.prototype._all=function(f,p){for(var _=[];f;)f.leaf?p.push.apply(p,f.children):_.push.apply(_,f.children),f=_.pop();return p},e.prototype._build=function(f,p,_,b){var y,w=_-p+1,x=this._maxEntries;if(w<=x)return s(y=m(f.slice(p,_+1)),this.toBBox),y;b||(b=Math.ceil(Math.log(w)/Math.log(x)),x=Math.ceil(w/Math.pow(x,b-1))),(y=m([])).leaf=!1,y.height=b;var I=Math.ceil(w/x),R=I*Math.ceil(Math.sqrt(x));v(f,p,_,R,this.compareMinX);for(var T=p;T<=_;T+=R){var W=Math.min(T+R-1,_);v(f,T,W,I,this.compareMinY);for(var z=T;z<=W;z+=I){var it=Math.min(z+I-1,W);y.children.push(this._build(f,z,it,b-1))}}return s(y,this.toBBox),y},e.prototype._chooseSubtree=function(f,p,_,b){for(;b.push(p),!p.leaf&&b.length-1!==_;){for(var y=1/0,w=1/0,x=void 0,I=0;I<p.children.length;I++){var R=p.children[I],T=h(R),W=(z=f,it=R,(Math.max(it.maxX,z.maxX)-Math.min(it.minX,z.minX))*(Math.max(it.maxY,z.maxY)-Math.min(it.minY,z.minY))-T);W<w?(w=W,y=T<y?T:y,x=R):W===w&&T<y&&(y=T,x=R)}p=x||p.children[0]}var z,it;return p},e.prototype._insert=function(f,p,_){var b=_?f:this.toBBox(f),y=[],w=this._chooseSubtree(b,this.data,p,y);for(w.children.push(f),a(w,b);p>=0&&y[p].children.length>this._maxEntries;)this._split(y,p),p--;this._adjustParentBBoxes(b,y,p)},e.prototype._split=function(f,p){var _=f[p],b=_.children.length,y=this._minEntries;this._chooseSplitAxis(_,y,b);var w=this._chooseSplitIndex(_,y,b),x=m(_.children.splice(w,_.children.length-w));x.height=_.height,x.leaf=_.leaf,s(_,this.toBBox),s(x,this.toBBox),p?f[p-1].children.push(x):this._splitRoot(_,x)},e.prototype._splitRoot=function(f,p){this.data=m([f,p]),this.data.height=f.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(f,p,_){for(var b,y,w,x,I,R,T,W=1/0,z=1/0,it=p;it<=_-p;it++){var Wt=o(f,0,it,this.toBBox),Nt=o(f,it,_,this.toBBox),Ft=(y=Wt,w=Nt,x=void 0,I=void 0,R=void 0,T=void 0,x=Math.max(y.minX,w.minX),I=Math.max(y.minY,w.minY),R=Math.min(y.maxX,w.maxX),T=Math.min(y.maxY,w.maxY),Math.max(0,R-x)*Math.max(0,T-I)),Mt=h(Wt)+h(Nt);Ft<W?(W=Ft,b=it,z=Mt<z?Mt:z):Ft===W&&Mt<z&&(z=Mt,b=it)}return b||_-p},e.prototype._chooseSplitAxis=function(f,p,_){var b=f.leaf?this.compareMinX:l,y=f.leaf?this.compareMinY:c;this._allDistMargin(f,p,_,b)<this._allDistMargin(f,p,_,y)&&f.children.sort(b)},e.prototype._allDistMargin=function(f,p,_,b){f.children.sort(b);for(var y=this.toBBox,w=o(f,0,p,y),x=o(f,_-p,_,y),I=u(w)+u(x),R=p;R<_-p;R++){var T=f.children[R];a(w,f.leaf?y(T):T),I+=u(w)}for(var W=_-p-1;W>=p;W--){var z=f.children[W];a(x,f.leaf?y(z):z),I+=u(x)}return I},e.prototype._adjustParentBBoxes=function(f,p,_){for(var b=_;b>=0;b--)a(p[b],f)},e.prototype._condense=function(f){for(var p=f.length-1,_=void 0;p>=0;p--)f[p].children.length===0?p>0?(_=f[p-1].children).splice(_.indexOf(f[p]),1):this.clear():s(f[p],this.toBBox)},e})});var Ka=class extends kd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qa=class n extends Ka{static makeCurrent(){Pd(new n)}onAndCancel(t,i,e){return t.addEventListener(i,e),()=>{t.removeEventListener(i,e)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=z_();return i==null?null:U_(i)}resetBaseElement(){Mr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Fd(document.cookie,t)}},Mr=null;function z_(){return Mr=Mr||document.querySelector("base"),Mr?Mr.getAttribute("href"):null}function U_(n){return new URL(n,document.baseURI).pathname}var B_=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac});let n=t;return n})(),Qa=new tt(""),Xd=(()=>{let t=class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,s){return this._findPluginFor(r).addEventListener(e,r,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new ut(5101,!1);return this._eventNameToPlugin.set(e,r),r}};t.\u0275fac=function(r){return new(r||t)(C(Qa),C(Z))},t.\u0275prov=O({token:t,factory:t.\u0275fac});let n=t;return n})(),eo=class{constructor(t){this._doc=t}},$a="ng-app-id",Yd=(()=>{let t=class t{constructor(e,r,s,o={}){this.doc=e,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ya(o),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(s=>s.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${$a}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(e,r){let s=this.styleRef;if(s.has(e)){let o=s.get(e);return o.usage+=r,o.usage}return s.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===e)return s.delete(r),o.removeAttribute($a),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute($a,this.appId),e.appendChild(a),a}}addStyleToHost(e,r){let s=this.getStyleElement(e,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(C(G),C(Zs),C(Ir,8),C(Gi))},t.\u0275prov=O({token:t,factory:t.\u0275fac});let n=t;return n})(),Za={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tl=/%COMP%/g,$d="%COMP%",V_=`_nghost-${$d}`,G_=`_ngcontent-${$d}`,H_=!0,W_=new tt("",{providedIn:"root",factory:()=>H_});function X_(n){return G_.replace(tl,n)}function Y_(n){return V_.replace(tl,n)}function Zd(n,t){return t.map(i=>i.replace(tl,n))}var Vd=(()=>{let t=class t{constructor(e,r,s,o,a,l,c,h=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ya(l),this.defaultRenderer=new Dr(e,a,c,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xr.ShadowDom&&(r=ft(S({},r),{encapsulation:xr.Emulated}));let s=this.getOrCreateRenderer(e,r);return s instanceof io?s.applyToHost(e):s instanceof Or&&s.applyStyles(),s}getOrCreateRenderer(e,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case xr.Emulated:o=new io(c,h,r,this.appId,u,a,l,d);break;case xr.ShadowDom:return new Ja(c,h,e,r,a,l,this.nonce,d);default:o=new Or(c,h,r,u,a,l,d);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(C(Xd),C(Yd),C(Zs),C(W_),C(G),C(Gi),C(Z),C(Ir))},t.\u0275prov=O({token:t,factory:t.\u0275fac});let n=t;return n})(),Dr=class{constructor(t,i,e,r){this.eventManager=t,this.doc=i,this.ngZone=e,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Za[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Gd(t)?t.content:t).appendChild(i)}insertBefore(t,i,e){t&&(Gd(t)?t.content:t).insertBefore(i,e)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let e=typeof t=="string"?this.doc.querySelector(t):t;if(!e)throw new ut(-5104,!1);return i||(e.textContent=""),e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,e,r){if(r){i=r+":"+i;let s=Za[r];s?t.setAttributeNS(s,i,e):t.setAttribute(i,e)}else t.setAttribute(i,e)}removeAttribute(t,i,e){if(e){let r=Za[e];r?t.removeAttributeNS(r,i):t.removeAttribute(`${e}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,e,r){r&(Tr.DashCase|Tr.Important)?t.style.setProperty(i,e,r&Tr.Important?"important":""):t.style[i]=e}removeStyle(t,i,e){e&Tr.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,e){t!=null&&(t[i]=e)}setValue(t,i){t.nodeValue=i}listen(t,i,e){if(typeof t=="string"&&(t=Xa().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(e))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function Gd(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ja=class extends Dr{constructor(t,i,e,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=i,this.hostEl=e,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Zd(r.id,r.styles);for(let h of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=h,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,e){return super.insertBefore(this.nodeOrShadowRoot(t),i,e)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Or=class extends Dr{constructor(t,i,e,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?Zd(l,e.styles):e.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},io=class extends Or{constructor(t,i,e,r,s,o,a,l){let c=r+"-"+e.id;super(t,i,e,s,o,a,l,c),this.contentAttr=X_(c),this.hostAttr=Y_(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let e=super.createElement(t,i);return super.setAttribute(e,this.contentAttr,""),e}},$_=(()=>{let t=class t extends eo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,s){return e.addEventListener(r,s,!1),()=>this.removeEventListener(e,r,s)}removeEventListener(e,r,s){return e.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac});let n=t;return n})(),Hd=["alt","control","meta","shift"],Z_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K_={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},q_=(()=>{let t=class t extends eo{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(e,o.domEventName,a))}static parseEventName(e){let r=e.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),Hd.forEach(h=>{let u=r.indexOf(h);u>-1&&(r.splice(u,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(e,r){let s=Z_[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(s=e.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Hd.forEach(a=>{if(a!==s){let l=K_[a];l(e)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(e,r,s){return o=>{t.matchEventFullKeyCode(o,e)&&s.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}};t.\u0275fac=function(r){return new(r||t)(C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac});let n=t;return n})();function sE(n,t){return Od(S({rootComponent:n},Q_(t)))}function Q_(n){return{appProviders:[...nv,...n?.providers??[]],platformProviders:iv}}function J_(){qa.makeCurrent()}function tv(){return new za}function ev(){return ud(document),document}var iv=[{provide:Gi,useValue:zd},{provide:dd,useValue:J_,multi:!0},{provide:G,useFactory:ev,deps:[]}];var nv=[{provide:hd,useValue:"root"},{provide:za,useFactory:tv,deps:[]},{provide:Qa,useClass:$_,multi:!0,deps:[G,Z,Gi]},{provide:Qa,useClass:q_,multi:!0,deps:[G]},Vd,Yd,Xd,{provide:Cd,useExisting:Vd},{provide:Bd,useClass:B_,deps:[]},[]];var Kd=(()=>{let t=class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}};t.\u0275fac=function(r){return new(r||t)(C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var el=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=C(rv),s},providedIn:"root"});let n=t;return n})(),rv=(()=>{let t=class t extends el{constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case Hi.NONE:return r;case Hi.HTML:return In(r,"HTML")?Rn(r):yd(this._doc,String(r)).toString();case Hi.STYLE:return In(r,"Style")?Rn(r):r;case Hi.SCRIPT:if(In(r,"Script"))return Rn(r);throw new ut(5200,!1);case Hi.URL:return In(r,"URL")?Rn(r):vd(String(r));case Hi.RESOURCE_URL:if(In(r,"ResourceURL"))return Rn(r);throw new ut(5201,!1);default:throw new ut(5202,!1)}}bypassSecurityTrustHtml(e){return fd(e)}bypassSecurityTrustStyle(e){return pd(e)}bypassSecurityTrustScript(e){return gd(e)}bypassSecurityTrustUrl(e){return md(e)}bypassSecurityTrustResourceUrl(e){return _d(e)}};t.\u0275fac=function(r){return new(r||t)(C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var F="primary",$r=Symbol("RouteTitle"),ol=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function On(n){return new ol(n)}function sv(n,t,i){let e=i.path.split("/");if(e.length>n.length||i.pathMatch==="full"&&(t.hasChildren()||e.length<n.length))return null;let r={};for(let s=0;s<e.length;s++){let o=e[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,e.length),posParams:r}}function ov(n,t){if(n.length!==t.length)return!1;for(let i=0;i<n.length;++i)if(!ke(n[i],t[i]))return!1;return!0}function ke(n,t){let i=n?al(n):void 0,e=t?al(t):void 0;if(!i||!e||i.length!=e.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!rf(n[r],t[r]))return!1;return!0}function al(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let i=[...n].sort(),e=[...t].sort();return i.every((r,s)=>e[s]===r)}else return n===t}function sf(n){return n.length>0?n[n.length-1]:null}function wi(n){return Da(n)?n:Md(n)?ye(Promise.resolve(n)):k(n)}var av={exact:af,subset:lf},of={exact:lv,subset:cv,ignored:()=>!0};function Qd(n,t,i){return av[i.paths](n.root,t.root,i.matrixParams)&&of[i.queryParams](n.queryParams,t.queryParams)&&!(i.fragment==="exact"&&n.fragment!==t.fragment)}function lv(n,t){return ke(n,t)}function af(n,t,i){if(!Ji(n.segments,t.segments)||!so(n.segments,t.segments,i)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let e in t.children)if(!n.children[e]||!af(n.children[e],t.children[e],i))return!1;return!0}function cv(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(i=>rf(n[i],t[i]))}function lf(n,t,i){return cf(n,t,t.segments,i)}function cf(n,t,i,e){if(n.segments.length>i.length){let r=n.segments.slice(0,i.length);return!(!Ji(r,i)||t.hasChildren()||!so(r,i,e))}else if(n.segments.length===i.length){if(!Ji(n.segments,i)||!so(n.segments,i,e))return!1;for(let r in t.children)if(!n.children[r]||!lf(n.children[r],t.children[r],e))return!1;return!0}else{let r=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!Ji(n.segments,r)||!so(n.segments,r,e)||!n.children[F]?!1:cf(n.children[F],t,s,e)}}function so(n,t,i){return t.every((e,r)=>of[i](n[r].parameters,e.parameters))}var _i=class{constructor(t=new Q([],{}),i={},e=null){this.root=t,this.queryParams=i,this.fragment=e}get queryParamMap(){return this._queryParamMap??=On(this.queryParams),this._queryParamMap}toString(){return dv.serialize(this)}},Q=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(e=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oo(this)}},Qi=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=On(this.parameters),this._parameterMap}toString(){return uf(this)}};function hv(n,t){return Ji(n,t)&&n.every((i,e)=>ke(i.parameters,t[e].parameters))}function Ji(n,t){return n.length!==t.length?!1:n.every((i,e)=>i.path===t[e].path)}function uv(n,t){let i=[];return Object.entries(n.children).forEach(([e,r])=>{e===F&&(i=i.concat(t(r,e)))}),Object.entries(n.children).forEach(([e,r])=>{e!==F&&(i=i.concat(t(r,e)))}),i}var kl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:()=>new lo,providedIn:"root"});let n=t;return n})(),lo=class{parse(t){let i=new cl(t);return new _i(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${Pr(t.root,!0)}`,e=gv(t.queryParams),r=typeof t.fragment=="string"?`#${fv(t.fragment)}`:"";return`${i}${e}${r}`}},dv=new lo;function oo(n){return n.segments.map(t=>uf(t)).join("/")}function Pr(n,t){if(!n.hasChildren())return oo(n);if(t){let i=n.children[F]?Pr(n.children[F],!1):"",e=[];return Object.entries(n.children).forEach(([r,s])=>{r!==F&&e.push(`${r}:${Pr(s,!1)}`)}),e.length>0?`${i}(${e.join("//")})`:i}else{let i=uv(n,(e,r)=>r===F?[Pr(n.children[F],!1)]:[`${r}:${Pr(e,!1)}`]);return Object.keys(n.children).length===1&&n.children[F]!=null?`${oo(n)}/${i[0]}`:`${oo(n)}/(${i.join("//")})`}}function hf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function no(n){return hf(n).replace(/%3B/gi,";")}function fv(n){return encodeURI(n)}function ll(n){return hf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ao(n){return decodeURIComponent(n)}function Jd(n){return ao(n.replace(/\+/g,"%20"))}function uf(n){return`${ll(n.path)}${pv(n.parameters)}`}function pv(n){return Object.entries(n).map(([t,i])=>`;${ll(t)}=${ll(i)}`).join("")}function gv(n){let t=Object.entries(n).map(([i,e])=>Array.isArray(e)?e.map(r=>`${no(i)}=${no(r)}`).join("&"):`${no(i)}=${no(e)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var mv=/^[^\/()?;#]+/;function il(n){let t=n.match(mv);return t?t[0]:""}var _v=/^[^\/()?;=#]+/;function vv(n){let t=n.match(_v);return t?t[0]:""}var yv=/^[^=?&#]+/;function wv(n){let t=n.match(yv);return t?t[0]:""}var bv=/^[^&#]+/;function Ev(n){let t=n.match(bv);return t?t[0]:""}var cl=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(e[F]=new Q(t,i)),e}parseSegment(){let t=il(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ut(4009,!1);return this.capture(t),new Qi(ao(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=vv(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let r=il(this.remaining);r&&(e=r,this.capture(e))}t[ao(i)]=ao(e)}parseQueryParam(t){let i=wv(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let o=Ev(this.remaining);o&&(e=o,this.capture(e))}let r=Jd(i),s=Jd(e);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let e=il(this.remaining),r=this.remaining[e.length];if(r!=="/"&&r!==")"&&r!==";")throw new ut(4010,!1);let s;e.indexOf(":")>-1?(s=e.slice(0,e.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=F);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[F]:new Q([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ut(4011,!1)}};function df(n){return n.segments.length>0?new Q([],{[F]:n}):n}function ff(n){let t={};for(let[e,r]of Object.entries(n.children)){let s=ff(r);if(e===F&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[e]=s)}let i=new Q(n.segments,t);return Cv(i)}function Cv(n){if(n.numberOfChildren===1&&n.children[F]){let t=n.children[F];return new Q(n.segments.concat(t.segments),t.children)}return n}function Pn(n){return n instanceof _i}function xv(n,t,i=null,e=null){let r=pf(n);return gf(r,t,i,e)}function pf(n){let t;function i(s){let o={};for(let l of s.children){let c=i(l);o[l.outlet]=c}let a=new Q(s.url,o);return s===n&&(t=a),a}let e=i(n.root),r=df(e);return t??r}function gf(n,t,i,e){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return nl(r,r,r,i,e);let s=Rv(t);if(s.toRoot())return nl(r,r,new Q([],{}),i,e);let o=Iv(s,r,n),a=o.processChildren?Nr(o.segmentGroup,o.index,s.commands):_f(o.segmentGroup,o.index,s.commands);return nl(r,o.segmentGroup,a,i,e)}function co(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function zr(n){return typeof n=="object"&&n!=null&&n.outlets}function nl(n,t,i,e,r){let s={};e&&Object.entries(e).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let o;n===t?o=i:o=mf(n,t,i);let a=df(ff(o));return new _i(a,s,r)}function mf(n,t,i){let e={};return Object.entries(n.children).forEach(([r,s])=>{s===t?e[r]=i:e[r]=mf(s,t,i)}),new Q(n.segments,e)}var ho=class{constructor(t,i,e){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=e,t&&e.length>0&&co(e[0]))throw new ut(4003,!1);let r=e.find(zr);if(r&&r!==sf(e))throw new ut(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rv(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ho(!0,0,n);let t=0,i=!1,e=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new ho(i,t,e)}var Mn=class{constructor(t,i,e){this.segmentGroup=t,this.processChildren=i,this.index=e}};function Iv(n,t,i){if(n.isAbsolute)return new Mn(t,!0,0);if(!i)return new Mn(t,!1,NaN);if(i.parent===null)return new Mn(i,!0,0);let e=co(n.commands[0])?0:1,r=i.segments.length-1+e;return Tv(i,r,n.numberOfDoubleDots)}function Tv(n,t,i){let e=n,r=t,s=i;for(;s>r;){if(s-=r,e=e.parent,!e)throw new ut(4005,!1);r=e.segments.length}return new Mn(e,!1,r-s)}function Sv(n){return zr(n[0])?n[0].outlets:{[F]:n}}function _f(n,t,i){if(n??=new Q([],{}),n.segments.length===0&&n.hasChildren())return Nr(n,t,i);let e=Av(n,t,i),r=i.slice(e.commandIndex);if(e.match&&e.pathIndex<n.segments.length){let s=new Q(n.segments.slice(0,e.pathIndex),{});return s.children[F]=new Q(n.segments.slice(e.pathIndex),n.children),Nr(s,0,r)}else return e.match&&r.length===0?new Q(n.segments,{}):e.match&&!n.hasChildren()?hl(n,t,i):e.match?Nr(n,0,r):hl(n,t,i)}function Nr(n,t,i){if(i.length===0)return new Q(n.segments,{});{let e=Sv(i),r={};if(Object.keys(e).some(s=>s!==F)&&n.children[F]&&n.numberOfChildren===1&&n.children[F].segments.length===0){let s=Nr(n.children[F],t,i);return new Q(n.segments,s.children)}return Object.entries(e).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=_f(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{e[s]===void 0&&(r[s]=o)}),new Q(n.segments,r)}}function Av(n,t,i){let e=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(e>=i.length)return s;let o=n.segments[r],a=i[e];if(zr(a))break;let l=`${a}`,c=e<i.length-1?i[e+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!ef(l,c,o))return s;e+=2}else{if(!ef(l,{},o))return s;e++}r++}return{match:!0,pathIndex:r,commandIndex:e}}function hl(n,t,i){let e=n.segments.slice(0,t),r=0;for(;r<i.length;){let s=i[r];if(zr(s)){let l=Mv(s.outlets);return new Q(e,l)}if(r===0&&co(i[0])){let l=n.segments[t];e.push(new Qi(l.path,tf(i[0]))),r++;continue}let o=zr(s)?s.outlets[F]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&co(a)?(e.push(new Qi(o,tf(a))),r+=2):(e.push(new Qi(o,{})),r++)}return new Q(e,{})}function Mv(n){let t={};return Object.entries(n).forEach(([i,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(t[i]=hl(new Q([],{}),0,e))}),t}function tf(n){let t={};return Object.entries(n).forEach(([i,e])=>t[i]=`${e}`),t}function ef(n,t,i){return n==i.path&&ke(t,i.parameters)}var Fr="imperative",Tt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Tt||{}),ue=class{constructor(t,i){this.id=t,this.url=i}},Ur=class extends ue{constructor(t,i,e="imperative",r=null){super(t,i),this.type=Tt.NavigationStart,this.navigationTrigger=e,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends ue{constructor(t,i,e){super(t,i),this.urlAfterRedirects=e,this.type=Tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ie=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ie||{}),ul=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ul||{}),vi=class extends ue{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=Tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},en=class extends ue{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=Tt.NavigationSkipped}},Br=class extends ue{constructor(t,i,e,r){super(t,i),this.error=e,this.target=r,this.type=Tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},uo=class extends ue{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dl=class extends ue{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fl=class extends ue{constructor(t,i,e,r,s){super(t,i),this.urlAfterRedirects=e,this.state=r,this.shouldActivate=s,this.type=Tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pl=class extends ue{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gl=class extends ue{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ml=class{constructor(t){this.route=t,this.type=Tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_l=class{constructor(t){this.route=t,this.type=Tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vl=class{constructor(t){this.snapshot=t,this.type=Tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yl=class{constructor(t){this.snapshot=t,this.type=Tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wl=class{constructor(t){this.snapshot=t,this.type=Tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bl=class{constructor(t){this.snapshot=t,this.type=Tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Vr=class{},Gr=class{constructor(t){this.url=t}};var El=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vo,this.attachRef=null}},vo=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){let s=this.getOrCreateContext(e);s.outlet=r,this.contexts.set(e,s)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new El,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),fo=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Cl(t,this._root);return i?i.children.map(e=>e.value):[]}firstChild(t){let i=Cl(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=xl(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return xl(t,this._root).map(i=>i.value)}};function Cl(n,t){if(n===t.value)return t;for(let i of t.children){let e=Cl(n,i);if(e)return e}return null}function xl(n,t){if(n===t.value)return[t];for(let i of t.children){let e=xl(n,i);if(e.length)return e.unshift(t),e}return[]}var ee=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function An(n){let t={};return n&&n.children.forEach(i=>t[i.value.outlet]=i),t}var po=class extends fo{constructor(t,i){super(t),this.snapshot=i,Nl(this,t)}toString(){return this.snapshot.toString()}};function vf(n){let t=Dv(n),i=new Yt([new Qi("",{})]),e=new Yt({}),r=new Yt({}),s=new Yt({}),o=new Yt(""),a=new yi(i,e,s,o,r,F,n,t.root);return a.snapshot=t.root,new po(new ee(a,[]),t)}function Dv(n){let t={},i={},e={},r="",s=new Hr([],t,e,r,i,F,n,null,{});return new go("",new ee(s,[]))}var yi=class{constructor(t,i,e,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=e,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[$r]))??k(void 0),this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(t=>On(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(t=>On(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ll(n,t,i="emptyOnly"){let e,{routeConfig:r}=n;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?e={params:S(S({},t.params),n.params),data:S(S({},t.data),n.data),resolve:S(S(S(S({},n.data),t.data),r?.data),n._resolvedData)}:e={params:S({},n.params),data:S({},n.data),resolve:S(S({},n.data),n._resolvedData??{})},r&&wf(r)&&(e.resolve[$r]=r.title),e}var Hr=class{get title(){return this.data?.[$r]}constructor(t,i,e,r,s,o,a,l,c){this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=On(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=On(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(e=>e.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},go=class extends fo{constructor(t,i){super(i),this.url=t,Nl(this,i)}toString(){return yf(this._root)}};function Nl(n,t){t.value._routerState=n,t.children.forEach(i=>Nl(n,i))}function yf(n){let t=n.children.length>0?` { ${n.children.map(yf).join(", ")} } `:"";return`${n.value}${t}`}function rl(n){if(n.snapshot){let t=n.snapshot,i=n._futureSnapshot;n.snapshot=i,ke(t.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),ke(t.params,i.params)||n.paramsSubject.next(i.params),ov(t.url,i.url)||n.urlSubject.next(i.url),ke(t.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Rl(n,t){let i=ke(n.params,t.params)&&hv(n.url,t.url),e=!n.parent!=!t.parent;return i&&!e&&(!n.parent||Rl(n.parent,t.parent))}function wf(n){return typeof n.title=="string"||n.title===null}var Ov=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=F,this.activateEvents=new $t,this.deactivateEvents=new $t,this.attachEvents=new $t,this.detachEvents=new $t,this.parentContexts=P(vo),this.location=P(Tn),this.changeDetector=P(Ki),this.environmentInjector=P($s),this.inputBinder=P(Fl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:s}=e.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ut(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ut(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ut(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new ut(4013,!1);this._activatedRoute=e;let s=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Il(e,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=be({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cn]});let n=t;return n})(),Il=class{constructor(t,i,e){this.route=t,this.childContexts=i,this.parent=e,this.__ngOutletInjector=!0}get(t,i){return t===yi?this.route:t===vo?this.childContexts:this.parent.get(t,i)}},Fl=new tt("");function Pv(n,t,i){let e=Wr(n,t._root,i?i._root:void 0);return new po(e,t)}function Wr(n,t,i){if(i&&n.shouldReuseRoute(t.value,i.value.snapshot)){let e=i.value;e._futureSnapshot=t.value;let r=kv(n,t,i);return new ee(e,r)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Wr(n,a)),o}}let e=Lv(t.value),r=t.children.map(s=>Wr(n,s));return new ee(e,r)}}function kv(n,t,i){return t.children.map(e=>{for(let r of i.children)if(n.shouldReuseRoute(e.value,r.value.snapshot))return Wr(n,e,r);return Wr(n,e)})}function Lv(n){return new yi(new Yt(n.url),new Yt(n.params),new Yt(n.queryParams),new Yt(n.fragment),new Yt(n.data),n.outlet,n.component,n)}var bf="ngNavigationCancelingError";function Ef(n,t){let{redirectTo:i,navigationBehaviorOptions:e}=Pn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Cf(!1,ie.Redirect);return r.url=i,r.navigationBehaviorOptions=e,r}function Cf(n,t){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[bf]=!0,i.cancellationCode=t,i}function Nv(n){return xf(n)&&Pn(n.url)}function xf(n){return!!n&&n[bf]}var Fv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=he({type:t,selectors:[["ng-component"]],standalone:!0,features:[Pe],decls:1,vars:0,template:function(r,s){r&1&&Oe(0,"router-outlet")},dependencies:[Ov],encapsulation:2});let n=t;return n})();function jv(n,t){return n.providers&&!n._injector&&(n._injector=Rd(n.providers,t,`Route: ${n.path}`)),n._injector??t}function jl(n){let t=n.children&&n.children.map(jl),i=t?ft(S({},n),{children:t}):S({},n);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==F&&(i.component=Fv),i}function Le(n){return n.outlet||F}function zv(n,t){let i=n.filter(e=>Le(e)===t);return i.push(...n.filter(e=>Le(e)!==t)),i}function Zr(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Uv=(n,t,i,e)=>J(r=>(new Tl(t,r.targetRouterState,r.currentRouterState,i,e).activate(n),r)),Tl=class{constructor(t,i,e,r,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=e,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let i=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,e,t),rl(this.futureState.root),this.activateChildRoutes(i,e,t)}deactivateChildRoutes(t,i,e){let r=An(i);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],e),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,e)})}deactivateRoutes(t,i,e){let r=t.value,s=i?i.value:null;if(r===s)if(r.component){let o=e.getContext(r.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,e);else s&&this.deactivateRouteAndItsChildren(i,e)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,s=An(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(e&&e.outlet){let o=e.outlet.detach(),a=e.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,s=An(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);e&&(e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated()),e.attachRef=null,e.route=null)}activateChildRoutes(t,i,e){let r=An(i);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],e),this.forwardEvent(new bl(s.value.snapshot))}),t.children.length&&this.forwardEvent(new yl(t.value.snapshot))}activateRoutes(t,i,e){let r=t.value,s=i?i.value:null;if(rl(r),r===s)if(r.component){let o=e.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,e);else if(r.component){let o=e.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rl(a.route.value),this.activateChildRoutes(t,null,o.children)}else{let a=Zr(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,e)}},mo=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Dn=class{constructor(t,i){this.component=t,this.route=i}};function Bv(n,t,i){let e=n._root,r=t?t._root:null;return kr(e,r,i,[e.value])}function Vv(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Ln(n,t){let i=Symbol(),e=t.get(n,i);return e===i?typeof n=="function"&&!ld(n)?n:t.get(n):e}function kr(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=An(t);return n.children.forEach(o=>{Gv(o,s[o.value.outlet],i,e.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>jr(a,i.getContext(o),r)),r}function Gv(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,a=i?i.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Hv(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new mo(e)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?kr(n,t,a?a.children:null,e,r):kr(n,t,i,e,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Dn(a.outlet.component,o))}else o&&jr(t,a,r),r.canActivateChecks.push(new mo(e)),s.component?kr(n,null,a?a.children:null,e,r):kr(n,null,i,e,r);return r}function Hv(n,t,i){if(typeof i=="function")return i(n,t);switch(i){case"pathParamsChange":return!Ji(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ji(n.url,t.url)||!ke(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rl(n,t)||!ke(n.queryParams,t.queryParams);case"paramsChange":default:return!Rl(n,t)}}function jr(n,t,i){let e=An(n),r=n.value;Object.entries(e).forEach(([s,o])=>{r.component?t?jr(o,t.children.getContext(s),i):jr(o,null,i):jr(o,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Dn(t.outlet.component,r)):i.canDeactivateChecks.push(new Dn(null,r)):i.canDeactivateChecks.push(new Dn(null,r))}function Kr(n){return typeof n=="function"}function Wv(n){return typeof n=="boolean"}function Xv(n){return n&&Kr(n.canLoad)}function Yv(n){return n&&Kr(n.canActivate)}function $v(n){return n&&Kr(n.canActivateChild)}function Zv(n){return n&&Kr(n.canDeactivate)}function Kv(n){return n&&Kr(n.canMatch)}function Rf(n){return n instanceof nd||n?.name==="EmptyError"}var ro=Symbol("INITIAL_VALUE");function kn(){return we(n=>Er(n.map(t=>t.pipe(Ot(1),Ye(ro)))).pipe(J(t=>{for(let i of t)if(i!==!0){if(i===ro)return ro;if(i===!1||i instanceof _i)return i}return!0}),Dt(t=>t!==ro),Ot(1)))}function qv(n,t){return ce(i=>{let{targetSnapshot:e,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?k(ft(S({},i),{guardsResult:!0})):Qv(o,e,r,n).pipe(ce(a=>a&&Wv(a)?Jv(e,s,n,t):k(a)),J(a=>ft(S({},i),{guardsResult:a})))})}function Qv(n,t,i,e){return ye(n).pipe(ce(r=>ry(r.component,r.route,i,t,e)),di(r=>r!==!0,!0))}function Jv(n,t,i,e){return ye(t).pipe(Cr(r=>Hs(ey(r.route.parent,e),ty(r.route,e),ny(n,r.path,i),iy(n,r.route,i))),di(r=>r!==!0,!0))}function ty(n,t){return n!==null&&t&&t(new wl(n)),k(!0)}function ey(n,t){return n!==null&&t&&t(new vl(n)),k(!0)}function iy(n,t,i){let e=t.routeConfig?t.routeConfig.canActivate:null;if(!e||e.length===0)return k(!0);let r=e.map(s=>zi(()=>{let o=Zr(t)??i,a=Ln(s,o),l=Yv(a)?a.canActivate(t,n):Ui(o,()=>a(t,n));return wi(l).pipe(di())}));return k(r).pipe(kn())}function ny(n,t,i){let e=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>Vv(o)).filter(o=>o!==null).map(o=>zi(()=>{let a=o.guards.map(l=>{let c=Zr(o.node)??i,h=Ln(l,c),u=$v(h)?h.canActivateChild(e,n):Ui(c,()=>h(e,n));return wi(u).pipe(di())});return k(a).pipe(kn())}));return k(s).pipe(kn())}function ry(n,t,i,e,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return k(!0);let o=s.map(a=>{let l=Zr(t)??r,c=Ln(a,l),h=Zv(c)?c.canDeactivate(n,t,i,e):Ui(l,()=>c(n,t,i,e));return wi(h).pipe(di())});return k(o).pipe(kn())}function sy(n,t,i,e){let r=t.canLoad;if(r===void 0||r.length===0)return k(!0);let s=r.map(o=>{let a=Ln(o,n),l=Xv(a)?a.canLoad(t,i):Ui(n,()=>a(t,i));return wi(l)});return k(s).pipe(kn(),If(e))}function If(n){return id(Rt(t=>{if(Pn(t))throw Ef(n,t)}),J(t=>t===!0))}function oy(n,t,i,e){let r=t.canMatch;if(!r||r.length===0)return k(!0);let s=r.map(o=>{let a=Ln(o,n),l=Kv(a)?a.canMatch(t,i):Ui(n,()=>a(t,i));return wi(l)});return k(s).pipe(kn(),If(e))}var Xr=class{constructor(t){this.segmentGroup=t||null}},_o=class extends Error{constructor(t){super(),this.urlTree=t}};function Sn(n){return br(new Xr(n))}function ay(n){return br(new ut(4e3,!1))}function ly(n){return br(Cf(!1,ie.GuardRejected))}var Sl=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let e=[],r=i.root;for(;;){if(e=e.concat(r.segments),r.numberOfChildren===0)return k(e);if(r.numberOfChildren>1||!r.children[F])return ay(t.redirectTo);r=r.children[F]}}applyRedirectCommands(t,i,e){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,e);if(i.startsWith("/"))throw new _o(r);return r}applyRedirectCreateUrlTree(t,i,e,r){let s=this.createSegmentGroup(t,i.root,e,r);return new _i(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let e={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);e[r]=i[a]}else e[r]=s}),e}createSegmentGroup(t,i,e,r){let s=this.createSegments(t,i.segments,e,r),o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,e,r)}),new Q(s,o)}createSegments(t,i,e,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,e))}findPosParam(t,i,e){let r=e[i.path.substring(1)];if(!r)throw new ut(4001,!1);return r}findOrReturn(t,i){let e=0;for(let r of i){if(r.path===t.path)return i.splice(e),r;e++}return t}},Al={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cy(n,t,i,e,r){let s=zl(n,t,i);return s.matched?(e=jv(t,e),oy(e,t,i,r).pipe(J(o=>o===!0?s:S({},Al)))):k(s)}function zl(n,t,i){if(t.path==="**")return hy(i);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||i.length>0)?S({},Al):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||sv)(i,n,t);if(!r)return S({},Al);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?S(S({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function hy(n){return{matched:!0,parameters:n.length>0?sf(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nf(n,t,i,e){return i.length>0&&fy(n,i,e)?{segmentGroup:new Q(t,dy(e,new Q(i,n.children))),slicedSegments:[]}:i.length===0&&py(n,i,e)?{segmentGroup:new Q(n.segments,uy(n,i,e,n.children)),slicedSegments:i}:{segmentGroup:new Q(n.segments,n.children),slicedSegments:i}}function uy(n,t,i,e){let r={};for(let s of i)if(yo(n,t,s)&&!e[Le(s)]){let o=new Q([],{});r[Le(s)]=o}return S(S({},e),r)}function dy(n,t){let i={};i[F]=t;for(let e of n)if(e.path===""&&Le(e)!==F){let r=new Q([],{});i[Le(e)]=r}return i}function fy(n,t,i){return i.some(e=>yo(n,t,e)&&Le(e)!==F)}function py(n,t,i){return i.some(e=>yo(n,t,e))}function yo(n,t,i){return(n.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function gy(n,t,i,e){return Le(n)!==e&&(e===F||!yo(t,i,n))?!1:zl(t,n,i).matched}function my(n,t,i){return t.length===0&&!n.children[i]}var Ml=class{};function _y(n,t,i,e,r,s,o="emptyOnly"){return new Dl(n,t,i,e,r,o,s).recognize()}var vy=31,Dl=class{constructor(t,i,e,r,s,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=e,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Sl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ut(4002,`'${t.segmentGroup}'`)}recognize(){let t=nf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(J(i=>{let e=new Hr([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},F,this.rootComponentType,null,{}),r=new ee(e,i),s=new go("",r),o=xv(e,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,F).pipe(En(e=>{if(e instanceof _o)return this.urlTree=e.urlTree,this.match(e.urlTree.root);throw e instanceof Xr?this.noMatchError(e):e}))}inheritParamsAndData(t,i){let e=t.value,r=Ll(e,i,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,e))}processSegmentGroup(t,i,e,r){return e.segments.length===0&&e.hasChildren()?this.processChildren(t,i,e):this.processSegment(t,i,e,e.segments,r,!0).pipe(J(s=>s instanceof ee?[s]:[]))}processChildren(t,i,e){let r=[];for(let s of Object.keys(e.children))s==="primary"?r.unshift(s):r.push(s);return ye(r).pipe(Cr(s=>{let o=e.children[s],a=zv(i,s);return this.processSegmentGroup(t,a,o,s)}),ad((s,o)=>(s.push(...o),s)),ka(null),od(),ce(s=>{if(s===null)return Sn(e);let o=Tf(s);return yy(o),k(o)}))}processSegment(t,i,e,r,s,o){return ye(i).pipe(Cr(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,e,r,s,o).pipe(En(l=>{if(l instanceof Xr)return k(null);throw l}))),di(a=>!!a),En(a=>{if(Rf(a))return my(e,r,s)?k(new Ml):Sn(e);throw a}))}processSegmentAgainstRoute(t,i,e,r,s,o,a){return gy(e,r,s,o)?e.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,e,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,e,s,o):Sn(r):Sn(r)}expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:h}=zl(i,r,s);if(!a)return Sn(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vy&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,u).pipe(ce(d=>this.processSegment(t,e,i,d.concat(h),o,!1)))}matchSegmentAgainstRoute(t,i,e,r,s){let o=cy(i,e,r,t,this.urlSerializer);return e.path==="**"&&(i.children={}),o.pipe(we(a=>a.matched?(t=e._injector??t,this.getChildConfig(t,e,r).pipe(we(({routes:l})=>{let c=e._loadedInjector??t,{consumedSegments:h,remainingSegments:u,parameters:d}=a,g=new Hr(h,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,by(e),Le(e),e.component??e._loadedComponent??null,e,Ey(e)),{segmentGroup:m,slicedSegments:v}=nf(i,h,u,l);if(v.length===0&&m.hasChildren())return this.processChildren(c,l,m).pipe(J(p=>p===null?null:new ee(g,p)));if(l.length===0&&v.length===0)return k(new ee(g,[]));let f=Le(e)===s;return this.processSegment(c,l,m,v,f?F:s,!0).pipe(J(p=>new ee(g,p instanceof ee?[p]:[])))}))):Sn(i)))}getChildConfig(t,i,e){return i.children?k({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?k({routes:i._loadedRoutes,injector:i._loadedInjector}):sy(t,i,e,this.urlSerializer).pipe(ce(r=>r?this.configLoader.loadChildren(t,i).pipe(Rt(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):ly(i))):k({routes:[],injector:t})}};function yy(n){n.sort((t,i)=>t.value.outlet===F?-1:i.value.outlet===F?1:t.value.outlet.localeCompare(i.value.outlet))}function wy(n){let t=n.value.routeConfig;return t&&t.path===""}function Tf(n){let t=[],i=new Set;for(let e of n){if(!wy(e)){t.push(e);continue}let r=t.find(s=>e.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...e.children),i.add(r)):t.push(e)}for(let e of i){let r=Tf(e.children);t.push(new ee(e.value,r))}return t.filter(e=>!i.has(e))}function by(n){return n.data||{}}function Ey(n){return n.resolve||{}}function Cy(n,t,i,e,r,s){return ce(o=>_y(n,t,i,e,o.extractedUrl,r,s).pipe(J(({state:a,tree:l})=>ft(S({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function xy(n,t){return ce(i=>{let{targetSnapshot:e,guards:{canActivateChecks:r}}=i;if(!r.length)return k(i);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of Sf(l))o.add(c);let a=0;return ye(o).pipe(Cr(l=>s.has(l)?Ry(l,e,n,t):(l.data=Ll(l,l.parent,n).resolve,k(void 0))),Rt(()=>a++),Na(1),ce(l=>a===o.size?k(i):ui))})}function Sf(n){let t=n.children.map(i=>Sf(i)).flat();return[n,...t]}function Ry(n,t,i,e){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!wf(r)&&(s[$r]=r.title),Iy(s,n,t,e).pipe(J(o=>(n._resolvedData=o,n.data=Ll(n,n.parent,i).resolve,null)))}function Iy(n,t,i,e){let r=al(n);if(r.length===0)return k({});let s={};return ye(r).pipe(ce(o=>Ty(n[o],t,i,e).pipe(di(),Rt(a=>{s[o]=a}))),Na(1),sd(s),En(o=>Rf(o)?ui:br(o)))}function Ty(n,t,i,e){let r=Zr(t)??e,s=Ln(n,r),o=s.resolve?s.resolve(t,i):Ui(r,()=>s(t,i));return wi(o)}function sl(n){return we(t=>{let i=n(t);return i?ye(i).pipe(J(()=>t)):k(t)})}var Af=(()=>{let t=class t{buildTitle(e){let r,s=e.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===F);return r}getResolvedTitleForRoute(e){return e.data[$r]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:()=>P(Sy),providedIn:"root"});let n=t;return n})(),Sy=(()=>{let t=class t extends Af{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(C(Kd))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Ul=new tt("",{providedIn:"root",factory:()=>({})}),Bl=new tt(""),Ay=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Wa)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return k(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=wi(e.loadComponent()).pipe(J(Mf),Rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Xs(()=>{this.componentLoaders.delete(e)})),s=new Ma(r,()=>new $).pipe(Aa());return this.componentLoaders.set(e,s),s}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=My(r,this.compiler,e,this.onLoadEndListener).pipe(Xs(()=>{this.childrenLoaders.delete(r)})),a=new Ma(o,()=>new $).pipe(Aa());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function My(n,t,i,e){return wi(n.loadChildren()).pipe(J(Mf),ce(r=>r instanceof xd||Array.isArray(r)?k(r):ye(t.compileModuleAsync(r))),J(r=>{e&&e(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(Bl,[],{optional:!0,self:!0}).flat()),{routes:o.map(jl),injector:s}}))}function Dy(n){return n&&typeof n=="object"&&"default"in n}function Mf(n){return Dy(n)?n.default:n}var Vl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:()=>P(Oy),providedIn:"root"});let n=t;return n})(),Oy=(()=>{let t=class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Py=new tt("");var ky=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=P(Ay),this.environmentInjector=P($s),this.urlSerializer=P(kl),this.rootContexts=P(vo),this.location=P(mi),this.inputBindingEnabled=P(Fl,{optional:!0})!==null,this.titleStrategy=P(Af),this.options=P(Ul,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Vl),this.createViewTransition=P(Py,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let e=s=>this.events.next(new ml(s)),r=s=>this.events.next(new _l(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ft(S(S({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,s){return this.transitions=new Yt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fr,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(o=>o.id!==0),J(o=>ft(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),we(o=>{let a=!1,l=!1;return k(o).pipe(we(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ie.SupersededByNewNavigation),ui;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ft(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!h&&u!=="reload"){let d="";return this.events.next(new en(c.id,this.urlSerializer.serialize(c.rawUrl),d,ul.IgnoredSameUrlNavigation)),c.resolve(null),ui}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return k(c).pipe(we(d=>{let g=this.transitions?.getValue();return this.events.next(new Ur(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),g!==this.transitions?.getValue()?ui:Promise.resolve(d)}),Cy(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=ft(S({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let g=new uo(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:g,source:m,restoredState:v,extras:f}=c,p=new Ur(d,this.urlSerializer.serialize(g),m,v);this.events.next(p);let _=vf(this.rootComponentType).snapshot;return this.currentTransition=o=ft(S({},c),{targetSnapshot:_,urlAfterRedirects:g,extras:ft(S({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,k(o)}else{let d="";return this.events.next(new en(c.id,this.urlSerializer.serialize(c.extractedUrl),d,ul.IgnoredByUrlHandlingStrategy)),c.resolve(null),ui}}),Rt(c=>{let h=new dl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),J(c=>(this.currentTransition=o=ft(S({},c),{guards:Bv(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),qv(this.environmentInjector,c=>this.events.next(c)),Rt(c=>{if(o.guardsResult=c.guardsResult,Pn(c.guardsResult))throw Ef(this.urlSerializer,c.guardsResult);let h=new fl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),Dt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ie.GuardRejected),!1)),sl(c=>{if(c.guards.canActivateChecks.length)return k(c).pipe(Rt(h=>{let u=new pl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(u)}),we(h=>{let u=!1;return k(h).pipe(xy(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(h,"",ie.NoDataFromResolver)}}))}),Rt(h=>{let u=new gl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(u)}))}),sl(c=>{let h=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Rt(g=>{u.component=g}),J(()=>{})));for(let g of u.children)d.push(...h(g));return d};return Er(h(c.targetSnapshot.root)).pipe(ka(null),Ot(1))}),sl(()=>this.afterPreactivation()),we(()=>{let{currentSnapshot:c,targetSnapshot:h}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,h.root);return u?ye(u).pipe(J(()=>o)):k(o)}),J(c=>{let h=Pv(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ft(S({},c),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Rt(()=>{this.events.next(new Vr)}),Uv(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ot(1),Rt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),$e(this.transitionAbortSubject.pipe(Rt(c=>{throw c}))),Xs(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",ie.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),En(c=>{if(l=!0,xf(c))this.events.next(new vi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Nv(c)?this.events.next(new Gr(c.url)):o.resolve(!1);else{this.events.next(new Br(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return ui}))}))}cancelNavigationTransition(e,r,s){let o=new vi(e.id,this.urlSerializer.serialize(e.extractedUrl),r,s);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ly(n){return n!==Fr}var Ny=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:()=>P(Fy),providedIn:"root"});let n=t;return n})(),Ol=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},Fy=(()=>{let t=class t extends Ol{};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=Rr(t)))(s||t)}})(),t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Df=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:()=>P(jy),providedIn:"root"});let n=t;return n})(),jy=(()=>{let t=class t extends Df{constructor(){super(...arguments),this.location=P(mi),this.urlSerializer=P(kl),this.options=P(Ul,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Vl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _i,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vf(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Ur)this.stateMemento=this.createStateMemento();else if(e instanceof en)this.rawUrlTree=r.initialUrl;else if(e instanceof uo){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else e instanceof Vr?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):e instanceof vi&&(e.code===ie.GuardRejected||e.code===ie.NoDataFromResolver)?this.restoreHistory(r):e instanceof Br?this.restoreHistory(r,!0):e instanceof tn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let s=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=S(S({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=Rr(t)))(s||t)}})(),t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Lr=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Lr||{});function zy(n,t){n.events.pipe(Dt(i=>i instanceof tn||i instanceof vi||i instanceof Br||i instanceof en),J(i=>i instanceof tn||i instanceof en?Lr.COMPLETE:(i instanceof vi?i.code===ie.Redirect||i.code===ie.SupersededByNewNavigation:!1)?Lr.REDIRECTING:Lr.FAILED),Dt(i=>i!==Lr.REDIRECTING),Ot(1)).subscribe(()=>{t()})}function Uy(n){throw n}var By={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wo=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=P(to),this.stateManager=P(Df),this.options=P(Ul,{optional:!0})||{},this.pendingTasks=P(Id),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(ky),this.urlSerializer=P(kl),this.location=P(mi),this.urlHandlingStrategy=P(Vl),this._events=new $,this.errorHandler=this.options.errorHandler||Uy,this.navigated=!1,this.routeReuseStrategy=P(Ny),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Bl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(Fl,{optional:!0}),this.eventsSubscription=new ji,this.isNgZoneEnabled=P(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vi&&r.code!==ie.Redirect&&r.code!==ie.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tn)this.navigated=!0;else if(r instanceof Gr){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Ly(s.source)};this.scheduleNavigation(a,Fr,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Hy(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=S({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(e);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(jl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,h=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let g=s?s.snapshot:this.routerState.snapshot.root;d=pf(g)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return gf(d,e,u,h??null)}navigateByUrl(e,r={skipLocationChange:!1}){let s=Pn(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Fr,null,r)}navigate(e,r={skipLocationChange:!1}){return Gy(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let s;if(r===!0?s=S({},By):r===!1?s=S({},Vy):s=r,Pn(e))return Qd(this.currentUrlTree,e,s);let o=this.parseUrl(e);return Qd(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.entries(e).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(e,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,h;a?(l=a.resolve,c=a.reject,h=a.promise):h=new Promise((d,g)=>{l=d,c=g});let u=this.pendingTasks.add();return zy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(d=>Promise.reject(d))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Gy(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new ut(4008,!1)}function Hy(n){return!(n instanceof Vr)&&!(n instanceof Gr)}var Wy=new tt("");function FE(n,...t){return ja([{provide:Bl,multi:!0,useValue:n},[],{provide:yi,useFactory:Xy,deps:[wo]},{provide:Dd,multi:!0,useFactory:$y},t.map(i=>i.\u0275providers)])}function Xy(n){return n.routerState.root}function Yy(n,t){return{\u0275kind:n,\u0275providers:t}}function $y(){let n=P(te);return t=>{let i=n.get(Ar);if(t!==i.components[0])return;let e=n.get(wo),r=n.get(Zy);n.get(Ky)===1&&e.initialNavigation(),n.get(qy,null,Fa.Optional)?.setUpPreloading(),n.get(Wy,null,Fa.Optional)?.init(),e.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Zy=new tt("",{factory:()=>new $}),Ky=new tt("",{providedIn:"root",factory:()=>1});var qy=new tt("");function jE(){return Yy(6,[{provide:Ld,useClass:Nd}])}var Gl=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var Pt=Gl;var Ke={PROPERTYCHANGE:"propertychange"};var Hl=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Nn=Hl;function nn(n,t){return n>t?1:n<t?-1:0}function Fn(n,t,i){if(n[0]<=t)return 0;let e=n.length;if(t<=n[e-1])return e-1;if(typeof i=="function"){for(let r=1;r<e;++r){let s=n[r];if(s===t)return r;if(s<t)return i(t,n[r-1],s)>0?r-1:r}return e-1}if(i>0){for(let r=1;r<e;++r)if(n[r]<t)return r-1;return e-1}if(i<0){for(let r=1;r<e;++r)if(n[r]<=t)return r;return e-1}for(let r=1;r<e;++r){if(n[r]==t)return r;if(n[r]<t)return n[r-1]-t<t-n[r]?r-1:r}return e-1}function Of(n,t){let i=Array.isArray(t)?t:[t],e=i.length;for(let r=0;r<e;r++)n[n.length]=i[r]}function bi(n,t){let i=n.length;if(i!==t.length)return!1;for(let e=0;e<i;e++)if(n[e]!==t[e])return!1;return!0}function Pf(n,t,i){let e=t||nn;return n.every(function(r,s){if(s===0)return!0;let o=e(n[s-1],r);return!(o>0||i&&o===0)})}function rn(){return!0}function qe(){return!1}function sn(){}function kf(n){let t=!1,i,e,r;return function(){let s=Array.prototype.slice.call(arguments);return(!t||this!==r||!bi(s,e))&&(t=!0,r=this,e=s,i=n.apply(this,arguments)),i}}function Lf(n){function t(){let i;try{i=n()}catch(e){return Promise.reject(e)}return i instanceof Promise?i:Promise.resolve(i)}return t()}function Ne(n){for(let t in n)delete n[t]}function bo(n){let t;for(t in n)return!1;return!t}var Wl=class extends Nn{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,i){if(!t||!i)return;let e=this.listeners_||(this.listeners_={}),r=e[t]||(e[t]=[]);r.includes(i)||r.push(i)}dispatchEvent(t){let i=typeof t=="string",e=i?t:t.type,r=this.listeners_&&this.listeners_[e];if(!r)return;let s=i?new Pt(t):t;s.target||(s.target=this.eventTarget_||this);let o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});e in o||(o[e]=0,a[e]=0),++o[e];let l;for(let c=0,h=r.length;c<h;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[e]===0){let c=a[e];for(delete a[e];c--;)this.removeEventListener(e,sn);delete o[e]}return l}disposeInternal(){this.listeners_&&Ne(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,i){if(!this.listeners_)return;let e=this.listeners_[t];if(!e)return;let r=e.indexOf(i);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(e[r]=sn,++this.pendingRemovals_[t]):(e.splice(r,1),e.length===0&&delete this.listeners_[t]))}},Ei=Wl;var A={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function H(n,t,i,e,r){if(e&&e!==n&&(i=i.bind(e)),r){let o=i;i=function(){n.removeEventListener(t,i),o.apply(this,arguments)}}let s={target:n,type:t,listener:i};return n.addEventListener(t,i),s}function jn(n,t,i,e){return H(n,t,i,e,!0)}function Y(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Ne(n))}var zn=class extends Ei{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(A.CHANGE)}getRevision(){return this.revision_}onInternal(t,i){if(Array.isArray(t)){let e=t.length,r=new Array(e);for(let s=0;s<e;++s)r[s]=H(this,t[s],i);return r}return H(this,t,i)}onceInternal(t,i){let e;if(Array.isArray(t)){let r=t.length;e=new Array(r);for(let s=0;s<r;++s)e[s]=jn(this,t[s],i)}else e=jn(this,t,i);return i.ol_key=e,e}unInternal(t,i){let e=i.ol_key;if(e)Jy(e);else if(Array.isArray(t))for(let r=0,s=t.length;r<s;++r)this.removeEventListener(t[r],i);else this.removeEventListener(t,i)}};zn.prototype.on;zn.prototype.once;zn.prototype.un;function Jy(n){if(Array.isArray(n))for(let t=0,i=n.length;t<i;++t)Y(n[t]);else Y(n)}var Eo=zn;function B(){throw new Error("Unimplemented abstract method.")}var t0=0;function ht(n){return n.ol_uid||(n.ol_uid=String(++t0))}var Co=class extends Pt{constructor(t,i,e){super(t),this.key=i,this.oldValue=e}},Xl=class extends Eo{constructor(t){super(),this.on,this.once,this.un,ht(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let i;return this.values_&&this.values_.hasOwnProperty(t)&&(i=this.values_[t]),i}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,i){let e;e=`change:${t}`,this.hasListener(e)&&this.dispatchEvent(new Co(e,t,i)),e=Ke.PROPERTYCHANGE,this.hasListener(e)&&this.dispatchEvent(new Co(e,t,i))}addChangeListener(t,i){this.addEventListener(`change:${t}`,i)}removeChangeListener(t,i){this.removeEventListener(`change:${t}`,i)}set(t,i,e){let r=this.values_||(this.values_={});if(e)r[t]=i;else{let s=r[t];r[t]=i,s!==i&&this.notify(t,s)}}setProperties(t,i){for(let e in t)this.set(e,t[e],i)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,i){if(this.values_&&t in this.values_){let e=this.values_[t];delete this.values_[t],bo(this.values_)&&(this.values_=null),i||this.notify(t,e)}}},pt=Xl;var Vt={ADD:"add",REMOVE:"remove"};var Nf={LENGTH:"length"},Un=class extends Pt{constructor(t,i,e){super(t),this.element=i,this.index=e}},Yl=class extends pt{constructor(t,i){if(super(),this.on,this.once,this.un,i=i||{},this.unique_=!!i.unique,this.array_=t||[],this.unique_)for(let e=0,r=this.array_.length;e<r;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let i=0,e=t.length;i<e;++i)this.push(t[i]);return this}forEach(t){let i=this.array_;for(let e=0,r=i.length;e<r;++e)t(i[e],e,i)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(Nf.LENGTH)}insertAt(t,i){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(i),this.array_.splice(t,0,i),this.updateLength_(),this.dispatchEvent(new Un(Vt.ADD,i,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let i=this.getLength();return this.insertAt(i,t),this.getLength()}remove(t){let i=this.array_;for(let e=0,r=i.length;e<r;++e)if(i[e]===t)return this.removeAt(e)}removeAt(t){if(t<0||t>=this.getLength())return;let i=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Un(Vt.REMOVE,i,t)),i}setAt(t,i){let e=this.getLength();if(t>=e){this.insertAt(t,i);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(i,t);let r=this.array_[t];this.array_[t]=i,this.dispatchEvent(new Un(Vt.REMOVE,r,t)),this.dispatchEvent(new Un(Vt.ADD,i,t))}updateLength_(){this.set(Nf.LENGTH,this.array_.length)}assertUnique_(t,i){for(let e=0,r=this.array_.length;e<r;++e)if(this.array_[e]===t&&e!==i)throw new Error("Duplicate item added to a unique collection")}},ne=Yl;var K={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function N(n,t){if(!n)throw new Error(t)}function ot(n,t,i){return Math.min(Math.max(n,t),i)}function Ff(n,t,i,e,r,s){let o=r-i,a=s-e;if(o!==0||a!==0){let l=((n-i)*o+(t-e)*a)/(o*o+a*a);l>1?(i=r,e=s):l>0&&(i+=o*l,e+=a*l)}return Qe(n,t,i,e)}function Qe(n,t,i,e){let r=i-n,s=e-t;return r*r+s*s}function jf(n){let t=n.length;for(let e=0;e<t;e++){let r=e,s=Math.abs(n[e][e]);for(let a=e+1;a<t;a++){let l=Math.abs(n[a][e]);l>s&&(s=l,r=a)}if(s===0)return null;let o=n[r];n[r]=n[e],n[e]=o;for(let a=e+1;a<t;a++){let l=-n[a][e]/n[e][e];for(let c=e;c<t+1;c++)e==c?n[a][c]=0:n[a][c]+=l*n[e][c]}}let i=new Array(t);for(let e=t-1;e>=0;e--){i[e]=n[e][t]/n[e][e];for(let r=e-1;r>=0;r--)n[r][t]-=n[r][e]*i[e]}return i}function Bn(n){return n*Math.PI/180}function Ce(n,t){let i=n%t;return i*t<0?i+t:i}function zf(n,t,i){return n+i*(t-n)}function Uf(n,t){let i=Math.pow(10,t);return Math.round(n*i)/i}function qr(n,t){return Math.floor(Uf(n,t))}function Qr(n,t){return Math.ceil(Uf(n,t))}var $l=class extends pt{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;let i=Object.assign({},t);typeof t.properties=="object"&&(delete i.properties,Object.assign(i,t.properties)),i[K.OPACITY]=t.opacity!==void 0?t.opacity:1,N(typeof i[K.OPACITY]=="number","Layer opacity must be a number"),i[K.VISIBLE]=t.visible!==void 0?t.visible:!0,i[K.Z_INDEX]=t.zIndex,i[K.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[K.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[K.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[K.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,this.setProperties(i),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){let i=this.state_||{layer:this,managed:t===void 0?!0:t},e=this.getZIndex();return i.opacity=ot(Math.round(this.getOpacity()*100)/100,0,1),i.visible=this.getVisible(),i.extent=this.getExtent(),i.zIndex=e===void 0&&!i.managed?1/0:e,i.maxResolution=this.getMaxResolution(),i.minResolution=Math.max(this.getMinResolution(),0),i.minZoom=this.getMinZoom(),i.maxZoom=this.getMaxZoom(),this.state_=i,i}getLayersArray(t){return B()}getLayerStatesArray(t){return B()}getExtent(){return this.get(K.EXTENT)}getMaxResolution(){return this.get(K.MAX_RESOLUTION)}getMinResolution(){return this.get(K.MIN_RESOLUTION)}getMinZoom(){return this.get(K.MIN_ZOOM)}getMaxZoom(){return this.get(K.MAX_ZOOM)}getOpacity(){return this.get(K.OPACITY)}getSourceState(){return B()}getVisible(){return this.get(K.VISIBLE)}getZIndex(){return this.get(K.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(K.EXTENT,t)}setMaxResolution(t){this.set(K.MAX_RESOLUTION,t)}setMinResolution(t){this.set(K.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(K.MAX_ZOOM,t)}setMinZoom(t){this.set(K.MIN_ZOOM,t)}setOpacity(t){N(typeof t=="number","Layer opacity must be a number"),this.set(K.OPACITY,t)}setVisible(t){this.set(K.VISIBLE,t)}setZIndex(t){this.set(K.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},xo=$l;var Zt={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Kt={ANIMATING:0,INTERACTING:1};var de={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var Je={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var Zl=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Je[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Ro=Zl;var Jr=6378137,Vn=Math.PI*Jr,e0=[-Vn,-Vn,Vn,Vn],i0=[-180,-85,180,85],Io=Jr*Math.log(Math.tan(Math.PI/2)),Ci=class extends Ro{constructor(t){super({code:t,units:"m",extent:e0,global:!0,worldExtent:i0,getPointResolution:function(i,e){return i/Math.cosh(e[1]/Jr)}})}},Kl=[new Ci("EPSG:3857"),new Ci("EPSG:102100"),new Ci("EPSG:102113"),new Ci("EPSG:900913"),new Ci("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ci("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Bf(n,t,i){let e=n.length;i=i>1?i:2,t===void 0&&(i>2?t=n.slice():t=new Array(e));for(let r=0;r<e;r+=i){t[r]=Vn*n[r]/180;let s=Jr*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));s>Io?s=Io:s<-Io&&(s=-Io),t[r+1]=s}return t}function Vf(n,t,i){let e=n.length;i=i>1?i:2,t===void 0&&(i>2?t=n.slice():t=new Array(e));for(let r=0;r<e;r+=i)t[r]=180*n[r]/Vn,t[r+1]=360*Math.atan(Math.exp(n[r+1]/Jr))/Math.PI-90;return t}var n0=6378137,Gf=[-180,-90,180,90],r0=Math.PI*n0/180,ti=class extends Ro{constructor(t,i){super({code:t,units:"degrees",extent:Gf,axisOrientation:i,global:!0,metersPerUnit:r0,worldExtent:Gf})}},ql=[new ti("CRS:84"),new ti("EPSG:4326","neu"),new ti("urn:ogc:def:crs:OGC:1.3:CRS84"),new ti("urn:ogc:def:crs:OGC:2:84"),new ti("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ti("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ti("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var Ql={};function Hf(n){return Ql[n]||Ql[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Wf(n,t){Ql[n]=t}var Gn={};function ts(n,t,i){let e=n.getCode(),r=t.getCode();e in Gn||(Gn[e]={}),Gn[e][r]=i}function Xf(n,t){let i;return n in Gn&&t in Gn[n]&&(i=Gn[n][t]),i}var Et={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Jl(n){let t=fe();for(let i=0,e=n.length;i<e;++i)is(t,n[i]);return t}function s0(n,t,i){let e=Math.min.apply(null,n),r=Math.min.apply(null,t),s=Math.max.apply(null,n),o=Math.max.apply(null,t);return xi(e,r,s,o,i)}function $f(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n.slice()}function To(n,t,i){let e,r;return t<n[0]?e=n[0]-t:n[2]<t?e=t-n[2]:e=0,i<n[1]?r=n[1]-i:n[3]<i?r=i-n[3]:r=0,e*e+r*r}function Hn(n,t){return tc(n,t[0],t[1])}function So(n,t){return n[0]<=t[0]&&t[2]<=n[2]&&n[1]<=t[1]&&t[3]<=n[3]}function tc(n,t,i){return n[0]<=t&&t<=n[2]&&n[1]<=i&&i<=n[3]}function Yf(n,t){let i=n[0],e=n[1],r=n[2],s=n[3],o=t[0],a=t[1],l=Et.UNKNOWN;return o<i?l=l|Et.LEFT:o>r&&(l=l|Et.RIGHT),a<e?l=l|Et.BELOW:a>s&&(l=l|Et.ABOVE),l===Et.UNKNOWN&&(l=Et.INTERSECTING),l}function fe(){return[1/0,1/0,-1/0,-1/0]}function xi(n,t,i,e,r){return r?(r[0]=n,r[1]=t,r[2]=i,r[3]=e,r):[n,t,i,e]}function on(n){return xi(1/0,1/0,-1/0,-1/0,n)}function Zf(n,t){let i=n[0],e=n[1];return xi(i,e,i,e,t)}function Kf(n,t,i,e,r){let s=on(r);return ec(s,n,t,i,e)}function es(n,t){return n[0]==t[0]&&n[2]==t[2]&&n[1]==t[1]&&n[3]==t[3]}function qf(n,t){return t[0]<n[0]&&(n[0]=t[0]),t[2]>n[2]&&(n[2]=t[2]),t[1]<n[1]&&(n[1]=t[1]),t[3]>n[3]&&(n[3]=t[3]),n}function is(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function ec(n,t,i,e,r){for(;i<e;i+=r)o0(n,t[i],t[i+1]);return n}function o0(n,t,i){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],i),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],i)}function Ao(n,t){let i;return i=t(Wn(n)),i||(i=t(Xn(n)),i)||(i=t(Yn(n)),i)||(i=t(pe(n)),i)?i:!1}function ns(n){let t=0;return Ii(n)||(t=et(n)*Ct(n)),t}function Wn(n){return[n[0],n[1]]}function Xn(n){return[n[2],n[1]]}function ei(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Qf(n,t){let i;if(t==="bottom-left")i=Wn(n);else if(t==="bottom-right")i=Xn(n);else if(t==="top-left")i=pe(n);else if(t==="top-right")i=Yn(n);else throw new Error("Invalid corner");return i}function rs(n,t,i,e,r){let[s,o,a,l,c,h,u,d]=Mo(n,t,i,e);return xi(Math.min(s,a,c,u),Math.min(o,l,h,d),Math.max(s,a,c,u),Math.max(o,l,h,d),r)}function Mo(n,t,i,e){let r=t*e[0]/2,s=t*e[1]/2,o=Math.cos(i),a=Math.sin(i),l=r*o,c=r*a,h=s*o,u=s*a,d=n[0],g=n[1];return[d-l+u,g-c-h,d-l-u,g-c+h,d+l-u,g+c+h,d+l+u,g+c-h,d-l+u,g-c-h]}function Ct(n){return n[3]-n[1]}function Ri(n,t,i){let e=i||fe();return ii(n,t)?(n[0]>t[0]?e[0]=n[0]:e[0]=t[0],n[1]>t[1]?e[1]=n[1]:e[1]=t[1],n[2]<t[2]?e[2]=n[2]:e[2]=t[2],n[3]<t[3]?e[3]=n[3]:e[3]=t[3]):on(e),e}function pe(n){return[n[0],n[3]]}function Yn(n){return[n[2],n[3]]}function et(n){return n[2]-n[0]}function ii(n,t){return n[0]<=t[2]&&n[2]>=t[0]&&n[1]<=t[3]&&n[3]>=t[1]}function Ii(n){return n[2]<n[0]||n[3]<n[1]}function Jf(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n}function tp(n,t,i){let e=!1,r=Yf(n,t),s=Yf(n,i);if(r===Et.INTERSECTING||s===Et.INTERSECTING)e=!0;else{let o=n[0],a=n[1],l=n[2],c=n[3],h=t[0],u=t[1],d=i[0],g=i[1],m=(g-u)/(d-h),v,f;s&Et.ABOVE&&!(r&Et.ABOVE)&&(v=d-(g-c)/m,e=v>=o&&v<=l),!e&&s&Et.RIGHT&&!(r&Et.RIGHT)&&(f=g-(d-l)*m,e=f>=a&&f<=c),!e&&s&Et.BELOW&&!(r&Et.BELOW)&&(v=d-(g-a)/m,e=v>=o&&v<=l),!e&&s&Et.LEFT&&!(r&Et.LEFT)&&(f=g-(d-o)*m,e=f>=a&&f<=c)}return e}function ep(n,t,i,e){if(Ii(n))return on(i);let r=[];if(e>1){let a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<e;++c)r.push(n[0]+a*c/e,n[1],n[2],n[1]+l*c/e,n[2]-a*c/e,n[3],n[0],n[3]-l*c/e)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];t(r,r,2);let s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return s0(s,o,i)}function ip(n,t){return n[0]+=+t[0],n[1]+=+t[1],n}function an(n,t){let i=!0;for(let e=n.length-1;e>=0;--e)if(n[e]!=t[e]){i=!1;break}return i}function $n(n,t){let i=Math.cos(t),e=Math.sin(t),r=n[0]*i-n[1]*e,s=n[1]*i+n[0]*e;return n[0]=r,n[1]=s,n}function np(n,t){return n[0]*=t,n[1]*=t,n}function rp(n,t){if(t.canWrapX()){let i=et(t.getExtent()),e=sp(n,t,i);e&&(n[0]-=e*i)}return n}function sp(n,t,i){let e=t.getExtent(),r=0;return t.canWrapX()&&(n[0]<e[0]||n[0]>e[2])&&(i=i||et(e),r=Math.floor((n[0]-e[0])/i)),r}var a0=63710088e-1;function ic(n,t,i){i=i||a0;let e=Bn(n[1]),r=Bn(t[1]),s=(r-e)/2,o=Bn(t[0]-n[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(e)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var op={info:1,warn:2,error:3,none:4},l0=op.info;function Do(...n){l0>op.warn||console.warn(...n)}var nc=!0;function rc(n){nc=!(n===void 0?!0:n)}function sc(n,t){if(t!==void 0){for(let i=0,e=n.length;i<e;++i)t[i]=n[i];t=t}else t=n.slice();return t}function lp(n,t){if(t!==void 0&&n!==t){for(let i=0,e=n.length;i<e;++i)t[i]=n[i];n=t}return n}function c0(n){Wf(n.getCode(),n),ts(n,n,sc)}function h0(n){n.forEach(c0)}function Gt(n){return typeof n=="string"?Hf(n):n||null}function oc(n,t,i,e){n=Gt(n);let r,s=n.getPointResolutionFunc();if(s){if(r=s(t,i),e&&e!==n.getUnits()){let o=n.getMetersPerUnit();o&&(r=r*o/Je[e])}}else{let o=n.getUnits();if(o=="degrees"&&!e||e=="degrees")r=t;else{let a=ac(n,Gt("EPSG:4326"));if(a===lp&&o!=="degrees")r=t*n.getMetersPerUnit();else{let c=[i[0]-t/2,i[1],i[0]+t/2,i[1],i[0],i[1]-t/2,i[0],i[1]+t/2];c=a(c,c,2);let h=ic(c.slice(0,2),c.slice(2,4)),u=ic(c.slice(4,6),c.slice(6,8));r=(h+u)/2}let l=e?Je[e]:n.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function ap(n){h0(n),n.forEach(function(t){n.forEach(function(i){t!==i&&ts(t,i,sc)})})}function u0(n,t,i,e){n.forEach(function(r){t.forEach(function(s){ts(r,s,i),ts(s,r,e)})})}function Oo(n,t){return n?typeof n=="string"?Gt(n):n:Gt(t)}function cp(n,t){return rc(),Zn(n,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function hp(n,t){let i=Zn(n,t!==void 0?t:"EPSG:3857","EPSG:4326"),e=i[0];return(e<-180||e>180)&&(i[0]=Ce(e+180,360)-180),i}function Ti(n,t){if(n===t)return!0;let i=n.getUnits()===t.getUnits();return(n.getCode()===t.getCode()||ac(n,t)===sc)&&i}function ac(n,t){let i=n.getCode(),e=t.getCode(),r=Xf(i,e);return r||(r=lp),r}function ln(n,t){let i=Gt(n),e=Gt(t);return ac(i,e)}function Zn(n,t,i){return ln(t,i)(n,void 0,n.length)}function up(n,t,i,e){let r=ln(t,i);return ep(n,r,void 0,e)}var ni=null;function dp(){return ni}function ss(n,t){return ni?Zn(n,t,ni):n}function xe(n,t){return ni?Zn(n,ni,t):(nc&&!an(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(nc=!1,Do("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function fp(n,t){return ni?up(n,t,ni):n}function Si(n,t){return ni?up(n,ni,t):n}function d0(){ap(Kl),ap(ql),u0(ql,Kl,Bf,Vf)}d0();function lc(n,t,i){return function(e,r,s,o,a){if(!e)return;if(!r&&!t)return e;let l=t?0:s[0]*r,c=t?0:s[1]*r,h=a?a[0]:0,u=a?a[1]:0,d=n[0]+l/2+h,g=n[2]-l/2+h,m=n[1]+c/2+u,v=n[3]-c/2+u;d>g&&(d=(g+d)/2,g=d),m>v&&(m=(v+m)/2,v=m);let f=ot(e[0],d,g),p=ot(e[1],m,v);if(o&&i&&r){let _=30*r;f+=-_*Math.log(1+Math.max(0,d-e[0])/_)+_*Math.log(1+Math.max(0,e[0]-g)/_),p+=-_*Math.log(1+Math.max(0,m-e[1])/_)+_*Math.log(1+Math.max(0,e[1]-v)/_)}return[f,p]}}function pp(n){return n}function cc(n,t,i,e){let r=et(t)/i[0],s=Ct(t)/i[1];return e?Math.min(n,Math.max(r,s)):Math.min(n,Math.min(r,s))}function hc(n,t,i){let e=Math.min(n,t),r=50;return e*=Math.log(1+r*Math.max(0,n/t-1))/r+1,i&&(e=Math.max(e,i),e/=Math.log(1+r*Math.max(0,i/n-1))/r+1),ot(e,i/2,t*2)}function gp(n,t,i,e){return t=t!==void 0?t:!0,function(r,s,o,a){if(r!==void 0){let l=n[0],c=n[n.length-1],h=i?cc(l,i,o,e):l;if(a)return t?hc(r,h,c):ot(r,c,h);let u=Math.min(h,r),d=Math.floor(Fn(n,u,s));return n[d]>h&&d<n.length-1?n[d+1]:n[d]}}}function mp(n,t,i,e,r,s){return e=e!==void 0?e:!0,i=i!==void 0?i:0,function(o,a,l,c){if(o!==void 0){let h=r?cc(t,r,l,s):t;if(c)return e?hc(o,h,i):ot(o,i,h);let u=1e-9,d=Math.ceil(Math.log(t/h)/Math.log(n)-u),g=-a*(.5-u)+.5,m=Math.min(h,o),v=Math.floor(Math.log(t/m)/Math.log(n)+g),f=Math.max(d,v),p=t/Math.pow(n,f);return ot(p,i,h)}}}function uc(n,t,i,e,r){return i=i!==void 0?i:!0,function(s,o,a,l){if(s!==void 0){let c=e?cc(n,e,a,r):n;return!i||!l?ot(s,t,c):hc(s,c,t)}}}function Kn(n){if(n!==void 0)return 0}function dc(n){if(n!==void 0)return n}function _p(n){let t=2*Math.PI/n;return function(i,e){if(e)return i;if(i!==void 0)return i=Math.floor(i/t+.5)*t,i}}function vp(n){let t=n===void 0?Bn(5):n;return function(i,e){return e||i===void 0?i:Math.abs(i)<=t?0:i}}function fc(n){return Math.pow(n,3)}function ge(n){return 1-fc(1-n)}function yp(n){return 3*n*n-2*n*n*n}function wp(n){return n}var gx=new Array(6);function ri(){return[1,0,0,1,0,0]}function Ht(n,t){let i=t[0],e=t[1];return t[0]=n[0]*i+n[2]*e+n[4],t[1]=n[1]*i+n[3]*e+n[5],t}function si(n,t,i,e,r,s,o,a){let l=Math.sin(s),c=Math.cos(s);return n[0]=e*c,n[1]=r*l,n[2]=-e*l,n[3]=r*c,n[4]=o*e*c-a*e*l+t,n[5]=o*r*l+a*r*c+i,n}function Po(n,t){let i=p0(t);N(i!==0,"Transformation matrix cannot be inverted");let e=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5];return n[0]=o/i,n[1]=-r/i,n[2]=-s/i,n[3]=e/i,n[4]=(s*l-o*a)/i,n[5]=-(e*l-r*a)/i,n}function p0(n){return n[0]*n[3]-n[1]*n[2]}var bp=[1e6,1e6,1e6,1e6,2,2];function Ep(n){return"matrix("+n.map((i,e)=>Math.round(i*bp[e])/bp[e]).join(", ")+")"}function pc(n,t,i,e,r,s){s=s||[];let o=0;for(let a=t;a<i;a+=e){let l=n[a],c=n[a+1];s[o++]=r[0]*l+r[2]*c+r[4],s[o++]=r[1]*l+r[3]*c+r[5]}return s&&s.length!=o&&(s.length=o),s}function Cp(n,t,i,e,r,s,o){o=o||[];let a=Math.cos(r),l=Math.sin(r),c=s[0],h=s[1],u=0;for(let d=t;d<i;d+=e){let g=n[d]-c,m=n[d+1]-h;o[u++]=c+g*a-m*l,o[u++]=h+g*l+m*a;for(let v=d+2;v<d+e;++v)o[u++]=n[v]}return o&&o.length!=u&&(o.length=u),o}function xp(n,t,i,e,r,s,o,a){a=a||[];let l=o[0],c=o[1],h=0;for(let u=t;u<i;u+=e){let d=n[u]-l,g=n[u+1]-c;a[h++]=l+r*d,a[h++]=c+s*g;for(let m=u+2;m<u+e;++m)a[h++]=n[m]}return a&&a.length!=h&&(a.length=h),a}function Rp(n,t,i,e,r,s,o){o=o||[];let a=0;for(let l=t;l<i;l+=e){o[a++]=n[l]+r,o[a++]=n[l+1]+s;for(let c=l+2;c<l+e;++c)o[a++]=n[c]}return o&&o.length!=a&&(o.length=a),o}var Ip=ri(),gc=class extends pt{constructor(){super(),this.extent_=fe(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=kf((t,i,e)=>{if(!e)return this.getSimplifiedGeometry(i);let r=this.clone();return r.applyTransform(e),r.getSimplifiedGeometry(i)})}simplifyTransformed(t,i){return this.simplifyTransformedInternal(this.getRevision(),t,i)}clone(){return B()}closestPointXY(t,i,e,r){return B()}containsXY(t,i){let e=this.getClosestPoint([t,i]);return e[0]===t&&e[1]===i}getClosestPoint(t,i){return i=i||[NaN,NaN],this.closestPointXY(t[0],t[1],i,1/0),i}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return B()}getExtent(t){if(this.extentRevision_!=this.getRevision()){let i=this.computeExtent(this.extent_);(isNaN(i[0])||isNaN(i[1]))&&on(i),this.extentRevision_=this.getRevision()}return Jf(this.extent_,t)}rotate(t,i){B()}scale(t,i,e){B()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return B()}getType(){return B()}applyTransform(t){B()}intersectsExtent(t){return B()}translate(t,i){B()}transform(t,i){let e=Gt(t),r=e.getUnits()=="tile-pixels"?function(s,o,a){let l=e.getExtent(),c=e.getWorldExtent(),h=Ct(c)/Ct(l);return si(Ip,c[0],c[3],h,-h,0,0,0),pc(s,0,s.length,a,Ip,o),ln(e,i)(s,o,a)}:ln(e,i);return this.applyTransform(r),this}},Tp=gc;var mc=class extends Tp{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Kf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return B()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?i:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,i){this.stride=Sp(t),this.layout=t,this.flatCoordinates=i}setCoordinates(t,i){B()}setLayout(t,i,e){let r;if(t)r=Sp(t);else{for(let s=0;s<e;++s){if(i.length===0){this.layout="XY",this.stride=2;return}i=i[0]}r=i.length,t=g0(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,i){let e=this.getFlatCoordinates();if(e){let r=this.getStride();Cp(e,0,e.length,r,t,i,e),this.changed()}}scale(t,i,e){i===void 0&&(i=t),e||(e=ei(this.getExtent()));let r=this.getFlatCoordinates();if(r){let s=this.getStride();xp(r,0,r.length,s,t,i,e,r),this.changed()}}translate(t,i){let e=this.getFlatCoordinates();if(e){let r=this.getStride();Rp(e,0,e.length,r,t,i,e),this.changed()}}};function g0(n){let t;return n==2?t="XY":n==3?t="XYZ":n==4&&(t="XYZM"),t}function Sp(n){let t;return n=="XY"?t=2:n=="XYZ"||n=="XYM"?t=3:n=="XYZM"&&(t=4),t}var qn=mc;function Ap(n,t,i,e,r,s,o){let a=n[t],l=n[t+1],c=n[i]-a,h=n[i+1]-l,u;if(c===0&&h===0)u=t;else{let d=((r-a)*c+(s-l)*h)/(c*c+h*h);if(d>1)u=i;else if(d>0){for(let g=0;g<e;++g)o[g]=zf(n[t+g],n[i+g],d);o.length=e;return}else u=t}for(let d=0;d<e;++d)o[d]=n[u+d];o.length=e}function _c(n,t,i,e,r){let s=n[t],o=n[t+1];for(t+=e;t<i;t+=e){let a=n[t],l=n[t+1],c=Qe(s,o,a,l);c>r&&(r=c),s=a,o=l}return r}function Mp(n,t,i,e,r){for(let s=0,o=i.length;s<o;++s){let a=i[s];r=_c(n,t,a,e,r),t=a}return r}function vc(n,t,i,e,r,s,o,a,l,c,h){if(t==i)return c;let u,d;if(r===0){if(d=Qe(o,a,n[t],n[t+1]),d<c){for(u=0;u<e;++u)l[u]=n[t+u];return l.length=e,d}return c}h=h||[NaN,NaN];let g=t+e;for(;g<i;)if(Ap(n,g-e,g,e,o,a,h),d=Qe(o,a,h[0],h[1]),d<c){for(c=d,u=0;u<e;++u)l[u]=h[u];l.length=e,g+=e}else g+=e*Math.max((Math.sqrt(d)-Math.sqrt(c))/r|0,1);if(s&&(Ap(n,i-e,t,e,o,a,h),d=Qe(o,a,h[0],h[1]),d<c)){for(c=d,u=0;u<e;++u)l[u]=h[u];l.length=e}return c}function Dp(n,t,i,e,r,s,o,a,l,c,h){h=h||[NaN,NaN];for(let u=0,d=i.length;u<d;++u){let g=i[u];c=vc(n,t,g,e,r,s,o,a,l,c,h),t=g}return c}function Op(n,t,i,e){for(let r=0,s=i.length;r<s;++r)n[t++]=i[r];return t}function yc(n,t,i,e){for(let r=0,s=i.length;r<s;++r){let o=i[r];for(let a=0;a<e;++a)n[t++]=o[a]}return t}function Pp(n,t,i,e,r){r=r||[];let s=0;for(let o=0,a=i.length;o<a;++o){let l=yc(n,t,i[o],e);r[s++]=l,t=l}return r.length=s,r}function kp(n,t,i,e,r,s,o){let a=(i-t)/e;if(a<3){for(;t<i;t+=e)s[o++]=n[t],s[o++]=n[t+1];return o}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[t,i-e],h=0;for(;c.length>0;){let u=c.pop(),d=c.pop(),g=0,m=n[d],v=n[d+1],f=n[u],p=n[u+1];for(let _=d+e;_<u;_+=e){let b=n[_],y=n[_+1],w=Ff(b,y,m,v,f,p);w>g&&(h=_,g=w)}g>r&&(l[(h-t)/e]=1,d+e<h&&c.push(d,h),h+e<u&&c.push(h,u))}for(let u=0;u<a;++u)l[u]&&(s[o++]=n[t+u*e],s[o++]=n[t+u*e+1]);return o}function Qn(n,t){return t*Math.round(n/t)}function m0(n,t,i,e,r,s,o){if(t==i)return o;let a=Qn(n[t],r),l=Qn(n[t+1],r);t+=e,s[o++]=a,s[o++]=l;let c,h;do if(c=Qn(n[t],r),h=Qn(n[t+1],r),t+=e,t==i)return s[o++]=c,s[o++]=h,o;while(c==a&&h==l);for(;t<i;){let u=Qn(n[t],r),d=Qn(n[t+1],r);if(t+=e,u==c&&d==h)continue;let g=c-a,m=h-l,v=u-a,f=d-l;if(g*f==m*v&&(g<0&&v<g||g==v||g>0&&v>g)&&(m<0&&f<m||m==f||m>0&&f>m)){c=u,h=d;continue}s[o++]=c,s[o++]=h,a=c,l=h,c=u,h=d}return s[o++]=c,s[o++]=h,o}function Lp(n,t,i,e,r,s,o,a){for(let l=0,c=i.length;l<c;++l){let h=i[l];o=m0(n,t,h,e,r,s,o),a.push(o),t=h}return o}function wc(n,t,i,e,r){r=r!==void 0?r:[];let s=0;for(let o=t;o<i;o+=e)r[s++]=n.slice(o,o+e);return r.length=s,r}function Np(n,t,i,e,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=i.length;o<a;++o){let l=i[o];r[s++]=wc(n,t,l,e,r[s]),t=l}return r.length=s,r}function bc(n,t,i,e){let r=0,s=n[i-e],o=n[i-e+1];for(;t<i;t+=e){let a=n[t],l=n[t+1];r+=o*a-s*l,s=a,o=l}return r/2}function Fp(n,t,i,e){let r=0;for(let s=0,o=i.length;s<o;++s){let a=i[s];r+=bc(n,t,a,e),t=a}return r}var Ec=class n extends qn{constructor(t,i){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(i,t):this.setCoordinates(t,i)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,i,e,r){return r<To(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_c(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,i,e,r))}getArea(){return bc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return wc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){let i=[];return i.length=kp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new n(i,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,i){this.setLayout(i,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=yc(this.flatCoordinates,0,t,this.stride),this.changed()}},Cc=Ec;var xc=class n extends qn{constructor(t,i){super(),this.setCoordinates(t,i)}clone(){let t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,i,e,r){let s=this.flatCoordinates,o=Qe(t,i,s[0],s[1]);if(o<r){let a=this.stride;for(let l=0;l<a;++l)e[l]=s[l];return e.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Zf(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return tc(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Op(this.flatCoordinates,0,t,this.stride),this.changed()}},jp=xc;function zp(n,t,i,e,r){return!Ao(r,function(o){return!Ai(n,t,i,e,o[0],o[1])})}function Ai(n,t,i,e,r,s){let o=0,a=n[i-e],l=n[i-e+1];for(;t<i;t+=e){let c=n[t],h=n[t+1];l<=s?h>s&&(c-a)*(s-l)-(r-a)*(h-l)>0&&o++:h<=s&&(c-a)*(s-l)-(r-a)*(h-l)<0&&o--,a=c,l=h}return o!==0}function ko(n,t,i,e,r,s){if(i.length===0||!Ai(n,t,i[0],e,r,s))return!1;for(let o=1,a=i.length;o<a;++o)if(Ai(n,i[o-1],i[o],e,r,s))return!1;return!0}function Up(n,t,i,e,r,s,o){let a,l,c,h,u,d,g,m=r[s+1],v=[];for(let _=0,b=i.length;_<b;++_){let y=i[_];for(h=n[y-e],d=n[y-e+1],a=t;a<y;a+=e)u=n[a],g=n[a+1],(m<=d&&g<=m||d<=m&&m<=g)&&(c=(m-d)/(g-d)*(u-h)+h,v.push(c)),h=u,d=g}let f=NaN,p=-1/0;for(v.sort(nn),h=v[0],a=1,l=v.length;a<l;++a){u=v[a];let _=Math.abs(u-h);_>p&&(c=(h+u)/2,ko(n,t,i,e,c,m)&&(f=c,p=_)),h=u}return isNaN(f)&&(f=r[s]),o?(o.push(f,m,p),o):[f,m,p]}function Bp(n,t,i,e,r){let s;for(t+=e;t<i;t+=e)if(s=r(n.slice(t-e,t),n.slice(t,t+e)),s)return s;return!1}function Vp(n,t,i,e,r){let s=ec(fe(),n,t,i,e);return ii(r,s)?So(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:Bp(n,t,i,e,function(o,a){return tp(r,o,a)}):!1}function Rc(n,t,i,e,r){return!!(Vp(n,t,i,e,r)||Ai(n,t,i,e,r[0],r[1])||Ai(n,t,i,e,r[0],r[3])||Ai(n,t,i,e,r[2],r[1])||Ai(n,t,i,e,r[2],r[3]))}function Gp(n,t,i,e,r){if(!Rc(n,t,i[0],e,r))return!1;if(i.length===1)return!0;for(let s=1,o=i.length;s<o;++s)if(zp(n,i[s-1],i[s],e,r)&&!Vp(n,i[s-1],i[s],e,r))return!1;return!0}function Hp(n,t,i,e){for(;t<i-e;){for(let r=0;r<e;++r){let s=n[t+r];n[t+r]=n[i-e+r],n[i-e+r]=s}t+=e,i-=e}}function Wp(n,t,i,e){let r=0,s=n[i-e],o=n[i-e+1];for(;t<i;t+=e){let a=n[t],l=n[t+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function Xp(n,t,i,e,r){r=r!==void 0?r:!1;for(let s=0,o=i.length;s<o;++s){let a=i[s],l=Wp(n,t,a,e);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=a}return!0}function Ic(n,t,i,e,r){r=r!==void 0?r:!1;for(let s=0,o=i.length;s<o;++s){let a=i[s],l=Wp(n,t,a,e);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&Hp(n,t,a,e),t=a}return t}var Lo=class n extends qn{constructor(t,i,e){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,i!==void 0&&e?(this.setFlatCoordinates(i,t),this.ends_=e):this.setCoordinates(t,i)}appendLinearRing(t){this.flatCoordinates?Of(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let t=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,i,e,r){return r<To(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Mp(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Dp(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,e,r))}containsXY(t,i){return ko(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,i)}getArea(){return Fp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let i;return t!==void 0?(i=this.getOrientedFlatCoordinates().slice(),Ic(i,0,this.ends_,this.stride,t)):i=this.flatCoordinates,Np(i,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let t=ei(this.getExtent());this.flatInteriorPoint_=Up(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new jp(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Cc(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){let t=this.layout,i=this.flatCoordinates,e=this.ends_,r=[],s=0;for(let o=0,a=e.length;o<a;++o){let l=e[o],c=new Cc(i.slice(s,l),t);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;Xp(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ic(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let i=[],e=[];return i.length=Lp(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,e),new n(i,"XY",e)}getType(){return"Polygon"}intersectsExtent(t){return Gp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,i){this.setLayout(i,t,2),this.flatCoordinates||(this.flatCoordinates=[]);let e=Pp(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=e.length===0?0:e[e.length-1],this.changed()}},Yp=Lo;function Tc(n){if(Ii(n))throw new Error("Cannot create polygon from empty extent");let t=n[0],i=n[1],e=n[2],r=n[3],s=[t,i,t,r,e,r,e,i,t,i];return new Lo(s,"XY",[s.length])}var Sc=0,Mc=class extends pt{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Oo(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&rc(),t.center&&(t.center=xe(t.center,this.projection_)),t.extent&&(t.extent=Si(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){let i=Object.assign({},t);for(let a in de)delete i[a];this.setProperties(i,!0);let e=v0(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=e.minZoom;let r=_0(t),s=e.constraint,o=y0(t);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let i=this.padding_;this.padding_=t;let e=this.getCenterInternal();if(e){let r=t||[0,0,0,0];i=i||[0,0,0,0];let s=this.getResolution(),o=s/2*(r[3]-i[3]+i[1]-r[1]),a=s/2*(r[0]-i[0]+i[2]-r[2]);this.setCenterInternal([e[0]+o,e[1]-a])}}getUpdatedOptions_(t){let i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),Object.assign({},i,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let i=new Array(arguments.length);for(let e=0;e<i.length;++e){let r=arguments[e];r.center&&(r=Object.assign({},r),r.center=xe(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=xe(r.anchor,this.getProjection())),i[e]=r}this.animateInternal.apply(this,i)}animateInternal(t){let i=arguments.length,e;i>1&&typeof arguments[i-1]=="function"&&(e=arguments[i-1],--i);let r=0;for(;r<i&&!this.isDef();++r){let h=arguments[r];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(r===i){e&&No(e,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<i;++r){let h=arguments[r],u={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||yp,callback:e};if(h.center&&(u.sourceCenter=o,u.targetCenter=h.center.slice(),o=u.targetCenter),h.zoom!==void 0?(u.sourceResolution=a,u.targetResolution=this.getResolutionForZoom(h.zoom),a=u.targetResolution):h.resolution&&(u.sourceResolution=a,u.targetResolution=h.resolution,a=u.targetResolution),h.rotation!==void 0){u.sourceRotation=l;let d=Ce(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=l+d,l=u.targetRotation}w0(u)?u.complete=!0:s+=u.duration,c.push(u)}this.animations_.push(c),this.setHint(Kt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Kt.ANIMATING]>0}getInteracting(){return this.hints_[Kt.INTERACTING]>0}cancelAnimations(){this.setHint(Kt.ANIMATING,-this.hints_[Kt.ANIMATING]);let t;for(let i=0,e=this.animations_.length;i<e;++i){let r=this.animations_[i];if(r[0].callback&&No(r[0].callback,!1),!t)for(let s=0,o=r.length;s<o;++s){let a=r[s];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let t=Date.now(),i=!1;for(let e=this.animations_.length-1;e>=0;--e){let r=this.animations_[e],s=!0;for(let o=0,a=r.length;o<a;++o){let l=r[o];if(l.complete)continue;let c=t-l.start,h=l.duration>0?c/l.duration:1;h>=1?(l.complete=!0,h=1):s=!1;let u=l.easing(h);if(l.sourceCenter){let d=l.sourceCenter[0],g=l.sourceCenter[1],m=l.targetCenter[0],v=l.targetCenter[1];this.nextCenter_=l.targetCenter;let f=d+u*(m-d),p=g+u*(v-g);this.targetCenter_=[f,p]}if(l.sourceResolution&&l.targetResolution){let d=u===1?l.targetResolution:l.sourceResolution+u*(l.targetResolution-l.sourceResolution);if(l.anchor){let g=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(d,0,g,!0);this.targetCenter_=this.calculateCenterZoom(m,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let d=u===1?Ce(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+u*(l.targetRotation-l.sourceRotation);if(l.anchor){let g=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),i=!0,!l.complete)break}if(s){this.animations_[e]=null,this.setHint(Kt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let o=r[0].callback;o&&No(o,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,i){let e,r=this.getCenterInternal();return r!==void 0&&(e=[r[0]-i[0],r[1]-i[1]],$n(e,t-this.getRotation()),ip(e,i)),e}calculateCenterZoom(t,i){let e,r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){let o=i[0]-t*(i[0]-r[0])/s,a=i[1]-t*(i[1]-r[1])/s;e=[o,a]}return e}getViewportSize_(t){let i=this.viewportSize_;if(t){let e=i[0],r=i[1];return[Math.abs(e*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(e*Math.sin(t))+Math.abs(r*Math.cos(t))]}return i}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let t=this.getCenterInternal();return t&&ss(t,this.getProjection())}getCenterInternal(){return this.get(de.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){let i=this.calculateExtentInternal(t);return fp(i,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();let i=this.getCenterInternal();N(i,"The view center is not defined");let e=this.getResolution();N(e!==void 0,"The view resolution is not defined");let r=this.getRotation();return N(r!==void 0,"The view rotation is not defined"),rs(i,e,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(de.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,i){return this.getResolutionForExtentInternal(Si(t,this.getProjection()),i)}getResolutionForExtentInternal(t,i){i=i||this.getViewportSizeMinusPadding_();let e=et(t)/i[0],r=Ct(t)/i[1];return Math.max(e,r)}getResolutionForValueFunction(t){t=t||2;let i=this.getConstrainedResolution(this.maxResolution_),e=this.minResolution_,r=Math.log(i/e)/Math.log(t);return function(s){return i/Math.pow(t,s*r)}}getRotation(){return this.get(de.ROTATION)}getValueForResolutionFunction(t){let i=Math.log(t||2),e=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(e/r)/i;return function(o){return Math.log(e/o)/i/s}}getViewportSizeMinusPadding_(t){let i=this.getViewportSize_(t),e=this.padding_;return e&&(i=[i[0]-e[1]-e[3],i[1]-e[0]-e[2]]),i}getState(){let t=this.getProjection(),i=this.getResolution(),e=this.getRotation(),r=this.getCenterInternal(),s=this.padding_;if(s){let o=this.getViewportSizeMinusPadding_();r=Ac(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],i,e)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:e,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t,i=this.getResolution();return i!==void 0&&(t=this.getZoomForResolution(i)),t}getZoomForResolution(t){let i=this.minZoom_||0,e,r;if(this.resolutions_){let s=Fn(this.resolutions_,t,1);i=s,e=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=e/this.resolutions_[s+1]}else e=this.maxResolution_,r=this.zoomFactor_;return i+Math.log(e/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;let i=ot(Math.floor(t),0,this.resolutions_.length-2),e=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(e,ot(t-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,i){let e;if(N(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){N(!Ii(t),"Cannot fit empty extent provided as `geometry`");let r=Si(t,this.getProjection());e=Tc(r)}else if(t.getType()==="Circle"){let r=Si(t.getExtent(),this.getProjection());e=Tc(r),e.rotate(this.getRotation(),ei(r))}else{let r=dp();r?e=t.clone().transform(r,this.getProjection()):e=t}this.fitInternal(e,i)}rotatedExtentForGeometry(t){let i=this.getRotation(),e=Math.cos(i),r=Math.sin(-i),s=t.getFlatCoordinates(),o=t.getStride(),a=1/0,l=1/0,c=-1/0,h=-1/0;for(let u=0,d=s.length;u<d;u+=o){let g=s[u]*e-s[u+1]*r,m=s[u]*r+s[u+1]*e;a=Math.min(a,g),l=Math.min(l,m),c=Math.max(c,g),h=Math.max(h,m)}return[a,l,c,h]}fitInternal(t,i){i=i||{};let e=i.size;e||(e=this.getViewportSizeMinusPadding_());let r=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,o;i.minResolution!==void 0?o=i.minResolution:i.maxZoom!==void 0?o=this.getResolutionForZoom(i.maxZoom):o=0;let a=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(a,[e[0]-r[1]-r[3],e[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);let c=this.getRotation(),h=Math.sin(c),u=Math.cos(c),d=ei(a);d[0]+=(r[1]-r[3])/2*l,d[1]+=(r[0]-r[2])/2*l;let g=d[0]*u-d[1]*h,m=d[1]*u+d[0]*h,v=this.getConstrainedCenter([g,m],l),f=i.callback?i.callback:sn;i.duration!==void 0?this.animateInternal({resolution:l,center:v,duration:i.duration,easing:i.easing},f):(this.targetResolution_=l,this.targetCenter_=v,this.applyTargetState_(!1,!0),No(f,!0))}centerOn(t,i,e){this.centerOnInternal(xe(t,this.getProjection()),i,e)}centerOnInternal(t,i,e){this.setCenterInternal(Ac(t,i,e,this.getResolution(),this.getRotation()))}calculateCenterShift(t,i,e,r){let s,o=this.padding_;if(o&&t){let a=this.getViewportSizeMinusPadding_(-e),l=Ac(t,r,[a[0]/2+o[3],a[1]/2+o[0]],i,e);s=[t[0]-l[0],t[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){let i=ss(this.targetCenter_,this.getProjection());this.setCenter([i[0]+t[0],i[1]+t[1]])}adjustCenterInternal(t){let i=this.targetCenter_;this.setCenterInternal([i[0]+t[0],i[1]+t[1]])}adjustResolution(t,i){i=i&&xe(i,this.getProjection()),this.adjustResolutionInternal(t,i)}adjustResolutionInternal(t,i){let e=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,r,e);i&&(this.targetCenter_=this.calculateCenterZoom(s,i)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,i){this.adjustResolution(Math.pow(this.zoomFactor_,-t),i)}adjustRotation(t,i){i&&(i=xe(i,this.getProjection())),this.adjustRotationInternal(t,i)}adjustRotationInternal(t,i){let e=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,e);i&&(this.targetCenter_=this.calculateCenterRotate(r,i)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&xe(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,i){return this.hints_[t]+=i,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,i){let e=this.getAnimating()||this.getInteracting()||i,r=this.constraints_.rotation(this.targetRotation_,e),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,e),a=this.constraints_.center(this.targetCenter_,o,s,e,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(de.ROTATION)!==r&&this.set(de.ROTATION,r),this.get(de.RESOLUTION)!==o&&(this.set(de.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(de.CENTER)||!an(this.get(de.CENTER),a))&&this.set(de.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,i,e){t=t!==void 0?t:200;let r=i||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(t===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}e=e||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!an(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:t,easing:ge,anchor:e}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Kt.INTERACTING,1)}endInteraction(t,i,e){e=e&&xe(e,this.getProjection()),this.endInteractionInternal(t,i,e)}endInteractionInternal(t,i,e){this.getInteracting()&&(this.setHint(Kt.INTERACTING,-1),this.resolveConstraints(t,i,e))}getConstrainedCenter(t,i){let e=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,i||this.getResolution(),e)}getConstrainedZoom(t,i){let e=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(e,i))}getConstrainedResolution(t,i){i=i||0;let e=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,e)}};function No(n,t){setTimeout(function(){n(t)},0)}function _0(n){if(n.extent!==void 0){let i=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return lc(n.extent,n.constrainOnlyCenter,i)}let t=Oo(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){let i=t.getExtent().slice();return i[0]=-1/0,i[2]=1/0,lc(i,!1,!1)}return pp}function v0(n){let t,i,e,o=n.minZoom!==void 0?n.minZoom:Sc,a=n.maxZoom!==void 0?n.maxZoom:28,l=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,h=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,u=n.showFullExtent!==void 0?n.showFullExtent:!1,d=Oo(n.projection,"EPSG:3857"),g=d.getExtent(),m=n.constrainOnlyCenter,v=n.extent;if(!c&&!v&&d.isGlobal()&&(m=!1,v=g),n.resolutions!==void 0){let f=n.resolutions;i=f[o],e=f[a]!==void 0?f[a]:f[f.length-1],n.constrainResolution?t=gp(f,h,!m&&v,u):t=uc(i,e,h,!m&&v,u)}else{let p=(g?Math.max(et(g),Ct(g)):360*Je.degrees/d.getMetersPerUnit())/256/Math.pow(2,Sc),_=p/Math.pow(2,28-Sc);i=n.maxResolution,i!==void 0?o=0:i=p/Math.pow(l,o),e=n.minResolution,e===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?e=i/Math.pow(l,a):e=p/Math.pow(l,a):e=_),a=o+Math.floor(Math.log(i/e)/Math.log(l)),e=i/Math.pow(l,a-o),n.constrainResolution?t=mp(l,i,e,h,!m&&v,u):t=uc(i,e,h,!m&&v,u)}return{constraint:t,maxResolution:i,minResolution:e,minZoom:o,zoomFactor:l}}function y0(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let i=n.constrainRotation;return i===void 0||i===!0?vp():i===!1?dc:typeof i=="number"?_p(i):dc}return Kn}function w0(n){return!(n.sourceCenter&&n.targetCenter&&!an(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Ac(n,t,i,e,r){let s=Math.cos(-r),o=Math.sin(-r),a=n[0]*s-n[1]*o,l=n[1]*s+n[0]*o;a+=(t[0]/2-i[0])*e,l+=(i[1]-t[1]/2)*e,o=-o;let c=a*s-l*o,h=l*s+a*o;return[c,h]}var re=Mc;var Dc=class extends xo{constructor(t){let i=Object.assign({},t);delete i.source,super(i),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(K.SOURCE,this.handleSourcePropertyChange_);let e=t.source?t.source:null;this.setSource(e)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(K.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Y(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let t=this.getSource();t&&(this.sourceChangeKey_=H(t,A.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let i,e=this.getMapInternal();!t&&e&&(t=e.getView()),t instanceof re?i={viewState:t.getState(),extent:t.calculateExtent()}:i=t,!i.layerStatesArray&&e&&(i.layerStatesArray=e.getLayerGroup().getLayerStatesArray());let r;i.layerStatesArray?r=i.layerStatesArray.find(o=>o.layer===this):r=this.getLayerState();let s=this.getExtent();return os(r,i.viewState)&&(!s||ii(s,i.extent))}getAttributions(t){if(!this.isVisible(t))return[];let i,e=this.getSource();if(e&&(i=e.getAttributions()),!i)return[];let r=t instanceof re?t.getViewStateAndExtent():t,s=i(r);return Array.isArray(s)||(s=[s]),s}render(t,i){let e=this.getRenderer();return e.prepareFrame(t)?(this.rendered=!0,e.renderFrame(t,i)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,i){}renderDeferred(t){let i=this.getRenderer();i&&i.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(K.MAP,t)}getMapInternal(){return this.get(K.MAP)}setMap(t){this.mapPrecomposeKey_&&(Y(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Y(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=H(t,Zt.PRECOMPOSE,function(i){let r=i.frameState.layerStatesArray,s=this.getLayerState(!1);N(!r.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)},this),this.mapRenderKey_=H(this,A.CHANGE,t.render,t),this.changed())}setSource(t){this.set(K.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function os(n,t){if(!n.visible)return!1;let i=t.resolution;if(i<n.minResolution||i>=n.maxResolution)return!1;let e=t.zoom;return e>n.minZoom&&e<=n.maxZoom}var cn=Dc;var Fg=N_(Zp(),1);var j={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function kc(n){return n[0]>0&&n[1]>0}function Kp(n,t,i){return i===void 0&&(i=[0,0]),i[0]=n[0]*t+.5|0,i[1]=n[1]*t+.5|0,i}function gt(n,t){return Array.isArray(n)?n:(t===void 0?t=[n,n]:(t[0]=n,t[1]=n),t)}var Lc=class n{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=gt(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return B()}getImage(t){return B()}getHitDetectionImage(){return B()}getPixelRatio(t){return 1}getImageState(){return B()}getImageSize(){return B()}getOrigin(){return B()}getSize(){return B()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=gt(t)}listenImageChange(t){B()}load(){B()}unlistenImageChange(t){B()}ready(){return Promise.resolve()}},Fo=Lc;var oi={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var hn={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};hn.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};hn.max=hn.whitepoint[2].D65;hn.rgb=function(n,t){t=t||hn.whitepoint[2].E;var i=n[0]/t[0],e=n[1]/t[1],r=n[2]/t[2],s,o,a;return s=i*3.240969941904521+e*-1.537383177570093+r*-.498610760293,o=i*-.96924363628087+e*1.87596750150772+r*.041555057407175,a=i*.055630079696993+e*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};oi.xyz=function(n,t){var i=n[0]/255,e=n[1]/255,r=n[2]/255;i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=i*.41239079926595+e*.35758433938387+r*.18048078840183,o=i*.21263900587151+e*.71516867876775+r*.072192315360733,a=i*.019330818715591+e*.11919477979462+r*.95053215224966;return t=t||hn.whitepoint[2].E,[s*t[0],o*t[1],a*t[2]]};var qt=hn;var jo={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,t,i){var e,r,s,o,a,l,c,h,u,d,g,m,v;if(s=n[0],o=n[1],a=n[2],s===0)return[0,0,0];var f=.0011070564598794539;return t=t||"D65",i=i||2,u=qt.whitepoint[i][t][0],d=qt.whitepoint[i][t][1],g=qt.whitepoint[i][t][2],m=4*u/(u+15*d+3*g),v=9*d/(u+15*d+3*g),e=o/(13*s)+m||0,r=a/(13*s)+v||0,c=s>8?d*Math.pow((s+16)/116,3):d*s*f,l=c*9*e/(4*r)||0,h=c*(12-3*e-20*r)/(4*r)||0,[l,c,h]}};qt.luv=function(n,t,i){var e,r,s,o,a,l,c,h,u,d,g,m,v,f=.008856451679035631,p=903.2962962962961;t=t||"D65",i=i||2,u=qt.whitepoint[i][t][0],d=qt.whitepoint[i][t][1],g=qt.whitepoint[i][t][2],m=4*u/(u+15*d+3*g),v=9*d/(u+15*d+3*g),l=n[0],c=n[1],h=n[2],e=4*l/(l+15*c+3*h)||0,r=9*c/(l+15*c+3*h)||0;var _=c/d;return s=_<=f?p*_:116*Math.pow(_,1/3)-16,o=13*s*(e-m),a=13*s*(r-v),[s,o,a]};var qp={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var t=n[0],i=n[1],e=n[2],r,s,o;return o=e/360*2*Math.PI,r=i*Math.cos(o),s=i*Math.sin(o),[t,r,s]},xyz:function(n){return jo.xyz(qp.luv(n))}},Qp=qp;jo.lchuv=function(n){var t=n[0],i=n[1],e=n[2],r=Math.sqrt(i*i+e*e),s=Math.atan2(e,i),o=s*360/2/Math.PI;return o<0&&(o+=360),[t,r,o]};qt.lchuv=function(n){return jo.lchuv(qt.luv(n))};var Nc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var tg=b0,Jp={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function b0(n){var t,i=[],e=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),Nc[n])i=Nc[n].slice(),r="rgb";else if(n==="transparent")e=0,r="rgb",i=[0,0,0];else if(n[0]==="#"){var s=n.slice(1),o=s.length,a=o<=4;e=1,a?(i=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(e=parseInt(s[3]+s[3],16)/255)):(i=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(e=parseInt(s[6]+s[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),r="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=t[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;i=t[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=i.shift()),i=i.map(function(h,u){if(h[h.length-1]==="%")return h=parseFloat(h)/100,u===3?h:r==="rgb"?h*255:r[0]==="h"||r[0]==="l"&&!u?h*100:r==="lab"?h*125:r==="lch"?u<2?h*150:h*360:r[0]==="o"&&!u?h:r==="oklab"?h*.4:r==="oklch"?u<2?h*.4:h*360:h;if(r[u]==="h"||u===2&&r[r.length-1]==="h"){if(Jp[h]!==void 0)return Jp[h];if(h.endsWith("deg"))return parseFloat(h);if(h.endsWith("turn"))return parseFloat(h)*360;if(h.endsWith("grad"))return parseFloat(h)*360/400;if(h.endsWith("rad"))return parseFloat(h)*180/Math.PI}return h==="none"?0:parseFloat(h)}),e=i.length>c?i.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(i=n.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),r=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:i,alpha:e}}var zo={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var t=n[0]/360,i=n[1]/100,e=n[2]/100,r,s,o,a,l,c=0;if(i===0)return l=e*255,[l,l,l];for(s=e<.5?e*(1+i):e+i-e*i,r=2*e-s,a=[0,0,0];c<3;)o=t+1/3*-(c-1),o<0?o++:o>1&&o--,l=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[c++]=l*255;return a}};oi.hsl=function(n){var t=n[0]/255,i=n[1]/255,e=n[2]/255,r=Math.min(t,i,e),s=Math.max(t,i,e),o=s-r,a,l,c;return s===r?a=0:t===s?a=(i-e)/o:i===s?a=2+(e-t)/o:e===s&&(a=4+(t-i)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,c*100]};function Fc(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var t,i,e,r=tg(n);if(!r.space)return[];let s=r.space[0]==="h"?zo.min:oi.min,o=r.space[0]==="h"?zo.max:oi.max;return t=Array(3),t[0]=Math.min(Math.max(r.values[0],s[0]),o[0]),t[1]=Math.min(Math.max(r.values[1],s[1]),o[1]),t[2]=Math.min(Math.max(r.values[2],s[2]),o[2]),r.space[0]==="h"&&(t=zo.rgb(t)),t.push(Math.min(Math.max(r.alpha,0),1)),t}function eg(n){return typeof n=="string"?n:ls(n)}var E0=1024,as={},jc=0;function ig(n){if(n.length===4)return n;let t=n.slice();return t[3]=1,t}function zc(n){let t=qt.lchuv(oi.xyz(n));return t[3]=n[3],t}function ng(n){let t=qt.rgb(Qp.xyz(n));return t[3]=n[3],t}function Uo(n){if(as.hasOwnProperty(n))return as[n];if(jc>=E0){let i=0;for(let e in as)i++&3||(delete as[e],--jc)}let t=Fc(n);if(t.length!==4)throw new Error('Failed to parse "'+n+'" as color');for(let i of t)if(isNaN(i))throw new Error('Failed to parse "'+n+'" as color');return Uc(t),as[n]=t,++jc,t}function ai(n){return Array.isArray(n)?n:Uo(n)}function Uc(n){return n[0]=ot(n[0]+.5|0,0,255),n[1]=ot(n[1]+.5|0,0,255),n[2]=ot(n[2]+.5|0,0,255),n[3]=ot(n[3],0,1),n}function ls(n){let t=n[0];t!=(t|0)&&(t=t+.5|0);let i=n[1];i!=(i|0)&&(i=i+.5|0);let e=n[2];e!=(e|0)&&(e=e+.5|0);let r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+t+","+i+","+e+","+r+")"}function rg(n){try{return Uo(n),!0}catch{return!1}}var Mi=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",sg=Mi.includes("firefox"),C0=Mi.includes("safari")&&!Mi.includes("chrom"),xI=C0&&(Mi.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Mi)),og=Mi.includes("webkit")&&!Mi.includes("edge"),Bc=Mi.includes("macintosh"),Bo=typeof devicePixelRatio<"u"?devicePixelRatio:1,ag=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Vc=typeof Image<"u"&&Image.prototype.decode;var Vo=function(){let n=!1;try{let t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return n}();function mt(n,t,i,e){let r;return i&&i.length?r=i.shift():ag?r=new OffscreenCanvas(n||300,t||300):r=document.createElement("canvas"),n&&(r.width=n),t&&(r.height=t),r.getContext("2d",e)}var Gc;function cs(){return Gc||(Gc=mt(1,1)),Gc}function hs(n){let t=n.canvas;t.width=1,t.height=1,n.clearRect(0,0,1,1)}function lg(n){let t=n.offsetWidth,i=getComputedStyle(n);return t+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),t}function cg(n){let t=n.offsetHeight,i=getComputedStyle(n);return t+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),t}function Hc(n,t){let i=t.parentNode;i&&i.replaceChild(n,t)}function un(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function Go(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function hg(n,t){let i=n.childNodes;for(let e=0;;++e){let r=i[e],s=t[e];if(!r&&!s)break;if(r!==s){if(!r){n.appendChild(s);continue}if(!s){n.removeChild(r),--e;continue}n.insertBefore(s,r)}}}function ug(n,t,i){let e=n,r=!0,s=!1,o=!1,a=[jn(e,A.LOAD,function(){o=!0,s||t()})];return e.src&&Vc?(s=!0,e.decode().then(function(){r&&t()}).catch(function(l){r&&(o?t():i())})):a.push(jn(e,A.ERROR,i)),function(){r=!1,a.forEach(Y)}}function x0(n,t){return new Promise((i,e)=>{function r(){o(),i(n)}function s(){o(),e(new Error("Image load error"))}function o(){n.removeEventListener("load",r),n.removeEventListener("error",s)}n.addEventListener("load",r),n.addEventListener("error",s),t&&(n.src=t)})}function dg(n,t){return t&&(n.src=t),n.src&&Vc?new Promise((i,e)=>n.decode().then(()=>i(n)).catch(r=>n.complete&&n.width?i(n):e(r))):x0(n)}var Xc=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(let i in this.cache_){let e=this.cache_[i];!(t++&3)&&!e.hasListener()&&(delete this.cache_[i],delete this.patternCache_[i],--this.cacheSize_)}}}get(t,i,e){let r=Wc(t,i,e);return r in this.cache_?this.cache_[r]:null}getPattern(t,i,e){let r=Wc(t,i,e);return r in this.patternCache_?this.patternCache_[r]:null}set(t,i,e,r,s){let o=Wc(t,i,e),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===j.IDLE&&r.load(),r.getImageState()===j.LOADING?r.ready().then(()=>{this.patternCache_[o]=cs().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=cs().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};function Wc(n,t,i){let e=i?ai(i):"null";return t+":"+n+":"+e}var se=new Xc;var us=null,Yc=class extends Ei{constructor(t,i,e,r,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=e,this.canvas_={},this.color_=s,this.imageState_=r===void 0?j.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=i,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===j.LOADED){us||(us=mt(1,1,void 0,{willReadFrequently:!0})),us.drawImage(this.image_,0,0);try{us.getImageData(0,0,1,1),this.tainted_=!1}catch{us=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(A.CHANGE)}handleImageError_(){this.imageState_=j.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=j.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let t=this.size_[0],i=this.size_[1],e=mt(t,i);e.fillRect(0,0,t,i),this.hitDetectionImage_=e.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===j.IDLE){this.image_||this.initializeImage_(),this.imageState_=j.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&dg(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==j.LOADED)return;let i=this.image_,e=document.createElement("canvas");e.width=Math.ceil(i.width*t),e.height=Math.ceil(i.height*t);let r=e.getContext("2d");r.scale(t,t),r.drawImage(i,0,0),r.globalCompositeOperation="multiply",r.fillStyle=eg(this.color_),r.fillRect(0,0,e.width/t,e.height/t),r.globalCompositeOperation="destination-in",r.drawImage(i,0,0),this.canvas_[t]=e}ready(){return this.ready_||(this.ready_=new Promise(t=>{this.imageState_===j.LOADED||this.imageState_===j.ERROR?t():this.addEventListener(A.CHANGE,function i(){(this.imageState_===j.LOADED||this.imageState_===j.ERROR)&&(this.removeEventListener(A.CHANGE,i),t())})})),this.ready_}};function Jn(n,t,i,e,r,s){let o=t===void 0?void 0:se.get(t,i,r);return o||(o=new Yc(n,n instanceof HTMLImageElement?n.src||void 0:t,i,e,r),se.set(t,i,r,o,s)),s&&o&&!se.getPattern(t,i,r)&&se.set(t,i,r,o,s),o}function $c(n){return n?Array.isArray(n)?ls(n):typeof n=="object"&&"src"in n?R0(n):n:null}function R0(n){if(!n.offset||!n.size)return se.getPattern(n.src,"anonymous",n.color);let t=n.src+":"+n.offset,i=se.getPattern(t,void 0,n.color);if(i)return i;let e=se.get(n.src,"anonymous",null);if(e.getImageState()!==j.LOADED)return null;let r=mt(n.size[0],n.size[1]);return r.drawImage(e.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),Jn(r.canvas,t,void 0,j.LOADED,n.color,!0),se.getPattern(t,void 0,n.color)}var ds="ol-hidden",pg="ol-selectable",Di="ol-unselectable";var tr="ol-control",Zc="ol-collapsed",I0=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),fg=["style","variant","weight","size","lineHeight","family"],gg=function(n){let t=n.match(I0);if(!t)return null;let i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let e=0,r=fg.length;e<r;++e){let s=t[e+1];s!==void 0&&(i[fg[e]]=s)}return i.families=i.family.split(/,\s?/),i};var qc="#000",Qc="round";var Jc="round",_g=10,vg="#000";var yg=1,Fe=new pt,er=null,Kc,T0={},iT=function(){let t="32px ",i=["monospace","serif"],e=i.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",s,o;function a(c,h,u){let d=!0;for(let g=0;g<e;++g){let m=i[g];if(o=mg(c+" "+h+" "+t+m,r),u!=m){let v=mg(c+" "+h+" "+t+u+","+m,r);d=d&&v!=o}}return!!d}function l(){let c=!0,h=Fe.getKeys();for(let u=0,d=h.length;u<d;++u){let g=h[u];Fe.get(g)<100&&(a.apply(this,g.split(`
`))?(Ne(T0),er=null,Kc=void 0,Fe.set(g,100)):(Fe.set(g,Fe.get(g)+1,!0),c=!1))}c&&(clearInterval(s),s=void 0)}return function(c){let h=gg(c);if(!h)return;let u=h.families;for(let d=0,g=u.length;d<g;++d){let m=u[d],v=h.style+`
`+h.weight+`
`+m;Fe.get(v)===void 0&&(Fe.set(v,100,!0),a(h.style,h.weight,m)||(Fe.set(v,0,!0),s===void 0&&(s=setInterval(l,32))))}}}();function S0(n,t){return er||(er=mt(1,1)),n!=Kc&&(er.font=n,Kc=er.font),er.measureText(t)}function mg(n,t){return S0(n,t).width}var th=class n extends Fo{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?j.LOADING:j.LOADED,this.imageState_===j.LOADING&&this.ready().then(()=>this.imageState_=j.LOADED),this.render()}clone(){let t=this.getScale(),i=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i}getAnchor(){let t=this.size_,i=this.getDisplacement(),e=this.getScaleArray();return[t[0]/2-i[0]/e[0],t[1]/2+i[1]/e[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let i=this.canvases_[t];if(!i){let e=this.renderOptions_,r=mt(e.size*t,e.size*t);this.draw_(e,r,t),i=r.canvas,this.canvases_[t]=i}return i}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,i,e){if(i===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return i;let r=this.radius_,s=this.radius2_===void 0?r:this.radius2_;if(r<s){let x=r;r=s,s=x}let o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),c=Math.sqrt(s*s-l*l),h=r-c,u=Math.sqrt(l*l+h*h),d=u/l;if(t==="miter"&&d<=e)return d*i;let g=i/2/d,m=i/2*(h/u),f=Math.sqrt((r+g)*(r+g)+m*m)-r;if(this.radius2_===void 0||t==="bevel")return f*2;let p=r*Math.sin(a),_=Math.sqrt(r*r-p*p),b=s-_,w=Math.sqrt(p*p+b*b)/p;if(w<=e){let x=w*i/2-s-r;return 2*Math.max(f,x)}return f*2}createRenderOptions(){let t=Qc,i=Jc,e=0,r=null,s=0,o,a=0;this.stroke_&&(o=$c(this.stroke_.getColor()??vg),a=this.stroke_.getWidth()??yg,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,i=this.stroke_.getLineJoin()??Jc,t=this.stroke_.getLineCap()??Qc,e=this.stroke_.getMiterLimit()??_g);let l=this.calculateLineJoinSize_(i,a,e),c=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*c+l);return{strokeStyle:o,strokeWidth:a,size:h,lineCap:t,lineDash:r,lineDashOffset:s,lineJoin:i,miterLimit:e}}render(){this.renderOptions_=this.createRenderOptions();let t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,i,e){if(i.scale(e,e),i.translate(t.size/2,t.size/2),this.createPath_(i),this.fill_){let r=this.fill_.getColor();r===null&&(r=qc),i.fillStyle=$c(r),i.fill()}t.strokeStyle&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineCap=t.lineCap,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())}createHitDetectionCanvas_(t){let i;if(this.fill_){let e=this.fill_.getColor(),r=0;typeof e=="string"&&(e=ai(e)),e===null?r=1:Array.isArray(e)&&(r=e.length===4?e[3]:1),r===0&&(i=mt(t.size,t.size),this.drawHitDetectionCanvas_(t,i))}return i?i.canvas:this.getImage(1)}createPath_(t){let i=this.points_,e=this.radius_;if(i===1/0)t.arc(0,0,e,0,2*Math.PI);else{let r=this.radius2_===void 0?e:this.radius2_;this.radius2_!==void 0&&(i*=2);let s=this.angle_-Math.PI/2,o=2*Math.PI/i;for(let a=0;a<i;a++){let l=s+a*o,c=a%2===0?e:r;t.lineTo(c*Math.cos(l),c*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,i){i.translate(t.size/2,t.size/2),this.createPath_(i),i.fillStyle=qc,i.fill(),t.strokeStyle&&(i.strokeStyle=t.strokeStyle,i.lineWidth=t.strokeWidth,t.lineDash&&(i.setLineDash(t.lineDash),i.lineDashOffset=t.lineDashOffset),i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,i.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},Ho=th;var eh=class n extends Ho{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){let t=this.getScale(),i=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i}setRadius(t){this.radius_=t,this.render()}},Wo=eh;var ih=class n{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){let t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){let i=Jn(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));i.ready().then(()=>{this.patternImage_=null}),i.getImageState()===j.IDLE&&i.load(),i.getImageState()===j.LOADING&&(this.patternImage_=i)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},ir=ih;var nh=class n{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){let t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}},Xo=nh;var Yo=class n{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=wg,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new n({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(i){return i.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=wg,this.geometry_=t}setZIndex(t){this.zIndex_=t}};function bg(n){let t;if(typeof n=="function")t=n;else{let i;Array.isArray(n)?i=n:(N(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),i=[n]),t=function(){return i}}return t}var rh=null;function Eg(n,t){if(!rh){let i=new ir({color:"rgba(255,255,255,0.4)"}),e=new Xo({color:"#3399CC",width:1.25});rh=[new Yo({image:new Wo({fill:i,stroke:e,radius:5}),fill:i,stroke:e})]}return rh}function wg(n){return n.getGeometry()}var nr=Yo;function Cg(n,t,i,e){return i!==void 0&&e!==void 0?[i/n,e/t]:i!==void 0?i/n:e!==void 0?e/t:1}var sh=class n extends Fo{constructor(t){t=t||{};let i=t.opacity!==void 0?t.opacity:1,e=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,s=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:i,rotation:e,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:s,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;let o=t.img!==void 0?t.img:null,a=t.src;N(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||ht(o)),N(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),N(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(t.src!==void 0?l=j.IDLE:o!==void 0&&(o instanceof HTMLImageElement?o.complete?l=o.src?j.LOADED:j.IDLE:l=j.LOADING:l=j.LOADED),this.color_=t.color!==void 0?ai(t.color):null,this.iconImage_=Jn(o,a,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,t.width!==void 0||t.height!==void 0){let c,h;if(t.size)[c,h]=t.size;else{let u=this.getImage(1);if(u.width&&u.height)c=u.width,h=u.height;else if(u instanceof HTMLImageElement){this.initialOptions_=t;let d=()=>{if(this.unlistenImageChange(d),!this.initialOptions_)return;let g=this.iconImage_.getSize();this.setScale(Cg(g[0],g[1],t.width,t.height))};this.listenImageChange(d);return}}c!==void 0&&this.setScale(Cg(c,h,t.width,t.height))}}clone(){let t,i,e;return this.initialOptions_?(i=this.initialOptions_.width,e=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:i,height:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}let i=this.getDisplacement(),e=this.getScaleArray();return[t[0]-i[0]/e[0],t[1]+i[1]/e[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){let i=this.getSize(),e=this.iconImage_.getSize();if(!i||!e)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=e[0]-i[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=e[1]-i[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==j.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){let t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==j.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(A.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(A.CHANGE,t)}ready(){return this.iconImage_.ready()}},xg=sh;var A0="#333",oh=class n{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=gt(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new ir({color:A0}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=gt(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}},Rg=oh;var rr=0,sr=0,lt=1<<rr++,D=1<<rr++,Qt=1<<rr++,_t=1<<rr++,je=1<<rr++,kt=Math.pow(2,rr)-1,Tg={[lt]:"boolean",[D]:"number",[Qt]:"string",[_t]:"color",[je]:"number[]"},M0=Object.keys(Tg).map(Number).sort(nn);function St(n){let t=[];for(let i of M0)D0(n,i)&&t.push(Tg[i]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function D0(n,t){return(n&t)===t}function Ie(n,t){return!!(n&t)}function $o(n,t){return n===t}var Re=class{constructor(t,i){this.type=t,this.value=i}},ah=class{constructor(t,i,...e){this.type=t,this.operator=i,this.args=e}};function lh(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function O0(n){switch(n){case"string":return Qt;case"color":return _t;case"number":return D;case"boolean":return lt;case"number[]":return je;default:throw new Error(`Unrecognized type hint: ${n}`)}}function q(n,t,i){switch(typeof n){case"boolean":return new Re(lt,n);case"number":return new Re(D,n);case"string":{let r=Qt;return rg(n)&&(r|=_t),$o(r&i,sr)||(r&=i),new Re(r,n)}default:}if(!Array.isArray(n))throw new Error("Expression must be an array or a primitive value");if(n.length===0)throw new Error("Empty expression");if(typeof n[0]=="string")return H0(n,t,i);for(let r of n)if(typeof r!="number")throw new Error("Expected an array of numbers");let e=je;return(n.length===3||n.length===4)&&(e|=_t),i&&(e&=i),new Re(e,n)}var E={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},P0={[E.Get]:L(([n,t])=>t!==void 0?O0(t.value):kt,V(1,2),k0),[E.Var]:L(([n])=>n.type,V(1,1),L0),[E.Id]:L(D|Qt,fs,N0),[E.Concat]:L(Qt,V(2,1/0),X(kt)),[E.GeometryType]:L(Qt,fs,F0),[E.Resolution]:L(D,fs),[E.Zoom]:L(D,fs),[E.Time]:L(D,fs),[E.Any]:L(lt,V(2,1/0),X(lt)),[E.All]:L(lt,V(2,1/0),X(lt)),[E.Not]:L(lt,V(1,1),X(lt)),[E.Equal]:L(lt,V(2,2),X(kt),Oi),[E.NotEqual]:L(lt,V(2,2),X(kt),Oi),[E.GreaterThan]:L(lt,V(2,2),X(kt),Oi),[E.GreaterThanOrEqualTo]:L(lt,V(2,2),X(kt),Oi),[E.LessThan]:L(lt,V(2,2),X(kt),Oi),[E.LessThanOrEqualTo]:L(lt,V(2,2),X(kt),Oi),[E.Multiply]:L(n=>{let t=D|_t;for(let i=0;i<n.length;i++)t&=n[i].type;return t},V(2,1/0),X(D|_t),Oi),[E.Coalesce]:L(n=>{let t=kt;for(let i=1;i<n.length;i+=2)t&=n[i].type;return t&=n[n.length-1].type,t},V(2,1/0),X(kt),Oi),[E.Divide]:L(D,V(2,2),X(D)),[E.Add]:L(D,V(2,1/0),X(D)),[E.Subtract]:L(D,V(2,2),X(D)),[E.Clamp]:L(D,V(3,3),X(D)),[E.Mod]:L(D,V(2,2),X(D)),[E.Pow]:L(D,V(2,2),X(D)),[E.Abs]:L(D,V(1,1),X(D)),[E.Floor]:L(D,V(1,1),X(D)),[E.Ceil]:L(D,V(1,1),X(D)),[E.Round]:L(D,V(1,1),X(D)),[E.Sin]:L(D,V(1,1),X(D)),[E.Cos]:L(D,V(1,1),X(D)),[E.Atan]:L(D,V(1,2),X(D)),[E.Sqrt]:L(D,V(1,1),X(D)),[E.Match]:L(n=>{let t=kt;for(let i=2;i<n.length;i+=2)t&=n[i].type;return t&=n[n.length-1].type,t},V(4,1/0),Ig,z0),[E.Between]:L(lt,V(3,3),X(D)),[E.Interpolate]:L(n=>{let t=_t|D;for(let i=3;i<n.length;i+=2)t&=n[i].type;return t},V(6,1/0),Ig,U0),[E.Case]:L(n=>{let t=kt;for(let i=1;i<n.length;i+=2)t&=n[i].type;return t&=n[n.length-1].type,t},V(3,1/0),j0,B0),[E.In]:L(lt,V(2,2),V0),[E.Number]:L(D,V(1,1/0),X(kt)),[E.String]:L(Qt,V(1,1/0),X(kt)),[E.Array]:L(n=>n.length===3||n.length===4?je|_t:je,V(1,1/0),X(D)),[E.Color]:L(_t,V(1,4),X(D)),[E.Band]:L(D,V(1,3),X(D)),[E.Palette]:L(_t,V(2,2),G0),[E.ToString]:L(Qt,V(1,1),X(lt|D|Qt|_t))};function k0(n,t){let i=q(n[1],t);if(!(i instanceof Re))throw new Error("Expected a literal argument for get operation");if(typeof i.value!="string")throw new Error("Expected a string argument for get operation");if(t.properties.add(i.value),n.length===3){let e=q(n[2],t);return[i,e]}return[i]}function L0(n,t,i,e){let r=n[1];if(typeof r!="string")throw new Error("Expected a string argument for var operation");if(t.variables.add(r),!("variables"in t.style)||t.style.variables[r]===void 0)return[new Re(kt,r)];let s=t.style.variables[r],o=q(s,t);if(o.value=r,e&&!Ie(e,o.type))throw new Error(`The variable ${r} has type ${St(o.type)} but the following type was expected: ${St(e)}`);return[o]}function N0(n,t){t.featureId=!0}function F0(n,t){t.geometryType=!0}function fs(n,t){let i=n[0];if(n.length!==1)throw new Error(`Expected no arguments for ${i} operation`);return[]}function V(n,t){return function(i,e){let r=i[0],s=i.length-1;if(n===t){if(s!==n){let o=n===1?"":"s";throw new Error(`Expected ${n} argument${o} for ${r}, got ${s}`)}}else if(s<n||s>t){let o=t===1/0?`${n} or more`:`${n} to ${t}`;throw new Error(`Expected ${o} arguments for ${r}, got ${s}`)}}}function X(n){return function(t,i){let e=t[0],r=t.length-1,s=new Array(r);for(let o=0;o<r;++o){let a=q(t[o+1],i);if(!Ie(n,a.type)){let l=St(n),c=St(a.type);throw new Error(`Unexpected type for argument ${o} of ${e} operation, got ${l} but expected ${c}`)}a.type&=n,s[o]=a}return s}}function Oi(n,t,i){let e=n[0],r=n.length-1,s=kt;for(let a=0;a<i.length;++a)s&=i[a].type;if(s===sr)throw new Error(`No common type could be found for arguments of ${e} operation`);let o=new Array(r);for(let a=0;a<r;++a)o[a]=q(n[a+1],t,s);return o}function j0(n,t){let i=n[0],e=n.length-1;if(e%2===0)throw new Error(`An odd amount of arguments was expected for operation ${i}, got ${JSON.stringify(e)} instead`)}function Ig(n,t){let i=n[0],e=n.length-1;if(e%2===1)throw new Error(`An even amount of arguments was expected for operation ${i}, got ${JSON.stringify(e)} instead`)}function z0(n,t,i,e){let r=n.length-1,o=q(n[1],t).type,a=q(n[n.length-1],t),l=e!==void 0?e&a.type:a.type,c=new Array(r-2);for(let u=0;u<r-2;u+=2){let d=q(n[u+2],t),g=q(n[u+3],t);o&=d.type,l&=g.type,c[u]=d,c[u+1]=g}let h=Qt|D|lt;if(!Ie(h,o))throw new Error(`Expected an input of type ${St(h)} for the interpolate operation, got ${St(o)} instead`);if($o(l,sr))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(n));for(let u=0;u<r-2;u+=2){let d=q(n[u+2],t,o),g=q(n[u+3],t,l);c[u]=d,c[u+1]=g}return[q(n[1],t,o),...c,q(n[n.length-1],t,l)]}function U0(n,t,i,e){let r=n[1],s;switch(r[0]){case"linear":s=1;break;case"exponential":if(s=r[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(r)}`);s=q(s,t);let o=q(n[2],t);if(!Ie(D,o.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${St(o.type)} instead`);o=q(n[2],t,D);let a=new Array(n.length-3);for(let l=0;l<a.length;l+=2){let c=q(n[l+3],t);if(!Ie(D,c.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${St(c.type)} at position ${l+2} instead`);let h=q(n[l+4],t);if(!Ie(D|_t,h.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${St(h.type)} at position ${l+3} instead`);c=q(n[l+3],t,D),h=q(n[l+4],t,D|_t),a[l]=c,a[l+1]=h}return[s,o,...a]}function B0(n,t,i,e){let r=q(n[n.length-1],t),s=e!==void 0?e&r.type:r.type,o=new Array(n.length-1);for(let a=0;a<o.length-1;a+=2){let l=q(n[a+1],t),c=q(n[a+2],t);if(!Ie(lt,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${St(l.type)} at position ${a} instead`);s&=c.type,o[a]=l,o[a+1]=c}if($o(s,sr))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(n));for(let a=0;a<o.length-1;a+=2)o[a+1]=q(n[a+2],t,s);return o[o.length-1]=q(n[n.length-1],t,s),o}function V0(n,t){let i=n[2];if(!Array.isArray(i))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(i[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');i=i[1]}let e=Qt|D,r=new Array(i.length);for(let o=0;o<r.length;o++){let a=q(i[o],t);e&=a.type,r[o]=a}if($o(e,sr))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(n));return[q(n[1],t,e),...r]}function G0(n,t){let i=q(n[1],t,D);if(i.type!==D)throw new Error(`The first argument of palette must be an number, got ${St(i.type)} instead`);let e=n[2];if(!Array.isArray(e))throw new Error("The second argument of palette must be an array");let r=new Array(e.length);for(let s=0;s<r.length;s++){let o=q(e[s],t,_t);if(!(o instanceof Re))throw new Error(`The palette color at index ${s} must be a literal value`);if(!Ie(o.type,_t))throw new Error(`The palette color at index ${s} should be of type color, got ${St(o.type)} instead`);r[s]=o}return[i,...r]}function L(n,...t){return function(i,e,r){let s=i[0],o=[];for(let l=0;l<t.length;l++)o=t[l](i,e,o,r)||o;let a=typeof n=="function"?n(o):n;if(r!==void 0){if(!Ie(a,r))throw new Error(`The following expression was expected to return ${St(r)}, but returns ${St(a)} instead: ${JSON.stringify(i)}`);a&=r}if(a===sr)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(i)}`);return new ah(a,s,...o)}}function H0(n,t,i){let e=n[0],r=P0[e];if(!r)throw new Error(`Unknown operator: ${e}`);return r(n,t,i)}function ch(n){if(!n)return"";let t=n.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return ch(n.getGeometries()[0]);default:return""}}function hh(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ze(n,t,i){let e=q(n,i);if(!Ie(t,e.type)){let r=St(t),s=St(e.type);throw new Error(`Expected expression to be of type ${r}, got ${s}`)}return Te(e,i)}function Te(n,t){if(n instanceof Re){if(n.type===_t&&typeof n.value=="string"){let e=Uo(n.value);return function(){return e}}return function(){return n.value}}let i=n.operator;switch(i){case E.Number:case E.String:case E.Coalesce:return W0(n,t);case E.Get:case E.Var:return X0(n,t);case E.Id:return e=>e.featureId;case E.GeometryType:return e=>e.geometryType;case E.Concat:{let e=n.args.map(r=>Te(r,t));return r=>"".concat(...e.map(s=>s(r).toString()))}case E.Resolution:return e=>e.resolution;case E.Any:case E.All:case E.Between:case E.In:case E.Not:return $0(n,t);case E.Equal:case E.NotEqual:case E.LessThan:case E.LessThanOrEqualTo:case E.GreaterThan:case E.GreaterThanOrEqualTo:return Y0(n,t);case E.Multiply:case E.Divide:case E.Add:case E.Subtract:case E.Clamp:case E.Mod:case E.Pow:case E.Abs:case E.Floor:case E.Ceil:case E.Round:case E.Sin:case E.Cos:case E.Atan:case E.Sqrt:return Z0(n,t);case E.Case:return K0(n,t);case E.Match:return q0(n,t);case E.Interpolate:return Q0(n,t);case E.ToString:return J0(n,t);default:throw new Error(`Unsupported operator ${i}`)}}function W0(n,t){let i=n.operator,e=n.args.length,r=new Array(e);for(let s=0;s<e;++s)r[s]=Te(n.args[s],t);switch(i){case E.Coalesce:return s=>{for(let o=0;o<e;++o){let a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case E.Number:case E.String:return s=>{for(let o=0;o<e;++o){let a=r[o](s);if(typeof a===i)return a}throw new Error(`Expected one of the values to be a ${i}`)};default:throw new Error(`Unsupported assertion operator ${i}`)}}function X0(n,t){let e=n.args[0].value;switch(n.operator){case E.Get:return r=>r.properties[e];case E.Var:return r=>r.variables[e];default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function Y0(n,t){let i=n.operator,e=Te(n.args[0],t),r=Te(n.args[1],t);switch(i){case E.Equal:return s=>e(s)===r(s);case E.NotEqual:return s=>e(s)!==r(s);case E.LessThan:return s=>e(s)<r(s);case E.LessThanOrEqualTo:return s=>e(s)<=r(s);case E.GreaterThan:return s=>e(s)>r(s);case E.GreaterThanOrEqualTo:return s=>e(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${i}`)}}function $0(n,t){let i=n.operator,e=n.args.length,r=new Array(e);for(let s=0;s<e;++s)r[s]=Te(n.args[s],t);switch(i){case E.Any:return s=>{for(let o=0;o<e;++o)if(r[o](s))return!0;return!1};case E.All:return s=>{for(let o=0;o<e;++o)if(!r[o](s))return!1;return!0};case E.Between:return s=>{let o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case E.In:return s=>{let o=r[0](s);for(let a=1;a<e;++a)if(o===r[a](s))return!0;return!1};case E.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${i}`)}}function Z0(n,t){let i=n.operator,e=n.args.length,r=new Array(e);for(let s=0;s<e;++s)r[s]=Te(n.args[s],t);switch(i){case E.Multiply:return s=>{let o=1;for(let a=0;a<e;++a)o*=r[a](s);return o};case E.Divide:return s=>r[0](s)/r[1](s);case E.Add:return s=>{let o=0;for(let a=0;a<e;++a)o+=r[a](s);return o};case E.Subtract:return s=>r[0](s)-r[1](s);case E.Clamp:return s=>{let o=r[0](s),a=r[1](s);if(o<a)return a;let l=r[2](s);return o>l?l:o};case E.Mod:return s=>r[0](s)%r[1](s);case E.Pow:return s=>Math.pow(r[0](s),r[1](s));case E.Abs:return s=>Math.abs(r[0](s));case E.Floor:return s=>Math.floor(r[0](s));case E.Ceil:return s=>Math.ceil(r[0](s));case E.Round:return s=>Math.round(r[0](s));case E.Sin:return s=>Math.sin(r[0](s));case E.Cos:return s=>Math.cos(r[0](s));case E.Atan:return e===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case E.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${i}`)}}function K0(n,t){let i=n.args.length,e=new Array(i);for(let r=0;r<i;++r)e[r]=Te(n.args[r],t);return r=>{for(let s=0;s<i-1;s+=2)if(e[s](r))return e[s+1](r);return e[i-1](r)}}function q0(n,t){let i=n.args.length,e=new Array(i);for(let r=0;r<i;++r)e[r]=Te(n.args[r],t);return r=>{let s=e[0](r);for(let o=1;o<i;o+=2)if(s===e[o](r))return e[o+1](r);return e[i-1](r)}}function Q0(n,t){let i=n.args.length,e=new Array(i);for(let r=0;r<i;++r)e[r]=Te(n.args[r],t);return r=>{let s=e[0](r),o=e[1](r),a,l;for(let c=2;c<i;c+=2){let h=e[c](r),u=e[c+1](r),d=Array.isArray(u);if(d&&(u=ig(u)),h>=o)return c===2?u:d?tw(s,o,a,l,h,u):ps(s,o,a,l,h,u);a=h,l=u}return l}}function J0(n,t){let i=n.operator,e=n.args.length,r=new Array(e);for(let s=0;s<e;++s)r[s]=Te(n.args[s],t);switch(i){case E.ToString:return s=>{let o=r[0](s);return n.args[0].type===_t?ls(o):o.toString()};default:throw new Error(`Unsupported convert operator ${i}`)}}function ps(n,t,i,e,r,s){let o=r-i;if(o===0)return e;let a=t-i,l=n===1?a/o:(Math.pow(n,a)-1)/(Math.pow(n,o)-1);return e+l*(s-e)}function tw(n,t,i,e,r,s){if(r-i===0)return e;let a=zc(e),l=zc(s),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let h=[ps(n,t,i,a[0],r,l[0]),ps(n,t,i,a[1],r,l[1]),a[2]+ps(n,t,i,0,r,c),ps(n,t,i,e[3],r,s[3])];return Uc(ng(h))}function ew(n){return!0}function Dg(n){let t=lh(),i=iw(n,t),e=hh();return function(r,s){if(e.properties=r.getPropertiesInternal(),e.resolution=s,t.featureId){let o=r.getId();o!==void 0?e.featureId=o:e.featureId=null}return t.geometryType&&(e.geometryType=ch(r.getGeometry())),i(e)}}function fh(n){let t=lh(),i=n.length,e=new Array(i);for(let o=0;o<i;++o)e[o]=uh(n[o],t);let r=hh(),s=new Array(i);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,t.featureId){let c=o.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<i;++c){let h=e[c](r);h&&(s[l]=h,l+=1)}return s.length=l,s}}function iw(n,t){let i=n.length,e=new Array(i);for(let r=0;r<i;++r){let s=n[r],o="filter"in s?ze(s.filter,lt,t):ew,a;if(Array.isArray(s.style)){let l=s.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=uh(s.style[c],t)}else a=[uh(s.style,t)];e[r]={filter:o,styles:a}}return function(r){let s=[],o=!1;for(let a=0;a<i;++a){let l=e[a].filter;if(l(r)&&!(n[a].else&&o)){o=!0;for(let c of e[a].styles){let h=c(r);h&&s.push(h)}}}return s}}function uh(n,t){let i=gs(n,"",t),e=ms(n,"",t),r=nw(n,t),s=rw(n,t),o=Jt(n,"z-index",t);if(!i&&!e&&!r&&!s&&!bo(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let a=new nr;return function(l){let c=!0;if(i){let h=i(l);h&&(c=!1),a.setFill(h)}if(e){let h=e(l);h&&(c=!1),a.setStroke(h)}if(r){let h=r(l);h&&(c=!1),a.setText(h)}if(s){let h=s(l);h&&(c=!1),a.setImage(h)}return o&&a.setZIndex(o(l)),c?null:a}}function gs(n,t,i){let e;if(t+"fill-pattern-src"in n?e=lw(n,t+"fill-",i):e=ph(n,t+"fill-color",i),!e)return null;let r=new ir;return function(s){let o=e(s);return o==="none"?null:(r.setColor(o),r)}}function ms(n,t,i){let e=Jt(n,t+"stroke-width",i),r=ph(n,t+"stroke-color",i);if(!e&&!r)return null;let s=li(n,t+"stroke-line-cap",i),o=li(n,t+"stroke-line-join",i),a=Og(n,t+"stroke-line-dash",i),l=Jt(n,t+"stroke-line-dash-offset",i),c=Jt(n,t+"stroke-miter-limit",i),h=new Xo;return function(u){if(r){let d=r(u);if(d==="none")return null;h.setColor(d)}if(e&&h.setWidth(e(u)),s){let d=s(u);if(d!=="butt"&&d!=="round"&&d!=="square")throw new Error("Expected butt, round, or square line cap");h.setLineCap(d)}if(o){let d=o(u);if(d!=="bevel"&&d!=="round"&&d!=="miter")throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(d)}return a&&h.setLineDash(a(u)),l&&h.setLineDashOffset(l(u)),c&&h.setMiterLimit(c(u)),h}}function nw(n,t){let i="text-",e=li(n,i+"value",t);if(!e)return null;let r=gs(n,i,t),s=gs(n,i+"background-",t),o=ms(n,i,t),a=ms(n,i+"background-",t),l=li(n,i+"font",t),c=Jt(n,i+"max-angle",t),h=Jt(n,i+"offset-x",t),u=Jt(n,i+"offset-y",t),d=_s(n,i+"overflow",t),g=li(n,i+"placement",t),m=Jt(n,i+"repeat",t),v=qo(n,i+"scale",t),f=_s(n,i+"rotate-with-view",t),p=Jt(n,i+"rotation",t),_=li(n,i+"align",t),b=li(n,i+"justify",t),y=li(n,i+"baseline",t),w=Og(n,i+"padding",t),x=Qo(n,i+"declutter-mode"),I=new Rg({declutterMode:x});return function(R){if(I.setText(e(R)),r&&I.setFill(r(R)),s&&I.setBackgroundFill(s(R)),o&&I.setStroke(o(R)),a&&I.setBackgroundStroke(a(R)),l&&I.setFont(l(R)),c&&I.setMaxAngle(c(R)),h&&I.setOffsetX(h(R)),u&&I.setOffsetY(u(R)),d&&I.setOverflow(d(R)),g){let T=g(R);if(T!=="point"&&T!=="line")throw new Error("Expected point or line for text-placement");I.setPlacement(T)}if(m&&I.setRepeat(m(R)),v&&I.setScale(v(R)),f&&I.setRotateWithView(f(R)),p&&I.setRotation(p(R)),_){let T=_(R);if(T!=="left"&&T!=="center"&&T!=="right"&&T!=="end"&&T!=="start")throw new Error("Expected left, right, center, start, or end for text-align");I.setTextAlign(T)}if(b){let T=b(R);if(T!=="left"&&T!=="right"&&T!=="center")throw new Error("Expected left, right, or center for text-justify");I.setJustify(T)}if(y){let T=y(R);if(T!=="bottom"&&T!=="top"&&T!=="middle"&&T!=="alphabetic"&&T!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");I.setTextBaseline(T)}return w&&I.setPadding(w(R)),I}}function rw(n,t){return"icon-src"in n?sw(n,t):"shape-points"in n?ow(n,t):"circle-radius"in n?aw(n,t):null}function sw(n,t){let i="icon-",e=i+"src",r=Pg(n[e],e),s=Zo(n,i+"anchor",t),o=qo(n,i+"scale",t),a=Jt(n,i+"opacity",t),l=Zo(n,i+"displacement",t),c=Jt(n,i+"rotation",t),h=_s(n,i+"rotate-with-view",t),u=Ag(n,i+"anchor-origin"),d=Mg(n,i+"anchor-x-units"),g=Mg(n,i+"anchor-y-units"),m=dw(n,i+"color"),v=hw(n,i+"cross-origin"),f=uw(n,i+"offset"),p=Ag(n,i+"offset-origin"),_=Ko(n,i+"width"),b=Ko(n,i+"height"),y=cw(n,i+"size"),w=Qo(n,i+"declutter-mode"),x=new xg({src:r,anchorOrigin:u,anchorXUnits:d,anchorYUnits:g,color:m,crossOrigin:v,offset:f,offsetOrigin:p,height:b,width:_,size:y,declutterMode:w});return function(I){return a&&x.setOpacity(a(I)),l&&x.setDisplacement(l(I)),c&&x.setRotation(c(I)),h&&x.setRotateWithView(h(I)),o&&x.setScale(o(I)),s&&x.setAnchor(s(I)),x}}function ow(n,t){let i="shape-",e=i+"points",r=i+"radius",s=dh(n[e],e),o=dh(n[r],r),a=gs(n,i,t),l=ms(n,i,t),c=qo(n,i+"scale",t),h=Zo(n,i+"displacement",t),u=Jt(n,i+"rotation",t),d=_s(n,i+"rotate-with-view",t),g=Ko(n,i+"radius2"),m=Ko(n,i+"angle"),v=Qo(n,i+"declutter-mode"),f=new Ho({points:s,radius:o,radius2:g,angle:m,declutterMode:v});return function(p){return a&&f.setFill(a(p)),l&&f.setStroke(l(p)),h&&f.setDisplacement(h(p)),u&&f.setRotation(u(p)),d&&f.setRotateWithView(d(p)),c&&f.setScale(c(p)),f}}function aw(n,t){let i="circle-",e=gs(n,i,t),r=ms(n,i,t),s=Jt(n,i+"radius",t),o=qo(n,i+"scale",t),a=Zo(n,i+"displacement",t),l=Jt(n,i+"rotation",t),c=_s(n,i+"rotate-with-view",t),h=Qo(n,i+"declutter-mode"),u=new Wo({radius:5,declutterMode:h});return function(d){return s&&u.setRadius(s(d)),e&&u.setFill(e(d)),r&&u.setStroke(r(d)),a&&u.setDisplacement(a(d)),l&&u.setRotation(l(d)),c&&u.setRotateWithView(c(d)),o&&u.setScale(o(d)),u}}function Jt(n,t,i){if(!(t in n))return;let e=ze(n[t],D,i);return function(r){return dh(e(r),t)}}function li(n,t,i){if(!(t in n))return null;let e=ze(n[t],Qt,i);return function(r){return Pg(e(r),t)}}function lw(n,t,i){let e=li(n,t+"pattern-src",i),r=Sg(n,t+"pattern-offset",i),s=Sg(n,t+"pattern-size",i),o=ph(n,t+"color",i);return function(a){return{src:e(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function _s(n,t,i){if(!(t in n))return null;let e=ze(n[t],lt,i);return function(r){let s=e(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${t}`);return s}}function ph(n,t,i){if(!(t in n))return null;let e=ze(n[t],_t|Qt,i);return function(r){return kg(e(r),t)}}function Og(n,t,i){if(!(t in n))return null;let e=ze(n[t],je,i);return function(r){return vs(e(r),t)}}function Zo(n,t,i){if(!(t in n))return null;let e=ze(n[t],je,i);return function(r){let s=vs(e(r),t);if(s.length!==2)throw new Error(`Expected two numbers for ${t}`);return s}}function Sg(n,t,i){if(!(t in n))return null;let e=ze(n[t],je,i);return function(r){return Lg(e(r),t)}}function qo(n,t,i){if(!(t in n))return null;let e=ze(n[t],je|D,i);return function(r){return fw(e(r),t)}}function Ko(n,t){let i=n[t];if(i!==void 0){if(typeof i!="number")throw new Error(`Expected a number for ${t}`);return i}}function cw(n,t){let i=n[t];if(i!==void 0){if(typeof i=="number")return gt(i);if(!Array.isArray(i))throw new Error(`Expected a number or size array for ${t}`);if(i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return i}}function hw(n,t){let i=n[t];if(i!==void 0){if(typeof i!="string")throw new Error(`Expected a string for ${t}`);return i}}function Ag(n,t){let i=n[t];if(i!==void 0){if(i!=="bottom-left"&&i!=="bottom-right"&&i!=="top-left"&&i!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return i}}function Mg(n,t){let i=n[t];if(i!==void 0){if(i!=="pixels"&&i!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return i}}function uw(n,t){let i=n[t];if(i!==void 0)return vs(i,t)}function Qo(n,t){let i=n[t];if(i!==void 0){if(typeof i!="string")throw new Error(`Expected a string for ${t}`);if(i!=="declutter"&&i!=="obstacle"&&i!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return i}}function dw(n,t){let i=n[t];if(i!==void 0)return kg(i,t)}function vs(n,t){if(!Array.isArray(n))throw new Error(`Expected an array for ${t}`);let i=n.length;for(let e=0;e<i;++e)if(typeof n[e]!="number")throw new Error(`Expected an array of numbers for ${t}`);return n}function Pg(n,t){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}function dh(n,t){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}function kg(n,t){if(typeof n=="string")return n;let i=vs(n,t),e=i.length;if(e<3||e>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return i}function Lg(n,t){let i=vs(n,t);if(i.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return i}function fw(n,t){return typeof n=="number"?n:Lg(n,t)}var Ng={RENDER_ORDER:"renderOrder"},gh=class extends cn{constructor(t){t=t||{};let i=Object.assign({},t);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,super(i),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Ng.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,i){let e=this.getDeclutter();e in t.declutter||(t.declutter[e]=new Fg.default(9)),this.getRenderer().renderDeclutter(t,i)}setRenderOrder(t){this.set(Ng.RENDER_ORDER,t)}setStyle(t){this.style_=pw(t),this.styleFunction_=t===null?void 0:bg(this.style_),this.changed()}};function pw(n){if(n===void 0)return Eg;if(!n)return null;if(typeof n=="function"||n instanceof nr)return n;if(!Array.isArray(n))return fh([n]);if(n.length===0)return[];let t=n.length,i=n[0];if(i instanceof nr){let r=new Array(t);for(let s=0;s<t;++s){let o=n[s];if(!(o instanceof nr))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in i){let r=new Array(t);for(let s=0;s<t;++s){let o=n[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return Dg(r)}return fh(n)}var jg=gh;var mh=class extends Nn{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,i){B()}calculateMatrices2D(t){let i=t.viewState,e=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;si(e,t.size[0]/2,t.size[1]/2,1/i.resolution,-1/i.resolution,-i.rotation,-i.center[0],-i.center[1]),Po(r,e)}forEachFeatureAtCoordinate(t,i,e,r,s,o,a,l){let c,h=i.viewState;function u(y,w,x,I){return s.call(o,w,y?x:null,I)}let d=h.projection,g=rp(t.slice(),d),m=[[0,0]];if(d.canWrapX()&&r){let y=d.getExtent(),w=et(y);m.push([-w,0],[w,0])}let v=i.layerStatesArray,f=v.length,p=[],_=[];for(let y=0;y<m.length;y++)for(let w=f-1;w>=0;--w){let x=v[w],I=x.layer;if(I.hasRenderer()&&os(x,h)&&a.call(l,I)){let R=I.getRenderer(),T=I.getSource();if(R&&T){let W=T.getWrapX()?g:t,z=u.bind(null,x.managed);_[0]=W[0]+m[y][0],_[1]=W[1]+m[y][1],c=R.forEachFeatureAtCoordinate(_,i,e,z,p)}if(c)return c}}if(p.length===0)return;let b=1/p.length;return p.forEach((y,w)=>y.distanceSq+=w*b),p.sort((y,w)=>y.distanceSq-w.distanceSq),p.some(y=>c=y.callback(y.feature,y.layer,y.geometry)),c}hasFeatureAtCoordinate(t,i,e,r,s,o){return this.forEachFeatureAtCoordinate(t,i,e,r,rn,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(t){B()}scheduleExpireIconCache(t){se.canExpireCache()&&t.postRenderFunctions.push(gw)}};function gw(n,t){se.expire()}var zg=mh;var _h=class extends Pt{constructor(t,i,e,r){super(t),this.inversePixelTransform=i,this.frameState=e,this.context=r}},Jo=_h;var vh=class extends zg{constructor(t){super(t),this.fontChangeListenerKey_=H(Fe,Ke.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");let i=this.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",this.element_.className=Di+" ol-layers";let e=t.getViewport();e.insertBefore(this.element_,e.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,i){let e=this.getMap();if(e.hasListener(t)){let r=new Jo(t,void 0,i);e.dispatchEvent(r)}}disposeInternal(){Y(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Zt.PRECOMPOSE,t);let i=t.layerStatesArray.sort(function(a,l){return a.zIndex-l.zIndex});i.some(a=>a.layer instanceof jg&&a.layer.getDeclutter())&&(t.declutter={});let r=t.viewState;this.children_.length=0;let s=[],o=null;for(let a=0,l=i.length;a<l;++a){let c=i[a];t.layerIndex=a;let h=c.layer,u=h.getSourceState();if(!os(c,r)||u!="ready"&&u!="undefined"){h.unrender();continue}let d=h.render(t,o);d&&(d!==o&&(this.children_.push(d),o=d),s.push(c))}this.declutter(t,s),hg(this.element_,this.children_),this.dispatchRenderEvent(Zt.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,i){for(let e=i.length-1;e>=0;--e){let r=i[e],s=r.layer;s.getDeclutter()&&s.renderDeclutter(t,r)}i.forEach(e=>e.layer.renderDeferred(t))}},Ug=vh;var Se=class extends Pt{constructor(t,i){super(t),this.layer=i}},yh={LAYERS:"layers"},wh=class n extends xo{constructor(t){t=t||{};let i=Object.assign({},t);delete i.layers;let e=t.layers;super(i),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(yh.LAYERS,this.handleLayersChanged_),e?Array.isArray(e)?e=new ne(e.slice(),{unique:!0}):N(typeof e.getArray=="function","Expected `layers` to be an array or a `Collection`"):e=new ne(void 0,{unique:!0}),this.setLayers(e)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Y),this.layersListenerKeys_.length=0;let t=this.getLayers();this.layersListenerKeys_.push(H(t,Vt.ADD,this.handleLayersAdd_,this),H(t,Vt.REMOVE,this.handleLayersRemove_,this));for(let e in this.listenerKeys_)this.listenerKeys_[e].forEach(Y);Ne(this.listenerKeys_);let i=t.getArray();for(let e=0,r=i.length;e<r;e++){let s=i[e];this.registerLayerListeners_(s),this.dispatchEvent(new Se("addlayer",s))}this.changed()}registerLayerListeners_(t){let i=[H(t,Ke.PROPERTYCHANGE,this.handleLayerChange_,this),H(t,A.CHANGE,this.handleLayerChange_,this)];t instanceof n&&i.push(H(t,"addlayer",this.handleLayerGroupAdd_,this),H(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ht(t)]=i}handleLayerGroupAdd_(t){this.dispatchEvent(new Se("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Se("removelayer",t.layer))}handleLayersAdd_(t){let i=t.element;this.registerLayerListeners_(i),this.dispatchEvent(new Se("addlayer",i)),this.changed()}handleLayersRemove_(t){let i=t.element,e=ht(i);this.listenerKeys_[e].forEach(Y),delete this.listenerKeys_[e],this.dispatchEvent(new Se("removelayer",i)),this.changed()}getLayers(){return this.get(yh.LAYERS)}setLayers(t){let i=this.getLayers();if(i){let e=i.getArray();for(let r=0,s=e.length;r<s;++r)this.dispatchEvent(new Se("removelayer",e[r]))}this.set(yh.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(i){i.getLayersArray(t)}),t}getLayerStatesArray(t){let i=t!==void 0?t:[],e=i.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(i)});let r=this.getLayerState(),s=r.zIndex;!t&&r.zIndex===void 0&&(s=0);for(let o=e,a=i.length;o<a;o++){let l=i[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=Ri(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return i}getSourceState(){return"ready"}},ys=wh;var bh=class extends Pt{constructor(t,i,e){super(t),this.map=i,this.frameState=e!==void 0?e:null}},Pi=bh;var Eh=class extends Pi{constructor(t,i,e,r,s,o){super(t,i,s),this.originalEvent=e,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Ue=Eh;var at={SINGLECLICK:"singleclick",CLICK:A.CLICK,DBLCLICK:A.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var ws={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Ch=class extends Ei{constructor(t,i){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i===void 0?1:i,this.down_=null;let e=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=e,this.pointerdownListenerKey_=H(e,ws.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=H(e,ws.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(A.TOUCHMOVE,this.boundHandleTouchMove_,Vo?{passive:!1}:!1)}emulateClick_(t){let i=new Ue(at.CLICK,this.map_,t);this.dispatchEvent(i),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,i=new Ue(at.DBLCLICK,this.map_,t),this.dispatchEvent(i)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let e=new Ue(at.SINGLECLICK,this.map_,t);this.dispatchEvent(e)},250)}updateActivePointers_(t){let i=t,e=i.pointerId;if(i.type==at.POINTERUP||i.type==at.POINTERCANCEL){delete this.trackedTouches_[e];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==i.target){delete this.trackedTouches_[r];break}}else(i.type==at.POINTERDOWN||i.type==at.POINTERMOVE)&&(this.trackedTouches_[e]=i);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);let i=new Ue(at.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(i),this.emulateClicks_&&!i.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Y),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);let i=new Ue(at.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(i),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){let e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(H(e,at.POINTERMOVE,this.handlePointerMove_,this),H(e,at.POINTERUP,this.handlePointerUp_,this),H(this.element_,at.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(H(this.element_.getRootNode(),at.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;let i=new Ue(at.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(i)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;let i=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Ue(at.POINTERMOVE,this.map_,t,i))}handleTouchMove_(t){let i=this.originalPointerMoveEvent_;(!i||i.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Y(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(A.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Y(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Y),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Bg=Ch;var me={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var At={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var bs=1/0,xh=class{constructor(t,i){this.priorityFunction_=t,this.keyFunction_=i,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ne(this.queuedElements_)}dequeue(){let t=this.elements_,i=this.priorities_,e=t[0];t.length==1?(t.length=0,i.length=0):(t[0]=t.pop(),i[0]=i.pop(),this.siftUp_(0));let r=this.keyFunction_(e);return delete this.queuedElements_[r],e}enqueue(t){N(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let i=this.priorityFunction_(t);return i!=bs?(this.elements_.push(t),this.priorities_.push(i),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){let i=this.elements_,e=this.priorities_,r=i.length,s=i[t],o=e[t],a=t;for(;t<r>>1;){let l=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),h=c<r&&e[c]<e[l]?c:l;i[t]=i[h],e[t]=e[h],t=h}i[t]=s,e[t]=o,this.siftDown_(a,t)}siftDown_(t,i){let e=this.elements_,r=this.priorities_,s=e[i],o=r[i];for(;i>t;){let a=this.getParentIndex_(i);if(r[a]>o)e[i]=e[a],r[i]=r[a],i=a;else break}e[i]=s,r[i]=o}reprioritize(){let t=this.priorityFunction_,i=this.elements_,e=this.priorities_,r=0,s=i.length,o,a,l;for(a=0;a<s;++a)o=i[a],l=t(o),l==bs?delete this.queuedElements_[this.keyFunction_(o)]:(e[r]=l,i[r++]=o);i.length=r,e.length=r,this.heapify_()}},Vg=xh;var M={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Rh=class extends Vg{constructor(t,i){super(function(e){return t.apply(null,e)},function(e){return e[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){let i=super.enqueue(t);return i&&t[0].addEventListener(A.CHANGE,this.boundHandleTileChange_),i}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){let i=t.target,e=i.getState();if(e===M.LOADED||e===M.ERROR||e===M.EMPTY){e!==M.ERROR&&i.removeEventListener(A.CHANGE,this.boundHandleTileChange_);let r=i.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,i){let e=0,r,s,o;for(;this.tilesLoading_<t&&e<i&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),r=s.getState(),r===M.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++e,s.load())}},Gg=Rh;function Hg(n,t,i,e,r){if(!n||!(i in n.wantedTiles))return bs;if(!n.wantedTiles[i][t.getKey()])return bs;let s=n.viewState.center,o=e[0]-s[0],a=e[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}var Ih=class extends pt{constructor(t){super();let i=t.element;i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),this.element=i||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){un(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&un(this.element);for(let i=0,e=this.listenerKeys.length;i<e;++i)Y(this.listenerKeys[i]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==sn&&this.listenerKeys.push(H(t,me.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}},or=Ih;var Th=class extends or{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);let i=t.className!==void 0?t.className:"ol-attribution",e=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:i+"-expand",s=t.collapseLabel!==void 0?t.collapseLabel:"\u203A",o=t.collapseClassName!==void 0?t.collapseClassName:i+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;let a=t.label!==void 0?t.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=e,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(A.CLICK,this.handleClick_.bind(this),!1);let c=i+" "+Di+" "+tr+(this.collapsed_&&this.collapsible_?" "+Zc:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=c,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){let i=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(t)))),e=!this.getMap().getAllLayers().some(r=>r.getSource()&&r.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(e),i}updateElement_(t){return ed(this,null,function*(){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let i=yield Promise.all(this.collectSourceAttributions_(t).map(r=>Lf(()=>r))),e=i.length>0;if(this.renderedVisible_!=e&&(this.element.style.display=e?"":"none",this.renderedVisible_=e),!bi(i,this.renderedAttributions_)){Go(this.ulElement_);for(let r=0,s=i.length;r<s;++r){let o=document.createElement("li");o.innerHTML=i[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=i}})}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Zc),this.collapsed_?Hc(this.collapseLabel_,this.label_):Hc(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}},Wg=Th;var Sh=class extends or{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});let i=t.className!==void 0?t.className:"ol-rotate",e=t.label!==void 0?t.label:"\u21E7",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof e=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=e):(this.label_=e,this.label_.classList.add(r));let s=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=i+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(A.CLICK,this.handleClick_.bind(this),!1);let a=i+" "+Di+" "+tr,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ds)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let i=this.getMap().getView();if(!i)return;let e=i.getRotation();e!==void 0&&(this.duration_>0&&e%(2*Math.PI)!==0?i.animate({rotation:0,duration:this.duration_,easing:ge}):i.setRotation(0))}render(t){let i=t.frameState;if(!i)return;let e=i.viewState.rotation;if(e!=this.rotation_){let r="rotate("+e+"rad)";if(this.autoHide_){let s=this.element.classList.contains(ds);!s&&e===0?this.element.classList.add(ds):s&&e!==0&&this.element.classList.remove(ds)}this.label_.style.transform=r}this.rotation_=e}},Xg=Sh;var Ah=class extends or{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});let i=t.className!==void 0?t.className:"ol-zoom",e=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:i+"-in",s=t.zoomOutClassName!==void 0?t.zoomOutClassName:i+"-out",o=t.zoomInLabel!==void 0?t.zoomInLabel:"+",a=t.zoomOutLabel!==void 0?t.zoomOutLabel:"\u2013",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",c=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=l,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(A.CLICK,this.handleClick_.bind(this,e),!1);let u=document.createElement("button");u.className=s,u.setAttribute("type","button"),u.title=c,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(A.CLICK,this.handleClick_.bind(this,-e),!1);let d=i+" "+Di+" "+tr,g=this.element;g.className=d,g.appendChild(h),g.appendChild(u),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,i){i.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){let e=this.getMap().getView();if(!e)return;let r=e.getZoom();if(r!==void 0){let s=e.getConstrainedZoom(r+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:s,duration:this.duration_,easing:ge})):e.setZoom(s)}}},Yg=Ah;function $g(n){n=n||{};let t=new ne;return(n.zoom!==void 0?n.zoom:!0)&&t.push(new Yg(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&t.push(new Xg(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&t.push(new Wg(n.attributionOptions)),t}var Mh={ACTIVE:"active"};var Dh=class extends pt{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Mh.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(Mh.ACTIVE,t)}setMap(t){this.map_=t}};function Zg(n,t,i){let e=n.getCenterInternal();if(e){let r=[e[0]+t[0],e[1]+t[1]];n.animateInternal({duration:i!==void 0?i:250,easing:wp,center:n.getConstrainedCenter(r)})}}function ar(n,t,i,e){let r=n.getZoom();if(r===void 0)return;let s=n.getConstrainedZoom(r+t),o=n.getResolutionForZoom(s);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:o,anchor:i,duration:e!==void 0?e:250,easing:ge})}var Be=Dh;var Oh=class extends Be{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let i=!1;if(t.type==at.DBLCLICK){let e=t.originalEvent,r=t.map,s=t.coordinate,o=e.shiftKey?-this.delta_:this.delta_,a=r.getView();ar(a,o,s,this.duration_),e.preventDefault(),i=!0}return!i}},Kg=Oh;var Ph=class extends Be{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let i=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==at.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==at.POINTERUP){let e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==at.POINTERDOWN){let e=this.handleDownEvent(t);this.handlingDownUpSequence=e,i=this.stopDown(e)}else t.type==at.POINTERMOVE&&this.handleMoveEvent(t);return!i}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function lr(n){let t=n.length,i=0,e=0;for(let r=0;r<t;r++)i+=n[r].clientX,e+=n[r].clientY;return{clientX:i/t,clientY:e/t}}var Ve=Ph;function Es(n){let t=arguments;return function(i){let e=!0;for(let r=0,s=t.length;r<s&&(e=e&&t[r](i),!!e);++r);return e}}var qg=function(n){let t=n.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},mw=function(n){let t=n.map.getTargetElement(),i=n.map.getOwnerDocument().activeElement;return t.contains(i)},ta=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?mw(n):!0},Qg=rn;var ea=function(n){let t=n.originalEvent;return t.button==0&&!(og&&Bc&&t.ctrlKey)};var ia=function(n){let t=n.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};var Jg=function(n){let t=n.originalEvent;return Bc?t.metaKey:t.ctrlKey},tm=function(n){let t=n.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},na=function(n){let t=n.originalEvent,i=t.target.tagName;return i!=="INPUT"&&i!=="SELECT"&&i!=="TEXTAREA"&&!t.target.isContentEditable},ra=function(n){let t=n.originalEvent;return N(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"};var em=function(n){let t=n.originalEvent;return N(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};var kh=class extends Ve{constructor(t){super({stopDown:qe}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let i=t.condition?t.condition:Es(ia,em);this.condition_=t.onFocusOnly?Es(ta,i):i,this.noKinetic_=!1}handleDragEvent(t){let i=t.map;this.panning_||(this.panning_=!0,i.getView().beginInteraction());let e=this.targetPointers,r=i.getEventPixel(lr(e));if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=t.map.getView();np(s,a.getResolution()),$n(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()}handleUpEvent(t){let i=t.map,e=i.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=e.getCenterInternal(),a=i.getPixelFromCoordinateInternal(o),l=i.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);e.animateInternal({center:e.getConstrainedCenter(l),duration:500,easing:ge})}return this.panning_&&(this.panning_=!1,e.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){let e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},im=kh;var Lh=class extends Ve{constructor(t){t=t||{},super({stopDown:qe}),this.condition_=t.condition?t.condition:qg,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!ra(t))return;let i=t.map,e=i.getView();if(e.getConstraints().rotation===Kn)return;let r=i.getSize(),s=t.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=o-this.lastAngle_;e.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(t){return ra(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return ra(t)&&ea(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},nm=Lh;var Nh=class extends Nn{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let t=this.startPixel_,i=this.endPixel_,e="px",r=this.element_.style;r.left=Math.min(t[0],i[0])+e,r.top=Math.min(t[1],i[1])+e,r.width=Math.abs(i[0]-t[0])+e,r.height=Math.abs(i[1]-t[1])+e}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let i=this.element_.style;i.left="inherit",i.top="inherit",i.width="inherit",i.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,i){this.startPixel_=t,this.endPixel_=i,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){let t=this.startPixel_,i=this.endPixel_,r=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Yp([r])}getGeometry(){return this.geometry_}},rm=Nh;var sa={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Cs=class extends Pt{constructor(t,i,e){super(t),this.coordinate=i,this.mapBrowserEvent=e}},Fh=class extends Ve{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new rm(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:ea,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,i,e){let r=e[0]-i[0],s=e[1]-i[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Cs(sa.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);let i=this.boxEndCondition_(t,this.startPixel_,t.pixel);return i&&this.onBoxEnd(t),this.dispatchEvent(new Cs(i?sa.BOXEND:sa.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Cs(sa.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}},sm=Fh;var jh=class extends sm{constructor(t){t=t||{};let i=t.condition?t.condition:tm;super({condition:i,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){let e=this.getMap().getView(),r=this.getGeometry();if(this.out_){let s=e.rotatedExtentForGeometry(r),o=e.getResolutionForExtentInternal(s),a=e.getResolution()/o;r=r.clone(),r.scale(a*a)}e.fitInternal(r,{duration:this.duration_,easing:ge})}},om=jh;var ki={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var zh=class extends Be{constructor(t){super(),t=t||{},this.defaultCondition_=function(i){return ia(i)&&na(i)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let i=!1;if(t.type==A.KEYDOWN){let e=t.originalEvent,r=e.key;if(this.condition_(t)&&(r==ki.DOWN||r==ki.LEFT||r==ki.RIGHT||r==ki.UP)){let o=t.map.getView(),a=o.getResolution()*this.pixelDelta_,l=0,c=0;r==ki.DOWN?c=-a:r==ki.LEFT?l=-a:r==ki.RIGHT?l=a:c=a;let h=[l,c];$n(h,o.getRotation()),Zg(o,h,this.duration_),e.preventDefault(),i=!0}}return!i}},am=zh;var Uh=class extends Be{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(i){return!Jg(i)&&na(i)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let i=!1;if(t.type==A.KEYDOWN||t.type==A.KEYPRESS){let e=t.originalEvent,r=e.key;if(this.condition_(t)&&(r==="+"||r==="-")){let s=t.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();ar(a,o,void 0,this.duration_),e.preventDefault(),i=!0}}return!i}},lm=Uh;var Bh=class{constructor(t,i,e){this.decay_=t,this.minVelocity_=i,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,i){this.points_.push(t,i,Date.now())}end(){if(this.points_.length<6)return!1;let t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;let e=i-3;for(;e>0&&this.points_[e+2]>t;)e-=3;let r=this.points_[i+2]-this.points_[e+2];if(r<1e3/60)return!1;let s=this.points_[i]-this.points_[e],o=this.points_[i+1]-this.points_[e+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},cm=Bh;var Vh=class extends Be{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;let i=t.condition?t.condition:Qg;this.condition_=t.onFocusOnly?Es(ta,i):i,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==A.WHEEL)return!0;let e=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let s;if(t.type==A.WHEEL&&(s=r.deltaY,sg&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Bo),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;let o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");let a=e.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;let l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),l),!1}handleWheelZoom_(t){let i=t.getView();i.getAnimating()&&i.cancelAnimations();let e=-ot(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(i.getConstrainResolution()||this.constrainResolution_)&&(e=e?e>0?1:-1:0),ar(i,e,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},hm=Vh;var Gh=class extends Ve{constructor(t){t=t||{};let i=t;i.stopDown||(i.stopDown=qe),super(i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let i=0,e=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-e.clientY,r.clientX-e.clientX);if(this.lastAngle_!==void 0){let l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),i=l}this.lastAngle_=s;let o=t.map,a=o.getView();a.getConstraints().rotation!==Kn&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(lr(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(i,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){let i=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}},um=Gh;var Hh=class extends Ve{constructor(t){t=t||{};let i=t;i.stopDown||(i.stopDown=qe),super(i),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let i=1,e=this.targetPointers[0],r=this.targetPointers[1],s=e.clientX-r.clientX,o=e.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(i=this.lastDistance_/a),this.lastDistance_=a;let l=t.map,c=l.getView();i!=1&&(this.lastScaleDelta_=i),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(lr(this.targetPointers))),l.render(),c.adjustResolutionInternal(i,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){let e=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){let i=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1}},dm=Hh;function fm(n){n=n||{};let t=new ne,i=new cm(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&t.push(new nm),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&t.push(new Kg({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&t.push(new im({onFocusOnly:n.onFocusOnly,kinetic:i})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&t.push(new um),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&t.push(new dm({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(t.push(new am),t.push(new lm({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&t.push(new hm({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&t.push(new om({duration:n.zoomDuration})),t}function pm(n){if(n instanceof cn){n.setMapInternal(null);return}n instanceof ys&&n.getLayers().forEach(pm)}function gm(n,t){if(n instanceof cn){n.setMapInternal(t);return}if(n instanceof ys){let i=n.getLayers().getArray();for(let e=0,r=i.length;e<r;++e)gm(i[e],t)}}var Wh=class extends pt{constructor(t){super(),t=t||{},this.on,this.once,this.un;let i=_w(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Bo,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ri(),this.pixelToCoordinateTransform_=ri(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=i.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=i.controls||$g(),this.interactions=i.interactions||fm({onFocusOnly:!0}),this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Gg(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(At.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(At.VIEW,this.handleViewChanged_),this.addChangeListener(At.SIZE,this.handleSizeChanged_),this.addChangeListener(At.TARGET,this.handleTargetChanged_),this.setProperties(i.values);let e=this;t.view&&!(t.view instanceof re)&&t.view.then(function(r){e.setView(new re(r))}),this.controls.addEventListener(Vt.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Vt.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Vt.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Vt.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Vt.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Vt.REMOVE,r=>{let s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){gm(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){let i=t.getId();i!==void 0&&(this.overlayIdIndex_[i.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,i,e){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};let s=e.hitTolerance!==void 0?e.hitTolerance:0,o=e.layerFilter!==void 0?e.layerFilter:rn,a=e.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,i,null,o,null)}getFeaturesAtPixel(t,i){let e=[];return this.forEachFeatureAtPixel(t,function(r){e.push(r)},i),e}getAllLayers(){let t=[];function i(e){e.forEach(function(r){r instanceof ys?i(r.getLayers()):t.push(r)})}return i(this.getLayers()),t}hasFeatureAtPixel(t,i){if(!this.frameState_||!this.renderer_)return!1;let e=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};let r=i.layerFilter!==void 0?i.layerFilter:rn,s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(e,this.frameState_,s,o,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){let e=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=e.width/r[0],o=e.height/r[1],a="changedTouches"in t?t.changedTouches[0]:t;return[(a.clientX-e.left)/s,(a.clientY-e.top)/o]}getTarget(){return this.get(At.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return ss(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){let i=this.frameState_;return i?Ht(i.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){let i=this.overlayIdIndex_[t.toString()];return i!==void 0?i:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(At.LAYERGROUP)}setLayers(t){let i=this.getLayerGroup();if(t instanceof ne){i.setLayers(t);return}let e=i.getLayers();e.clear(),e.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let t=this.getLayerGroup().getLayerStatesArray();for(let i=0,e=t.length;i<e;++i){let r=t[i];if(!r.visible)continue;let s=r.layer.getRenderer();if(s&&!s.ready)return!0;let o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(t){let i=xe(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(i)}getPixelFromCoordinateInternal(t){let i=this.frameState_;return i?Ht(i.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(At.SIZE)}getView(){return this.get(At.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,i,e,r){return Hg(this.frameState_,t,i,e,r)}handleBrowserEvent(t,i){i=i||t.type;let e=new Ue(i,this,t);this.handleMapBrowserEvent(e)}handleMapBrowserEvent(t){if(!this.frameState_)return;let i=t.originalEvent,e=i.type;if(e===ws.POINTERDOWN||e===A.WHEEL||e===A.KEYDOWN){let r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=i.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){let r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){let t=this.frameState_,i=this.tileQueue_;if(!i.isEmpty()){let r=this.maxTilesLoading_,s=r;if(t){let o=t.viewHints;if(o[Kt.ANIMATING]||o[Kt.INTERACTING]){let a=Date.now()-t.time>8;r=a?0:8,s=a?0:2}}i.getTilesLoading()<r&&(i.reprioritize(),i.loadMoreTiles(r,s))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(Zt.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Zt.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Pi(me.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Pi(me.LOADSTART,this,t))));let e=this.postRenderFunctions_;for(let r=0,s=e.length;r<s;++r)e[r](this,t);e.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,r=this.targetChangeHandlerKeys_.length;e<r;++e)Y(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(A.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(A.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,un(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}let t=this.getTarget(),i=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=i,!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Ug(this)),this.mapBrowserEventHandler_=new Bg(this,this.moveTolerance_);for(let s in at)this.mapBrowserEventHandler_.addEventListener(at[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(A.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(A.WHEEL,this.boundHandleBrowserEvent_,Vo?{passive:!1}:!1);let e=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[H(e,A.KEYDOWN,this.handleBrowserEvent,this),H(e,A.KEYPRESS,this.handleBrowserEvent,this)];let r=i.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(i)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Y(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Y(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=H(t,Ke.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=H(t,A.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Y),this.layerGroupPropertyListenerKeys_=null);let t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Se("addlayer",t)),this.layerGroupPropertyListenerKeys_=[H(t,Ke.PROPERTYCHANGE,this.render,this),H(t,A.CHANGE,this.render,this),H(t,"addlayer",this.handleLayerAdd_,this),H(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let t=this.getLayerGroup().getLayerStatesArray();for(let i=0,e=t.length;i<e;++i){let r=t[i].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){pm(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){let i=this.getSize(),e=this.getView(),r=this.frameState_,s=null;if(i!==void 0&&kc(i)&&e&&e.isDef()){let o=e.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=e.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:rs(a.center,a.resolution,a.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:ht(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=rs(a.nextCenter,a.nextResolution,l,i)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Ii(this.previousExtent_)&&!es(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Pi(me.MOVESTART,this,r)),this.previousExtent_=on(this.previousExtent_)),this.previousExtent_&&!s.viewHints[Kt.ANIMATING]&&!s.viewHints[Kt.INTERACTING]&&!es(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Pi(me.MOVEEND,this,s)),$f(s.extent,this.previousExtent_))),this.dispatchEvent(new Pi(me.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(me.LOADSTART)||this.hasListener(me.LOADEND)||this.hasListener(Zt.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){let i=this.getLayerGroup();i&&this.handleLayerRemove_(new Se("removelayer",i)),this.set(At.LAYERGROUP,t)}setSize(t){this.set(At.SIZE,t)}setTarget(t){this.set(At.TARGET,t)}setView(t){if(!t||t instanceof re){this.set(At.VIEW,t);return}this.set(At.VIEW,new re);let i=this;t.then(function(e){i.setView(new re(e))})}updateSize(){let t=this.getTargetElement(),i;if(t){let r=getComputedStyle(t),s=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(i=[s,o],!kc(i)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Do("No map visible because the map container's width or height are 0."))}let e=this.getSize();i&&(!e||!bi(i,e))&&(this.setSize(i),this.updateViewportSize_(i))}updateViewportSize_(t){let i=this.getView();i&&i.setViewportSize(t)}};function _w(n){let t=null;n.keyboardEventTarget!==void 0&&(t=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let i={},e=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new ys({layers:n.layers});i[At.LAYERGROUP]=e,i[At.TARGET]=n.target,i[At.VIEW]=n.view instanceof re?n.view:new re;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new ne(n.controls.slice()):(N(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let s;n.interactions!==void 0&&(Array.isArray(n.interactions)?s=new ne(n.interactions.slice()):(N(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=n.interactions));let o;return n.overlays!==void 0?Array.isArray(n.overlays)?o=new ne(n.overlays.slice()):(N(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=n.overlays):o=new ne,{controls:r,interactions:s,keyboardEventTarget:t,overlays:o,values:i}}var mm=Wh;var Xh=class extends Eo{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return B()}getData(t){return null}prepareFrame(t){return B()}renderFrame(t,i){return B()}loadedTileCallback(t,i,e){t[i]||(t[i]={}),t[i][e.tileCoord.toString()]=e}createLoadedTileFinder(t,i,e){return(r,s)=>{let o=this.loadedTileCallback.bind(this,e,r);return t.forEachLoadedTile(i,r,s,o)}}forEachFeatureAtCoordinate(t,i,e,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){let i=t.target;(i.getState()===j.LOADED||i.getState()===j.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let i=t.getState();return i!=j.LOADED&&i!=j.ERROR&&t.addEventListener(A.CHANGE,this.boundHandleImageChange_),i==j.IDLE&&(t.load(),i=t.getState()),i==j.LOADED}renderIfReadyAndVisible(){let t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}},_m=Xh;var Yh=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(CanvasRenderingContext2D.prototype,{get:(t,i)=>{if(typeof cs()[i]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(i),this.pushMethodArgs_},set:(t,i,e)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(i,e),!0)})}pushMethodArgs_=(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this);getContext(){return this.context_}draw(t){this.instructions_.forEach(i=>{for(let e=0,r=i.length;e<r;e+=2){let s=i[e],o=i[e+1];if(typeof t[s]=="function")t[s](...o);else{if(typeof o=="function"){t[s]=o(t);continue}t[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},vm=Yh;var cr=null;function vw(){cr=mt(1,1,void 0,{willReadFrequently:!0})}var $h=class extends _m{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=ri(),this.pixelTransform=ri(),this.inversePixelTransform=ri(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,i,e){cr||vw(),cr.clearRect(0,0,1,1);let r;try{cr.drawImage(t,i,e,1,1,0,0,1,1),r=cr.getImageData(0,0,1,1).data}catch{return cr=null,null}return r}getBackground(t){let e=this.getLayer().getBackground();return typeof e=="function"&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,i,e){let r=this.getLayer().getClassName(),s,o;if(t&&t.className===r&&(!e||t&&t.style.backgroundColor&&bi(ai(t.style.backgroundColor),ai(e)))){let a=t.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===i?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=mt();let l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&e&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=e)}clipUnrotated(t,i,e){let r=pe(e),s=Yn(e),o=Xn(e),a=Wn(e);Ht(i.coordinateToPixelTransform,r),Ht(i.coordinateToPixelTransform,s),Ht(i.coordinateToPixelTransform,o),Ht(i.coordinateToPixelTransform,a);let l=this.inversePixelTransform;Ht(l,r),Ht(l,s),Ht(l,o),Ht(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}dispatchRenderEvent_(t,i,e){let r=this.getLayer();if(r.hasListener(t)){let s=new Jo(t,this.inversePixelTransform,e,i);r.dispatchEvent(s)}}preRender(t,i){this.frameState=i,!i.declutter&&this.dispatchRenderEvent_(Zt.PRERENDER,t,i)}postRender(t,i){i.declutter||this.dispatchRenderEvent_(Zt.POSTRENDER,t,i)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new vm),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Zt.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Zt.POSTRENDER,this.context,t))}getRenderTransform(t,i,e,r,s,o,a){let l=s/2,c=o/2,h=r/i,u=-h,d=-t[0]+a,g=-t[1];return si(this.tempTransform,l,c,h,u,-e,d,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}},ym=$h;var Zh=class extends pt{constructor(t){super(),this.projection=Gt(t.projection),this.attributions_=wm(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;let i=this;this.viewPromise_=new Promise(function(e,r){i.viewResolver=e,i.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=wm(t),this.changed()}setState(t){this.state_=t,this.changed()}};function wm(n){return n?Array.isArray(n)?function(t){return n}:typeof n=="function"?n:function(t){return[n]}:null}var bm=Zh;var Kh=class extends Ei{constructor(t,i,e){super(),e=e||{},this.tileCoord=t,this.state=i,this.interimTile=null,this.key="",this.transition_=e.transition===void 0?250:e.transition,this.transitionStarts_={},this.interpolate=!!e.interpolate}changed(){this.dispatchEvent(A.CHANGE)}release(){this.state===M.ERROR&&this.setState(M.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==M.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let i=this;do{if(t.getState()==M.LOADED){t.interimTile=null;break}t.getState()==M.LOADING?i=t:t.getState()==M.IDLE?i.interimTile=t.interimTile:i=t,t=i.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==M.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){B()}getAlpha(t,i){if(!this.transition_)return 1;let e=this.transitionStarts_[t];if(!e)e=i,this.transitionStarts_[t]=e;else if(e===-1)return 1;let r=i-e+1e3/60;return r>=this.transition_?1:fc(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}},oa=Kh;var yw=10,Em=.25,qh=class{constructor(t,i,e,r,s,o){this.sourceProj_=t,this.targetProj_=i;let a={},l=ln(this.targetProj_,this.sourceProj_);this.transformInv_=function(_){let b=_[0]+"/"+_[1];return a[b]||(a[b]=l(_)),a[b]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&et(r)>=et(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?et(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?et(this.targetProj_.getExtent()):null;let c=pe(e),h=Yn(e),u=Xn(e),d=Wn(e),g=this.transformInv_(c),m=this.transformInv_(h),v=this.transformInv_(u),f=this.transformInv_(d),p=yw+(o?Math.max(0,Math.ceil(Math.log2(ns(e)/(o*o*256*256)))):0);if(this.addQuad_(c,h,u,d,g,m,v,f,p),this.wrapsXInSource_){let _=1/0;this.triangles_.forEach(function(b,y,w){_=Math.min(_,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach(b=>{if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-_>this.sourceWorldWidth_/2){let y=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];y[0][0]-_>this.sourceWorldWidth_/2&&(y[0][0]-=this.sourceWorldWidth_),y[1][0]-_>this.sourceWorldWidth_/2&&(y[1][0]-=this.sourceWorldWidth_),y[2][0]-_>this.sourceWorldWidth_/2&&(y[2][0]-=this.sourceWorldWidth_);let w=Math.min(y[0][0],y[1][0],y[2][0]);Math.max(y[0][0],y[1][0],y[2][0])-w<this.sourceWorldWidth_/2&&(b.source=y)}})}a={}}addTriangle_(t,i,e,r,s,o){this.triangles_.push({source:[r,s,o],target:[t,i,e]})}addQuad_(t,i,e,r,s,o,a,l,c){let h=Jl([s,o,a,l]),u=this.sourceWorldWidth_?et(h)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&u>.5&&u<1,m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let f=Jl([t,i,e,r]);m=et(f)/this.targetWorldWidth_>Em||m}!g&&this.sourceProj_.isGlobal()&&u&&(m=u>Em||m)}if(!m&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!ii(h,this.maxSourceExtent_))return;let v=0;if(!m&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)m=!0;else if(v=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),v!=1&&v!=2&&v!=4&&v!=8)return}if(c>0){if(!m){let f=[(t[0]+e[0])/2,(t[1]+e[1])/2],p=this.transformInv_(f),_;g?_=(Ce(s[0],d)+Ce(a[0],d))/2-Ce(p[0],d):_=(s[0]+a[0])/2-p[0];let b=(s[1]+a[1])/2-p[1];m=_*_+b*b>this.errorThresholdSquared_}if(m){if(Math.abs(t[0]-e[0])<=Math.abs(t[1]-e[1])){let f=[(i[0]+e[0])/2,(i[1]+e[1])/2],p=this.transformInv_(f),_=[(r[0]+t[0])/2,(r[1]+t[1])/2],b=this.transformInv_(_);this.addQuad_(t,i,f,_,s,o,p,b,c-1),this.addQuad_(_,f,e,r,b,p,a,l,c-1)}else{let f=[(t[0]+i[0])/2,(t[1]+i[1])/2],p=this.transformInv_(f),_=[(e[0]+r[0])/2,(e[1]+r[1])/2],b=this.transformInv_(_);this.addQuad_(t,f,_,r,s,p,b,l,c-1),this.addQuad_(f,i,e,_,p,o,a,b,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}v&11||this.addTriangle_(t,e,r,s,a,l),v&14||this.addTriangle_(t,e,i,s,a,o),v&&(v&13||this.addTriangle_(i,r,t,o,l,s),v&7||this.addTriangle_(i,r,e,o,l,a))}calculateSourceExtent(){let t=fe();return this.triangles_.forEach(function(i,e,r){let s=i.source;is(t,s[0]),is(t,s[1]),is(t,s[2])}),t}getTriangles(){return this.triangles_}},Cm=qh;var Qh,dn=[];function xm(n,t,i,e,r){n.beginPath(),n.moveTo(0,0),n.lineTo(t,i),n.lineTo(e,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(t,e)+1,Math.max(i,r)),n.restore()}function Jh(n,t){return Math.abs(n[t*4]-210)>2||Math.abs(n[t*4+3]-.75*255)>2}function ww(){if(Qh===void 0){let n=mt(6,6,dn);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",xm(n,4,5,4,0),xm(n,4,5,0,5);let t=n.getImageData(0,0,3,3).data;Qh=Jh(t,0)||Jh(t,4)||Jh(t,8),hs(n),dn.push(n.canvas)}return Qh}function Rm(n,t,i,e){let r=Zn(i,t,n),s=oc(t,e,i),o=t.getMetersPerUnit();o!==void 0&&(s*=o);let a=n.getMetersPerUnit();a!==void 0&&(s/=a);let l=n.getExtent();if(!l||Hn(l,r)){let c=oc(n,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function Im(n,t,i,e){let r=ei(i),s=Rm(n,t,r,e);return(!isFinite(s)||s<=0)&&Ao(i,function(o){return s=Rm(n,t,o,e),isFinite(s)&&s>0}),s}function Tm(n,t,i,e,r,s,o,a,l,c,h,u,d,g){let m=mt(Math.round(i*n),Math.round(i*t),dn);if(u||(m.imageSmoothingEnabled=!1),l.length===0)return m.canvas;m.scale(i,i);function v(w){return Math.round(w*i)/i}m.globalCompositeOperation="lighter";let f=fe();l.forEach(function(w,x,I){qf(f,w.extent)});let p,_=i/e,b=(u?1:1+Math.pow(2,-24))/_;if(!d||l.length!==1||c!==0){if(p=mt(Math.round(et(f)*_),Math.round(Ct(f)*_),dn),u||(p.imageSmoothingEnabled=!1),r&&g){let w=(r[0]-f[0])*_,x=-(r[3]-f[3])*_,I=et(r)*_,R=Ct(r)*_;p.rect(w,x,I,R),p.clip()}l.forEach(function(w,x,I){let R=(w.extent[0]-f[0])*_,T=-(w.extent[3]-f[3])*_,W=et(w.extent)*_,z=Ct(w.extent)*_;w.image.width>0&&w.image.height>0&&p.drawImage(w.image,c,c,w.image.width-2*c,w.image.height-2*c,u?R:Math.round(R),u?T:Math.round(T),u?W:Math.round(R+W)-Math.round(R),u?z:Math.round(T+z)-Math.round(T))})}let y=pe(o);return a.getTriangles().forEach(function(w,x,I){let R=w.source,T=w.target,W=R[0][0],z=R[0][1],it=R[1][0],Wt=R[1][1],Nt=R[2][0],Ft=R[2][1],Mt=v((T[0][0]-y[0])/s),nt=v(-(T[0][1]-y[1])/s),wt=v((T[1][0]-y[0])/s),bt=v(-(T[1][1]-y[1])/s),ct=v((T[2][0]-y[0])/s),Fi=v(-(T[2][1]-y[1])/s),Xt=W,oe=z;W=0,z=0,it-=Xt,Wt-=oe,Nt-=Xt,Ft-=oe;let jt=[[it,Wt,0,0,wt-Mt],[Nt,Ft,0,0,ct-Mt],[0,0,it,Wt,bt-nt],[0,0,Nt,Ft,Fi-nt]],vt=jf(jt);if(!vt)return;if(m.save(),m.beginPath(),ww()||!u){m.moveTo(wt,bt);let zt=4,ae=Mt-wt,He=nt-bt;for(let ve=0;ve<zt;ve++)m.lineTo(wt+v((ve+1)*ae/zt),bt+v(ve*He/(zt-1))),ve!=zt-1&&m.lineTo(wt+v((ve+1)*ae/zt),bt+v((ve+1)*He/(zt-1)));m.lineTo(ct,Fi)}else m.moveTo(wt,bt),m.lineTo(Mt,nt),m.lineTo(ct,Fi);m.clip(),m.transform(vt[0],vt[2],vt[1],vt[3],Mt,nt),m.translate(f[0]-Xt,f[3]-oe);let Ge;if(p)Ge=p.canvas,m.scale(b,-b);else{let zt=l[0],ae=zt.extent;Ge=zt.image,m.scale(et(ae)/Ge.width,-Ct(ae)/Ge.height)}m.drawImage(Ge,0,0),m.restore()}),p&&(hs(p),dn.push(p.canvas)),h&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,a.getTriangles().forEach(function(w,x,I){let R=w.target,T=(R[0][0]-y[0])/s,W=-(R[0][1]-y[1])/s,z=(R[1][0]-y[0])/s,it=-(R[1][1]-y[1])/s,Wt=(R[2][0]-y[0])/s,Nt=-(R[2][1]-y[1])/s;m.beginPath(),m.moveTo(z,it),m.lineTo(T,W),m.lineTo(Wt,Nt),m.closePath(),m.stroke()}),m.restore()),m.canvas}var tu=class extends oa{constructor(t,i,e,r,s,o,a,l,c,h,u,d){super(s,M.IDLE,d),this.renderEdges_=u!==void 0?u:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;let g=r.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent(),v=this.sourceTileGrid_.getExtent(),f=m?Ri(g,m):g;if(ns(f)===0){this.state=M.EMPTY;return}let p=t.getExtent();p&&(v?v=Ri(v,p):v=p);let _=r.getResolution(this.wrappedTileCoord_[0]),b=Im(t,e,f,_);if(!isFinite(b)||b<=0){this.state=M.EMPTY;return}let y=h!==void 0?h:.5;if(this.triangulation_=new Cm(t,e,f,v,b*y,_),this.triangulation_.getTriangles().length===0){this.state=M.EMPTY;return}this.sourceZ_=i.getZForResolution(b);let w=this.triangulation_.calculateSourceExtent();if(v&&(t.canWrapX()?(w[1]=ot(w[1],v[1],v[3]),w[3]=ot(w[3],v[1],v[3])):w=Ri(w,v)),!ns(w))this.state=M.EMPTY;else{let x=i.getTileRangeForExtentAndZ(w,this.sourceZ_);for(let I=x.minX;I<=x.maxX;I++)for(let R=x.minY;R<=x.maxY;R++){let T=c(this.sourceZ_,I,R,a);T&&this.sourceTiles_.push(T)}this.sourceTiles_.length===0&&(this.state=M.EMPTY)}}getImage(){return this.canvas_}reproject_(){let t=[];if(this.sourceTiles_.forEach(i=>{i&&i.getState()==M.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(i.tileCoord),image:i.getImage()})}),this.sourceTiles_.length=0,t.length===0)this.state=M.ERROR;else{let i=this.wrappedTileCoord_[0],e=this.targetTileGrid_.getTileSize(i),r=typeof e=="number"?e:e[0],s=typeof e=="number"?e:e[1],o=this.targetTileGrid_.getResolution(i),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Tm(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=M.LOADED}this.changed()}load(){if(this.state==M.IDLE){this.state=M.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(i=>{let e=i.getState();if(e==M.IDLE||e==M.LOADING){t++;let r=H(i,A.CHANGE,function(s){let o=i.getState();(o==M.LOADED||o==M.ERROR||o==M.EMPTY)&&(Y(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(i,e,r){i.getState()==M.IDLE&&i.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Y),this.sourcesListenerKeys_=null}release(){this.canvas_&&(hs(this.canvas_.getContext("2d")),dn.push(this.canvas_),this.canvas_=null),super.release()}},xs=tu;var eu=class extends oa{constructor(t,i,e,r,s,o){super(t,i,o),this.crossOrigin_=r,this.src_=e,this.key=e,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(t){this.image_=t,this.state=M.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=M.ERROR,this.unlistenImage_(),this.image_=bw(),this.changed()}handleImageLoad_(){let t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=M.LOADED:this.state=M.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==M.ERROR&&(this.state=M.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==M.IDLE&&(this.state=M.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ug(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};function bw(){let n=mt(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var aa=eu;var iu=class{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let i=this.oldest_;for(;i;)t(i.value_,i.key_,this),i=i.newer}get(t,i){let e=this.entries_[t];return N(e!==void 0,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_}remove(t){let i=this.entries_[t];return N(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_?(this.newest_=i.older,this.newest_&&(this.newest_.newer=null)):i===this.oldest_?(this.oldest_=i.newer,this.oldest_&&(this.oldest_.older=null)):(i.newer.older=i.older,i.older.newer=i.newer),delete this.entries_[t],--this.count_,i.value_}getCount(){return this.count_}getKeys(){let t=new Array(this.count_),i=0,e;for(e=this.newest_;e;e=e.older)t[i++]=e.key_;return t}getValues(){let t=new Array(this.count_),i=0,e;for(e=this.newest_;e;e=e.older)t[i++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){let t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,i){this.get(t),this.entries_[t].value_=i}set(t,i){N(!(t in this.entries_),"Tried to set a value for a key that is used already");let e={key_:t,newer:null,older:this.newest_,value_:i};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[t]=e,++this.count_}setSize(t){this.highWaterMark=t}},Sm=iu;var la=class{constructor(t,i,e,r){this.minX=t,this.maxX=i,this.minY=e,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}};function fn(n,t,i,e,r){return r!==void 0?(r.minX=n,r.maxX=t,r.minY=i,r.maxY=e,r):new la(n,t,i,e)}var ca=la;function nu(n,t,i,e){return e!==void 0?(e[0]=n,e[1]=t,e[2]=i,e):[n,t,i]}function pn(n,t,i){return n+"/"+t+"/"+i}function ha(n){return pn(n[0],n[1],n[2])}function Am(n){return n.split("/").map(Number)}function Mm(n){return(n[1]<<n[0])+n[2]}function Dm(n,t){let i=n[0],e=n[1],r=n[2];if(t.getMinZoom()>i||i>t.getMaxZoom())return!1;let s=t.getFullTileRange(i);return s?s.containsXY(e,r):!0}var Rs={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var ru=class extends cn{constructor(t){t=t||{};let i=Object.assign({},t);delete i.preload,delete i.useInterimTilesOnError,super(i),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(Rs.PRELOAD)}setPreload(t){this.set(Rs.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Rs.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Rs.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}},Om=ru;var su=class extends ym{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=fe(),this.tmpTileRange_=new ca(0,0,0,0)}isDrawableTile(t){let i=this.getLayer(),e=t.getState(),r=i.getUseInterimTilesOnError();return e==M.LOADED||e==M.EMPTY||e==M.ERROR&&!r}getTile(t,i,e,r){let s=r.pixelRatio,o=r.viewState.projection,a=this.getLayer(),c=a.getSource().getTile(t,i,e,s,o);return c.getState()==M.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(c)||(c=c.getInterimTile()),c}getData(t){let i=this.frameState;if(!i)return null;let e=this.getLayer(),r=Ht(i.pixelToCoordinateTransform,t.slice()),s=e.getExtent();if(s&&!Hn(s,r))return null;let o=i.pixelRatio,a=i.viewState.projection,l=i.viewState,c=e.getRenderSource(),h=c.getTileGridForProjection(l.projection),u=c.getTilePixelRatio(i.pixelRatio);for(let d=h.getZForResolution(l.resolution);d>=h.getMinZoom();--d){let g=h.getTileCoordForCoordAndZ(r,d),m=c.getTile(d,g[1],g[2],o,a);if(!(m instanceof aa||m instanceof xs)||m instanceof xs&&m.getState()===M.EMPTY)return null;if(m.getState()!==M.LOADED)continue;let v=h.getOrigin(d),f=gt(h.getTileSize(d)),p=h.getResolution(d),_=Math.floor(u*((r[0]-v[0])/p-g[1]*f[0])),b=Math.floor(u*((v[1]-r[1])/p-g[2]*f[1])),y=Math.round(u*c.getGutterForProjection(l.projection));return this.getImageData(m.getImage(),_+y,b+y)}return null}loadedTileCallback(t,i,e){return this.isDrawableTile(e)?super.loadedTileCallback(t,i,e):!1}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,i){let e=t.layerStatesArray[t.layerIndex],r=t.viewState,s=r.projection,o=r.resolution,a=r.center,l=r.rotation,c=t.pixelRatio,h=this.getLayer(),u=h.getSource(),d=u.getRevision(),g=u.getTileGridForProjection(s),m=g.getZForResolution(o,u.zDirection),v=g.getResolution(m),f=t.extent,p=t.viewState.resolution,_=u.getTilePixelRatio(c),b=Math.round(et(f)/p*c),y=Math.round(Ct(f)/p*c),w=e.extent&&Si(e.extent,s);w&&(f=Ri(f,Si(e.extent,s)));let x=v*b/2/_,I=v*y/2/_,R=[a[0]-x,a[1]-I,a[0]+x,a[1]+I],T=g.getTileRangeForExtentAndZ(f,m),W={};W[m]={};let z=this.createLoadedTileFinder(u,s,W),it=this.tmpExtent,Wt=this.tmpTileRange_;this.newTiles_=!1;let Nt=l?Mo(r.center,p,l,t.size):void 0;for(let oe=T.minX;oe<=T.maxX;++oe)for(let jt=T.minY;jt<=T.maxY;++jt){if(l&&!g.tileCoordIntersectsViewport([m,oe,jt],Nt))continue;let vt=this.getTile(m,oe,jt,t);if(this.isDrawableTile(vt)){let ae=ht(this);if(vt.getState()==M.LOADED){W[m][vt.tileCoord.toString()]=vt;let He=vt.inTransition(ae);He&&e.opacity!==1&&(vt.endTransition(ae),He=!1),!this.newTiles_&&(He||!this.renderedTiles.includes(vt))&&(this.newTiles_=!0)}if(vt.getAlpha(ae,t.time)===1)continue}let Ge=g.getTileCoordChildTileRange(vt.tileCoord,Wt,it),zt=!1;Ge&&(zt=z(m+1,Ge)),zt||g.forEachTileCoordParentTileRange(vt.tileCoord,z,Wt,it)}let Ft=v/o*c/_;si(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,l,-b/2,-y/2);let Mt=Ep(this.pixelTransform);this.useContainer(i,Mt,this.getBackground(t));let nt=this.getRenderContext(t),wt=this.context.canvas;Po(this.inversePixelTransform,this.pixelTransform),si(this.tempTransform,b/2,y/2,Ft,Ft,0,-b/2,-y/2),wt.width!=b||wt.height!=y?(wt.width=b,wt.height=y):this.containerReused||nt.clearRect(0,0,b,y),w&&this.clipUnrotated(nt,t,w),u.getInterpolate()||(nt.imageSmoothingEnabled=!1),this.preRender(nt,t),this.renderedTiles.length=0;let bt=Object.keys(W).map(Number);bt.sort(nn);let ct,Fi,Xt;e.opacity===1&&(!this.containerReused||u.getOpaque(t.viewState.projection))?bt=bt.reverse():(ct=[],Fi=[]);for(let oe=bt.length-1;oe>=0;--oe){let jt=bt[oe],vt=u.getTilePixelSize(jt,c,s),zt=g.getResolution(jt)/v,ae=vt[0]*zt*Ft,He=vt[1]*zt*Ft,ve=g.getTileCoordForCoordAndZ(pe(R),jt),$u=g.getTileCoordExtent(ve),Bs=Ht(this.tempTransform,[_*($u[0]-R[0])/v,_*(R[3]-$u[3])/v]),M_=_*u.getGutterForProjection(s),Zu=W[jt];for(let D_ in Zu){let bn=Zu[D_],Ku=bn.tileCoord,qu=ve[1]-Ku[1],O_=Math.round(Bs[0]-(qu-1)*ae),Qu=ve[2]-Ku[2],P_=Math.round(Bs[1]-(Qu-1)*He),We=Math.round(Bs[0]-qu*ae),Xe=Math.round(Bs[1]-Qu*He),yr=O_-We,wr=P_-Xe,Ju=m===jt,td=Ju&&bn.getAlpha(ht(this),t.time)!==1,Sa=!1;if(!td)if(ct){Xt=[We,Xe,We+yr,Xe,We+yr,Xe+wr,We,Xe+wr];for(let Vs=0,k_=ct.length;Vs<k_;++Vs)if(m!==jt&&jt<Fi[Vs]){let le=ct[Vs];ii([We,Xe,We+yr,Xe+wr],[le[0],le[3],le[4],le[7]])&&(Sa||(nt.save(),Sa=!0),nt.beginPath(),nt.moveTo(Xt[0],Xt[1]),nt.lineTo(Xt[2],Xt[3]),nt.lineTo(Xt[4],Xt[5]),nt.lineTo(Xt[6],Xt[7]),nt.moveTo(le[6],le[7]),nt.lineTo(le[4],le[5]),nt.lineTo(le[2],le[3]),nt.lineTo(le[0],le[1]),nt.clip())}ct.push(Xt),Fi.push(jt)}else nt.clearRect(We,Xe,yr,wr);this.drawTileImage(bn,t,We,Xe,yr,wr,M_,Ju),ct&&!td?(Sa&&nt.restore(),this.renderedTiles.unshift(bn)):this.renderedTiles.push(bn),this.updateUsedTiles(t.usedTiles,u,bn)}}return this.renderedRevision=d,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!es(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=c,this.renderedProjection=s,this.manageTilePyramid(t,u,g,c,s,f,m,h.getPreload()),this.scheduleExpireCache(t,u),this.postRender(this.context,t),e.extent&&nt.restore(),nt.imageSmoothingEnabled=!0,Mt!==wt.style.transform&&(wt.style.transform=Mt),this.container}drawTileImage(t,i,e,r,s,o,a,l){let c=this.getTileImage(t);if(!c)return;let h=this.getRenderContext(i),u=ht(this),d=i.layerStatesArray[i.layerIndex],g=d.opacity*(l?t.getAlpha(u,i.time):1),m=g!==h.globalAlpha;m&&(h.save(),h.globalAlpha=g),h.drawImage(c,a,a,c.width-2*a,c.height-2*a,e,r,s,o),m&&h.restore(),g!==d.opacity?i.animate=!0:l&&t.endTransition(u)}getImage(){let t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,i){if(i.canExpireCache()){let e=(function(r,s,o){let a=ht(r);a in o.usedTiles&&r.expireCache(o.viewState.projection,o.usedTiles[a])}).bind(null,i);t.postRenderFunctions.push(e)}}updateUsedTiles(t,i,e){let r=ht(i);r in t||(t[r]={}),t[r][e.getKey()]=!0}manageTilePyramid(t,i,e,r,s,o,a,l,c){let h=ht(i);h in t.wantedTiles||(t.wantedTiles[h]={});let u=t.wantedTiles[h],d=t.tileQueue,g=e.getMinZoom(),m=t.viewState.rotation,v=m?Mo(t.viewState.center,t.viewState.resolution,m,t.size):void 0,f=0,p,_,b,y,w,x;for(x=g;x<=a;++x)for(_=e.getTileRangeForExtentAndZ(o,x,_),b=e.getResolution(x),y=_.minX;y<=_.maxX;++y)for(w=_.minY;w<=_.maxY;++w)m&&!e.tileCoordIntersectsViewport([x,y,w],v)||(a-x<=l?(++f,p=i.getTile(x,y,w,r,s),p.getState()==M.IDLE&&(u[p.getKey()]=!0,d.isKeyQueued(p.getKey())||d.enqueue([p,h,e.getTileCoordCenter(p.tileCoord),b])),c!==void 0&&c(p)):i.useTile(x,y,w,s));i.updateCacheSize(f,s)}},Pm=su;var ou=class extends Om{constructor(t){super(t)}createRenderer(){return new Pm(this)}},au=ou;var lu=class extends Sm{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;let t=this.peekFirstKey(),e=Am(t)[0];this.forEach(r=>{r.tileCoord[0]!==e&&(this.remove(ha(r.tileCoord)),r.release())})}},ua=lu;var da={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var hr=[0,0,0],Li=5,cu=class{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,N(Pf(this.resolutions_,(r,s)=>s-r,!0),"`resolutions` must be sorted in descending order");let i;if(!t.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!i)i=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==i){i=void 0;break}}this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,N(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let e=t.extent;e!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=pe(e)),N(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,N(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:256,N(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=e!==void 0?e:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,s)=>{let o=new ca(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(e){let a=this.getTileRangeForExtentAndZ(e,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):e&&this.calculateTileRanges_(e)}forEachTileCoord(t,i,e){let r=this.getTileRangeForExtentAndZ(t,i);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)e([i,s,a])}forEachTileCoordParentTileRange(t,i,e,r){let s,o,a,l=null,c=t[0]-1;for(this.zoomFactor_===2?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=fn(o,o,a,a,e)):s=this.getTileRangeForExtentAndZ(l,c,e),i(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,i,e){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){let s=t[1]*2,o=t[2]*2;return fn(s,s+1,o,o+1,i)}let r=this.getTileCoordExtent(t,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,i)}return null}getTileRangeForTileCoordAndZ(t,i,e){if(i>this.maxZoom||i<this.minZoom)return null;let r=t[0],s=t[1],o=t[2];if(i===r)return fn(s,o,s,o,e);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,i-r),c=Math.floor(s*l),h=Math.floor(o*l);if(i<r)return fn(c,c,h,h,e);let u=Math.floor(l*(s+1))-1,d=Math.floor(l*(o+1))-1;return fn(c,u,h,d,e)}let a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,i,e)}getTileRangeForExtentAndZ(t,i,e){this.getTileCoordForXYAndZ_(t[0],t[3],i,!1,hr);let r=hr[1],s=hr[2];this.getTileCoordForXYAndZ_(t[2],t[1],i,!0,hr);let o=hr[1],a=hr[2];return fn(r,o,s,a,e)}getTileCoordCenter(t){let i=this.getOrigin(t[0]),e=this.getResolution(t[0]),r=gt(this.getTileSize(t[0]),this.tmpSize_);return[i[0]+(t[1]+.5)*r[0]*e,i[1]-(t[2]+.5)*r[1]*e]}getTileCoordExtent(t,i){let e=this.getOrigin(t[0]),r=this.getResolution(t[0]),s=gt(this.getTileSize(t[0]),this.tmpSize_),o=e[0]+t[1]*s[0]*r,a=e[1]-(t[2]+1)*s[1]*r,l=o+s[0]*r,c=a+s[1]*r;return xi(o,a,l,c,i)}getTileCoordForCoordAndResolution(t,i,e){return this.getTileCoordForXYAndResolution_(t[0],t[1],i,!1,e)}getTileCoordForXYAndResolution_(t,i,e,r,s){let o=this.getZForResolution(e),a=e/this.getResolution(o),l=this.getOrigin(o),c=gt(this.getTileSize(o),this.tmpSize_),h=a*(t-l[0])/e/c[0],u=a*(l[1]-i)/e/c[1];return r?(h=Qr(h,Li)-1,u=Qr(u,Li)-1):(h=qr(h,Li),u=qr(u,Li)),nu(o,h,u,s)}getTileCoordForXYAndZ_(t,i,e,r,s){let o=this.getOrigin(e),a=this.getResolution(e),l=gt(this.getTileSize(e),this.tmpSize_),c=(t-o[0])/a/l[0],h=(o[1]-i)/a/l[1];return r?(c=Qr(c,Li)-1,h=Qr(h,Li)-1):(c=qr(c,Li),h=qr(h,Li)),nu(e,c,h,s)}getTileCoordForCoordAndZ(t,i,e){return this.getTileCoordForXYAndZ_(t[0],t[1],i,!1,e)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,i){let e=Fn(this.resolutions_,t,i||0);return ot(e,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,i){return Rc(i,0,i.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){let i=this.resolutions_.length,e=new Array(i);for(let r=this.minZoom;r<i;++r)e[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=e}},hu=cu;function fa(n){let t=n.getDefaultTileGrid();return t||(t=xw(n),n.setDefaultTileGrid(t)),t}function km(n,t,i){let e=t[0],r=n.getTileCoordCenter(t),s=pa(i);if(!Hn(s,r)){let o=et(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,n.getTileCoordForCoordAndZ(r,e)}return t}function Cw(n,t,i,e){e=e!==void 0?e:"top-left";let r=Nm(n,t,i);return new hu({extent:n,origin:Qf(n,e),resolutions:r,tileSize:i})}function Lm(n){let t=n||{},i=t.extent||Gt("EPSG:3857").getExtent(),e={extent:i,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Nm(i,t.maxZoom,t.tileSize,t.maxResolution)};return new hu(e)}function Nm(n,t,i,e){t=t!==void 0?t:42,i=gt(i!==void 0?i:256);let r=Ct(n),s=et(n);e=e>0?e:Math.max(s/i[0],r/i[1]);let o=t+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=e/Math.pow(2,l);return a}function xw(n,t,i,e){let r=pa(n);return Cw(r,t,i,e)}function pa(n){n=Gt(n);let t=n.getExtent();if(!t){let i=180*Je.degrees/n.getMetersPerUnit();t=xi(-i,-i,i,i)}return t}var uu=class extends bm{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=t.opaque!==void 0?t.opaque:!1,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;let i=[256,256];this.tileGrid&&gt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),i),this.tileCache=new ua(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,i){let e=this.getTileCacheForProjection(t);e&&e.expireCache(i)}forEachLoadedTile(t,i,e,r){let s=this.getTileCacheForProjection(t);if(!s)return!1;let o=!0,a,l,c;for(let h=e.minX;h<=e.maxX;++h)for(let u=e.minY;u<=e.maxY;++u)l=pn(i,h,u),c=!1,s.containsKey(l)&&(a=s.get(l),c=a.getState()===M.LOADED,c&&(c=r(a)!==!1)),c||(o=!1);return o}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){let i=t?this.getTileGridForProjection(t):this.tileGrid;return i?i.getResolutions():null}getTile(t,i,e,r,s){return B()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:fa(t)}getTileCacheForProjection(t){let i=this.getProjection();return N(i===null||Ti(i,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,i,e){let r=this.getTileGridForProjection(e),s=this.getTilePixelRatio(i),o=gt(r.getTileSize(t),this.tmpSize);return s==1?o:Kp(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,i){i=i!==void 0?i:this.getProjection();let e=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=km(e,t,i)),Dm(t,e)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,i){let e=this.getTileCacheForProjection(i);t>e.highWaterMark&&(e.highWaterMark=t)}useTile(t,i,e,r){}},ga=class extends Pt{constructor(t,i){super(t),this.tile=i}},Fm=uu;function Rw(n,t){let i=/\{z\}/g,e=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){if(o)return n.replace(i,o[0].toString()).replace(e,o[1].toString()).replace(r,o[2].toString()).replace(s,function(){let c=o[0],h=t.getFullTileRange(c);if(!h)throw new Error("The {-y} placeholder requires a tile grid with extent");return(h.getHeight()-o[2]-1).toString()})}}function jm(n,t){let i=n.length,e=new Array(i);for(let r=0;r<i;++r)e[r]=Rw(n[r],t);return Iw(e)}function Iw(n){return n.length===1?n[0]:function(t,i,e){if(!t)return;let r=Mm(t),s=Ce(r,n.length);return n[s](t,i,e)}}function zm(n){let t=[],i=/\{([a-z])-([a-z])\}/.exec(n);if(i){let e=i[1].charCodeAt(0),r=i[2].charCodeAt(0),s;for(s=e;s<=r;++s)t.push(n.replace(i[0],String.fromCharCode(s)));return t}if(i=/\{(\d+)-(\d+)\}/.exec(n),i){let e=parseInt(i[2],10);for(let r=parseInt(i[1],10);r<=e;r++)t.push(n.replace(i[0],r.toString()));return t}return t.push(n),t}var du=class n extends Fm{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){let i=t.target,e=ht(i),r=i.getState(),s;r==M.LOADING?(this.tileLoadingKeys_[e]=!0,s=da.TILELOADSTART):e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],s=r==M.ERROR?da.TILELOADERROR:r==M.LOADED?da.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new ga(s,i))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,i){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof i<"u"?this.setKey(i):this.changed()}setUrl(t){let i=zm(t);this.urls=i,this.setUrls(i)}setUrls(t){this.urls=t;let i=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(jm(t,this.tileGrid),i):this.setKey(i)}tileUrlFunction(t,i,e){}useTile(t,i,e){let r=pn(t,i,e);this.tileCache.containsKey(r)&&this.tileCache.get(r)}},Um=du;var fu=class extends Um{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Tw,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:aa,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(let t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,i){let e=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==e?i:{});for(let r in this.tileCacheForProjection){let s=this.tileCacheForProjection[r];s.expireCache(s==e?i:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!Ti(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return this.getProjection()&&t&&!Ti(this.getProjection(),t)?!1:super.getOpaque(t)}getTileGridForProjection(t){let i=this.getProjection();if(this.tileGrid&&(!i||Ti(i,t)))return this.tileGrid;let e=ht(t);return e in this.tileGridForProjection||(this.tileGridForProjection[e]=fa(t)),this.tileGridForProjection[e]}getTileCacheForProjection(t){let i=this.getProjection();if(!i||Ti(i,t))return this.tileCache;let e=ht(t);return e in this.tileCacheForProjection||(this.tileCacheForProjection[e]=new ua(this.tileCache.highWaterMark)),this.tileCacheForProjection[e]}createTile_(t,i,e,r,s,o){let a=[t,i,e],l=this.getTileCoordForTileUrlFunction(a,s),c=l?this.tileUrlFunction(l,r,s):void 0,h=new this.tileClass(a,c!==void 0?M.IDLE:M.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(A.CHANGE,this.handleTileChange.bind(this)),h}getTile(t,i,e,r,s){let o=this.getProjection();if(!o||!s||Ti(o,s))return this.getTileInternal(t,i,e,r,o||s);let a=this.getTileCacheForProjection(s),l=[t,i,e],c,h=ha(l);a.containsKey(h)&&(c=a.get(h));let u=this.getKey();if(c&&c.key==u)return c;let d=this.getTileGridForProjection(o),g=this.getTileGridForProjection(s),m=this.getTileCoordForTileUrlFunction(l,s),v=new xs(o,d,s,g,l,m,this.getTilePixelRatio(r),this.getGutter(),(f,p,_,b)=>this.getTileInternal(f,p,_,b,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return v.key=u,c?(v.interimTile=c,v.refreshInterimChain(),a.replace(h,v)):a.set(h,v),v}getTileInternal(t,i,e,r,s){let o=null,a=pn(t,i,e),l=this.getKey();if(!this.tileCache.containsKey(a))o=this.createTile_(t,i,e,r,s,l),this.tileCache.set(a,o);else if(o=this.tileCache.get(a),o.key!=l){let c=o;o=this.createTile_(t,i,e,r,s,l),c.getState()==M.IDLE?o.interimTile=c.interimTile:o.interimTile=c,o.refreshInterimChain(),this.tileCache.replace(a,o)}return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(let i in this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}}setTileGridForProjection(t,i){let e=Gt(t);if(e){let r=ht(e);r in this.tileGridForProjection||(this.tileGridForProjection[r]=i)}}clear(){super.clear();for(let t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}};function Tw(n,t){n.getImage().src=t}var Bm=fu;var pu=class extends Bm{constructor(t){t=t||{};let i=t.projection!==void 0?t.projection:"EPSG:3857",e=t.tileGrid!==void 0?t.tileGrid:Lm({extent:pa(i),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:i,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:e,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}},Vm=pu;var Sw='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',gu=class extends Vm{constructor(t){t=t||{};let i;t.attributions!==void 0?i=t.attributions:i=[Sw];let e=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:i,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:e,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}},mu=gu;var Is=(n,t)=>cp([n,t]),ma=n=>hp(n),Gm=(n,t,i)=>new mm({target:i,layers:[new au({source:new mu})],view:_a(n,t)}),_a=(n,t)=>new re({center:n,zoom:t});var Hm=(n,t)=>n.on("singleclick",i=>{let e=n.forEachFeatureAtPixel(i.pixel,(r,s)=>({feature:r,layer:s}));console.log(ma(i.coordinate),e),e&&t(e.feature,i)});function Ts(n,t=0){return Mw(n)?Number(n):t}function Mw(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ur(n){return Array.isArray(n)?n:[n]}function dt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ci(n){return n instanceof yt?n.nativeElement:n}var vu;try{vu=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vu=!1}var xt=(()=>{let t=class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ud(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||vu)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(C(Gi))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ss;function Dw(){if(Ss==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ss=!0}))}finally{Ss=Ss||!1}return Ss}function dr(n){return Dw()?n:!!n.capture}var gn;function Wm(){if(gn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return gn=!1,gn;if("scrollBehavior"in document.documentElement.style)gn=!0;else{let n=Element.prototype.scrollTo;n?gn=!/\{\s*\[native code\]\s*\}/.test(n.toString()):gn=!1}}return gn}var _u;function Ow(){if(_u==null){let n=typeof document<"u"?document.head:null;_u=!!(n&&(n.createShadowRoot||n.attachShadow))}return _u}function Xm(n){if(Ow()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function As(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ae(n){return n.composedPath?n.composedPath()[0]:n.target}function Ms(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Pw=new tt("cdk-dir-doc",{providedIn:"root",factory:kw});function kw(){return P(G)}var Lw=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Nw(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Lw.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ds=(()=>{let t=class t{constructor(e){if(this.value="ltr",this.change=new $t,e){let r=e.body?e.body.dir:null,s=e.documentElement?e.documentElement.dir:null;this.value=Nw(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(C(Pw,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ni=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({});let n=t;return n})();var Uw=20,$m=(()=>{let t=class t{constructor(e,r,s){this._ngZone=e,this._platform=r,this._scrolled=new $,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Uw){return this._platform.isBrowser?new Gs(r=>{this._globalSubscription||this._addGlobalListener();let s=e>0?this._scrolled.pipe(Oa(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):k()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let s=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Dt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let s=ci(r),o=e.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return rd(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(C(Z),C(xt),C(G,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Bw=20,wu=(()=>{let t=class t{constructor(e,r,s){this._platform=e,this._change=new $,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect(),a=-o.top||e.body.scrollTop||r.scrollY||s.scrollTop||0,l=-o.left||e.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:a,left:l}}change(e=Bw){return e>0?this._change.pipe(Oa(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(C(xt),C(Z),C(G,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ym=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({});let n=t;return n})(),bu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({imports:[Ni,Ym,Ni,Ym]});let n=t;return n})();var Os=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},fr=class extends Os{constructor(t,i,e,r,s){super(),this.component=t,this.viewContainerRef=i,this.injector=e,this.componentFactoryResolver=r,this.projectableNodes=s}},pr=class extends Os{constructor(t,i,e,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=e,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Eu=class extends Os{constructor(t){super(),this.element=t instanceof yt?t.nativeElement:t}},gr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof fr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof pr)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Eu)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ya=class extends gr{constructor(t,i,e,r,s){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=e,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){let e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=e.create(t.injector||this._defaultInjector||te.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,e=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return e.rootNodes.forEach(r=>this.outletElement.appendChild(r)),e.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(e);r!==-1&&i.remove(r)}),this._attachedPortal=t,e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Ps=(()=>{let t=class t extends gr{constructor(e,r,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new $t,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let r=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=r.createComponent(o,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}};t.\u0275fac=function(r){return new(r||t)(U(qs),U(Tn),U(G))},t.\u0275dir=be({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Ze.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Wi]});let n=t;return n})();var mn=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({});let n=t;return n})();function wa(n,...t){return t.length?t.some(i=>n[i]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Zm=Wm(),Cu=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dt(-this._previousScrollPosition.left),t.style.top=dt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,e=t.style,r=i.style,s=e.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Zm&&(e.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Zm&&(e.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,e=this._viewportRuler.getViewportSize();return i.scrollHeight>e.height||i.scrollWidth>e.width}};var xu=class{constructor(t,i,e,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=e,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Dt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ba=class{enable(){}disable(){}attach(){}};function Ru(n,t){return t.some(i=>{let e=n.bottom<i.top,r=n.top>i.bottom,s=n.right<i.left,o=n.left>i.right;return e||r||s||o})}function Km(n,t){return t.some(i=>{let e=n.top<i.top,r=n.bottom>i.bottom,s=n.left<i.left,o=n.right>i.right;return e||r||s||o})}var Iu=class{constructor(t,i,e,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=e,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:r}=this._viewportRuler.getViewportSize();Ru(i,[{width:e,height:r,bottom:r,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Gw=(()=>{let t=class t{constructor(e,r,s,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new ba,this.close=a=>new xu(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Cu(this._viewportRuler,this._document),this.reposition=a=>new Iu(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};t.\u0275fac=function(r){return new(r||t)(C($m),C(wu),C(Z),C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ks=class{constructor(t){if(this.scrollStrategy=new ba,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let e of i)t[e]!==void 0&&(this[e]=t[e])}}};var Tu=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var i_=(()=>{let t=class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Hw=(()=>{let t=class t extends i_{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let l=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(s)):l.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(C(G),C(Z,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Ww=(()=>{let t=class t extends i_{constructor(e,r,s){super(e),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ae(o)},this._clickListener=o=>{let a=Ae(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let h=c.length-1;h>-1;h--){let u=c[h];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(l))break;let d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(e){if(super.add(e),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(C(G),C(xt),C(Z,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),mr=(()=>{let t=class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Ms()){let s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let r=this._document.createElement("div");r.classList.add(e),Ms()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(C(G),C(xt))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),hi=class{constructor(t,i,e,r,s,o,a,l,c,h=!1){this._portalOutlet=t,this._host=i,this._pane=e,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new $,this._attachments=new $,this._detachments=new $,this._locationChanges=ji.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new $,this._outsidePointerEvents=new $,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ot(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=S(S({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ft(S({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=dt(this._config.width),t.height=dt(this._config.height),t.minWidth=dt(this._config.minWidth),t.minHeight=dt(this._config.minHeight),t.maxWidth=dt(this._config.maxWidth),t.maxHeight=dt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,e){let r=ur(i||[]).filter(s=>!!s);r.length&&(e?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe($e(Ws(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},qm="cdk-overlay-connected-position-bounding-box",Xw=/([A-Za-z%]+)$/,Su=class{get positions(){return this._preferredPositions}constructor(t,i,e,r,s){this._viewportRuler=i,this._document=e,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $,this._resizeSubscription=ji.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(qm),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,e=this._viewportRect,r=this._containerRect,s=[],o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,i,a),h=this._getOverlayFit(c,i,e,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,c,e)){s.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(s.length){let a=null,l=-1;for(let c of s){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_n(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qm),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,e){let r;if(e.originX=="center")r=t.left+t.width/2;else{let o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=e.originX=="start"?o:a}i.left<0&&(r-=i.left);let s;return e.originY=="center"?s=t.top+t.height/2:s=e.originY=="top"?t.top:t.bottom,i.top<0&&(s-=i.top),{x:r,y:s}}_getOverlayPoint(t,i,e){let r;e.overlayX=="center"?r=-i.width/2:e.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let s;return e.overlayY=="center"?s=-i.height/2:s=e.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,i,e,r){let s=Jm(i),{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-o,u=o+s.width-e.width,d=0-a,g=a+s.height-e.height,m=this._subtractOverflows(s.width,h,u),v=this._subtractOverflows(s.height,d,g),f=m*v;return{visibleArea:f,isCompletelyWithinViewport:s.width*s.height===f,fitsInViewportVertically:v===s.height,fitsInViewportHorizontally:m==s.width}}_canFitWithFlexibleDimensions(t,i,e){if(this._hasFlexibleDimensions){let r=e.bottom-i.y,s=e.right-i.x,o=Qm(this._overlayRef.getConfig().minHeight),a=Qm(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||o!=null&&o<=r,c=t.fitsInViewportHorizontally||a!=null&&a<=s;return l&&c}return!1}_pushOverlayOnScreen(t,i,e){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=Jm(i),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-e.top-t.y,0),c=Math.max(s.left-e.left-t.x,0),h=0,u=0;return r.width<=s.width?h=c||-o:h=t.x<this._viewportMargin?s.left-e.left-t.x:0,r.height<=s.height?u=l||-a:u=t.y<this._viewportMargin?s.top-e.top-t.y:0,this._previousPushAmount={x:h,y:u},{x:t.x+h,y:t.y+u}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let e=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Yw(this._lastScrollVisibility,e)){let r=new Tu(t,e);this._positionChanges.next(r)}this._lastScrollVisibility=e}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),e,r=t.overlayY;t.overlayX==="center"?e="center":this._isRtl()?e=t.overlayX==="start"?"right":"left":e=t.overlayX==="start"?"left":"right";for(let s=0;s<i.length;s++)i[s].style.transformOrigin=`${e} ${r}`}_calculateBoundingBoxRect(t,i){let e=this._viewportRect,r=this._isRtl(),s,o,a;if(i.overlayY==="top")o=t.y,s=e.height-o+this._viewportMargin;else if(i.overlayY==="bottom")a=e.height-t.y+this._viewportMargin*2,s=e.height-a+this._viewportMargin;else{let g=Math.min(e.bottom-t.y+e.top,t.y),m=this._lastBoundingBoxSize.height;s=g*2,o=t.y-g,s>m&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-m/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,c=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,h,u,d;if(c)d=e.width-t.x+this._viewportMargin*2,h=t.x-this._viewportMargin;else if(l)u=t.x,h=e.right-t.x;else{let g=Math.min(e.right-t.x+e.left,t.x),m=this._lastBoundingBoxSize.width;h=g*2,u=t.x-g,h>m&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-m/2)}return{top:o,left:u,bottom:a,right:d,width:h,height:s}}_setBoundingBoxStyles(t,i){let e=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=dt(e.height),r.top=dt(e.top),r.bottom=dt(e.bottom),r.width=dt(e.width),r.left=dt(e.left),r.right=dt(e.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=dt(s)),o&&(r.maxWidth=dt(o))}this._lastBoundingBoxSize=e,_n(this._boundingBox.style,r)}_resetBoundingBoxStyles(){_n(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_n(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let e={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();_n(e,this._getExactOverlayY(i,t,h)),_n(e,this._getExactOverlayX(i,t,h))}else e.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),e.transform=a.trim(),o.maxHeight&&(r?e.maxHeight=dt(o.maxHeight):s&&(e.maxHeight="")),o.maxWidth&&(r?e.maxWidth=dt(o.maxWidth):s&&(e.maxWidth="")),_n(this._pane.style,e)}_getExactOverlayY(t,i,e){let r={top:"",bottom:""},s=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,e)),t.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=dt(s.y);return r}_getExactOverlayX(t,i,e){let r={left:"",right:""},s=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,e));let o;if(this._isRtl()?o=t.overlayX==="end"?"left":"right":o=t.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(s.x+this._overlayRect.width)}px`}else r.left=dt(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),e=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Km(t,e),isOriginOutsideView:Ru(t,e),isOverlayClipped:Km(i,e),isOverlayOutsideView:Ru(i,e)}}_subtractOverflows(t,...i){return i.reduce((e,r)=>e-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+t-this._viewportMargin,bottom:e.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ur(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof yt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,e=t.height||0;return{top:t.y,bottom:t.y+e,left:t.x,right:t.x+i,height:e,width:i}}};function _n(n,t){for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function Qm(n){if(typeof n!="number"&&n!=null){let[t,i]=n.split(Xw);return!i||i==="px"?parseFloat(t):null}return n||null}function Jm(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function Yw(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var t_="cdk-global-overlay-wrapper",Au=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(t_),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=e,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,u=this._xOffset,d=this._overlayRef.getConfig().direction==="rtl",g="",m="",v="";l?v="flex-start":h==="center"?(v="center",d?m=u:g=u):d?h==="left"||h==="end"?(v="flex-end",g=u):(h==="right"||h==="start")&&(v="flex-start",m=u):h==="left"||h==="start"?(v="flex-start",g=u):(h==="right"||h==="end")&&(v="flex-end",m=u),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,i.justifyContent=v,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,e=i.style;i.classList.remove(t_),e.justifyContent=e.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},$w=(()=>{let t=class t{constructor(e,r,s,o){this._viewportRuler=e,this._document=r,this._platform=s,this._overlayContainer=o}global(){return new Au}flexibleConnectedTo(e){return new Su(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(C(wu),C(G),C(xt),C(mr))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Zw=0,Me=(()=>{let t=class t{constructor(e,r,s,o,a,l,c,h,u,d,g,m){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=h,this._directionality=u,this._location=d,this._outsideClickDispatcher=g,this._animationsModuleType=m}create(e){let r=this._createHostElement(),s=this._createPaneElement(r),o=this._createPortalOutlet(s),a=new ks(e);return a.direction=a.direction||this._directionality.value,new hi(o,r,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let r=this._document.createElement("div");return r.id=`cdk-overlay-${Zw++}`,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ar)),new ya(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(C(Gw),C(mr),C(qs),C($w),C(Hw),C(te),C(Z),C(G),C(Ds),C(mi),C(Ww),C(xn,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Kw=new tt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=P(Me);return()=>n.scrollStrategies.reposition()}});function qw(n){return()=>n.scrollStrategies.reposition()}var Qw={provide:Kw,deps:[Me],useFactory:qw},Ea=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({providers:[Me,Qw],imports:[Ni,mn,bu,bu]});let n=t;return n})();var Jw=(()=>{let t=class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var r_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({providers:[Jw]});let n=t;return n})();var s_=new Set,vn,tb=(()=>{let t=class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ib}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&eb(e,this._nonce),this._matchMedia(e)}};t.\u0275fac=function(r){return new(r||t)(C(xt),C(Ir,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function eb(n,t){if(!s_.has(n))try{vn||(vn=document.createElement("style"),t&&vn.setAttribute("nonce",t),vn.setAttribute("type","text/css"),document.head.appendChild(vn)),vn.sheet&&(vn.sheet.insertRule(`@media ${n} {body{ }}`,0),s_.add(n))}catch(i){console.error(i)}}function ib(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var a_=(()=>{let t=class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new $}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return o_(ur(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let s=o_(ur(e)).map(a=>this._registerQuery(a).observable),o=Er(s);return o=Hs(o.pipe(Ot(1)),o.pipe(Ys(1),Pa(0))),o.pipe(J(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:h})=>{l.matches=l.matches||c,l.breakpoints[h]=c}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),o={observable:new Gs(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Ye(r),J(({matches:a})=>({query:e,matches:a})),$e(this._destroySubject)),mql:r};return this._queries.set(e,o),o}};t.\u0275fac=function(r){return new(r||t)(C(tb),C(Z))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function o_(n){return n.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var Ls=(()=>{let t=class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return rb(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let r=nb(db(e));if(r&&(l_(r)===-1||!this.isVisible(r)))return!1;let s=e.nodeName.toLowerCase(),o=l_(e);return e.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!hb(e)?!1:s==="audio"?e.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,r){return ub(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}};t.\u0275fac=function(r){return new(r||t)(C(xt))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function nb(n){try{return n.frameElement}catch{return null}}function rb(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function sb(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function ob(n){return lb(n)&&n.type=="hidden"}function ab(n){return cb(n)&&n.hasAttribute("href")}function lb(n){return n.nodeName.toLowerCase()=="input"}function cb(n){return n.nodeName.toLowerCase()=="a"}function u_(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function l_(n){if(!u_(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function hb(n){let t=n.nodeName.toLowerCase(),i=t==="input"&&n.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function ub(n){return ob(n)?!1:sb(n)||ab(n)||n.hasAttribute("contenteditable")||u_(n)}function db(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Du=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,e,r,s=!1){this._element=t,this._checker=i,this._ngZone=e,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let e=this._getFirstTabbableElement(i);return e?.focus(t),!!e}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let e=0;e<i.length;e++){let r=i[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[e]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let e=i.length-1;e>=0;e--){let r=i[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[e]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ot(1)).subscribe(t)}},Ra=(()=>{let t=class t{constructor(e,r,s){this._checker=e,this._ngZone=r,this._document=s}create(e,r=!1){return new Du(e,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(C(Ls),C(Z),C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ou(n){return n.buttons===0||n.detail===0}function Pu(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var fb=new tt("cdk-input-modality-detector-options"),pb={ignoreKeys:[18,17,224,91,16]},d_=650,_r=dr({passive:!0,capture:!0}),gb=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(e,r,s,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Yt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ae(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<d_||(this._modality.next(Ou(a)?"keyboard":"mouse"),this._mostRecentTarget=Ae(a))},this._onTouchstart=a=>{if(Pu(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ae(a)},this._options=S(S({},pb),o),this.modalityDetected=this._modality.pipe(Ys(1)),this.modalityChanged=this.modalityDetected.pipe(La()),e.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,_r),s.addEventListener("mousedown",this._onMousedown,_r),s.addEventListener("touchstart",this._onTouchstart,_r)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_r),document.removeEventListener("mousedown",this._onMousedown,_r),document.removeEventListener("touchstart",this._onTouchstart,_r))}};t.\u0275fac=function(r){return new(r||t)(C(xt),C(Z),C(G),C(fb,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var xa=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(xa||{}),mb=new tt("cdk-focus-monitor-default-options"),Ca=dr({passive:!0,capture:!0}),Ia=(()=>{let t=class t{constructor(e,r,s,o,a){this._ngZone=e,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $,this._rootNodeFocusAndBlurListener=l=>{let c=Ae(l);for(let h=c;h;h=h.parentElement)l.type==="focus"?this._onFocus(l,h):this._onBlur(l,h)},this._document=o,this._detectionMode=a?.detectionMode||xa.IMMEDIATE}monitor(e,r=!1){let s=ci(e);if(!this._platform.isBrowser||s.nodeType!==1)return k();let o=Xm(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new $,rootNode:o};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){let r=ci(e),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(e,r,s){let o=ci(e),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===xa.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused",r==="touch"),e.classList.toggle("cdk-keyboard-focused",r==="keyboard"),e.classList.toggle("cdk-mouse-focused",r==="mouse"),e.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&r,this._detectionMode===xa.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?d_:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(e,r){let s=this._elementInfo.get(r),o=Ae(e);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(e,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let r=e.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ca),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ca)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($e(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ca),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ca),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,s){this._setClasses(e,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){let r=[];return this._elementInfo.forEach((s,o)=>{(o===e||s.checkChildren&&o.contains(e))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(C(Z),C(xt),C(gb),C(G,8),C(mb,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var yn=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(yn||{}),c_="cdk-high-contrast-black-on-white",h_="cdk-high-contrast-white-on-black",Mu="cdk-high-contrast-active",ku=(()=>{let t=class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=P(a_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return yn.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return yn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return yn.BLACK_ON_WHITE}return yn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Mu,c_,h_),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===yn.BLACK_ON_WHITE?e.add(Mu,c_):r===yn.WHITE_ON_BLACK&&e.add(Mu,h_)}}};t.\u0275fac=function(r){return new(r||t)(C(xt),C(G))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),f_=(()=>{let t=class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(r){return new(r||t)(C(ku))},t.\u0275mod=st({type:t}),t.\u0275inj=rt({imports:[r_]});let n=t;return n})();function _b(n,t){}var wn=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var ju=(()=>{let t=class t extends gr{constructor(e,r,s,o,a,l,c,h){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=c,this._focusMonitor=h,this._platform=P(xt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=P(Ki),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(r)}_focusByCssSelector(e,r){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,r)}_trapFocus(){let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let e=this._config.restoreFocus,r=null;if(typeof e=="string"?r=this._document.querySelector(e):typeof e=="boolean"?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&typeof r.focus=="function"){let s=As(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,r=As();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=As()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(U(yt),U(Ra),U(G,8),U(wn),U(Ls),U(Z),U(hi),U(Ia))},t.\u0275cmp=he({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(r&1&&$i(Ps,7),r&2){let o;pi(o=gi())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){r&2&&Yi("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Wi,Pe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&Xi(0,_b,0,0,"ng-template",0)},dependencies:[Ps],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let n=t;return n})(),Ns=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new $,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!wa(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(t),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},vb=new tt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=P(Me);return()=>n.scrollStrategies.block()}}),yb=new tt("DialogData"),wb=new tt("DefaultDialogConfig");var bb=0,zu=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,s,o,a,l){this._overlay=e,this._injector=r,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $,this._afterOpenedAtThisLevel=new $,this._ariaHiddenElements=new Map,this.afterAllClosed=zi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ye(void 0))),this._scrollStrategy=l}open(e,r){let s=this._defaultOptions||new wn;r=S(S({},s),r),r.id=r.id||`cdk-dialog-${bb++}`,r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),a=this._overlay.create(o),l=new Ns(a,r),c=this._attachContainer(a,l,r);return l.containerInstance=c,this._attachDialogContent(e,l,c,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Nu(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){Nu(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Nu(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let r=new ks({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:wn,useValue:s},{provide:Ns,useValue:r},{provide:hi,useValue:e}],l;s.container?typeof s.container=="function"?l=s.container:(l=s.container.type,a.push(...s.container.providers(s))):l=ju;let c=new fr(l,s.viewContainerRef,te.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,r,s,o){if(e instanceof Sr){let a=this._createInjector(o,r,s,void 0),l={$implicit:o.data,dialogRef:r};o.templateContext&&(l=S(S({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new pr(e,null,l,a))}else{let a=this._createInjector(o,r,s,this._injector),l=s.attachComponentPortal(new fr(e,o.viewContainerRef,a,o.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(e,r,s,o){let a=e.injector||e.viewContainerRef?.injector,l=[{provide:yb,useValue:e.data},{provide:Ns,useValue:r}];return e.providers&&(typeof e.providers=="function"?l.push(...e.providers(r,e,s)):l.push(...e.providers)),e.direction&&(!a||!a.get(Ds,null,{optional:!0}))&&l.push({provide:Ds,useValue:{value:e.direction,change:k()}}),te.create({parent:a||o,providers:l})}_removeOpenDialog(e,r){let s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let r=e.parentElement.children;for(let s=r.length-1;s>-1;s--){let o=r[s];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(C(Me),C(te),C(wb,8),C(t,12),C(mr),C(vb))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Nu(n,t){let i=n.length;for(;i--;)t(n[i])}var p_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({providers:[zu],imports:[Ea,mn,f_,mn]});let n=t;return n})();function Eb(){return!0}var Cb=new tt("mat-sanity-checks",{providedIn:"root",factory:Eb}),Vu=(()=>{let t=class t{constructor(e,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Ms()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}};t.\u0275fac=function(r){return new(r||t)(C(ku),C(Cb,8),C(G))},t.\u0275mod=st({type:t}),t.\u0275inj=rt({imports:[Ni,Ni]});let n=t;return n})();var _e=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(_e||{}),Uu=class{constructor(t,i,e,r=!1){this._renderer=t,this.element=i,this.config=e,this._animationForciblyDisabledThroughCss=r,this.state=_e.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},g_=dr({passive:!0,capture:!0}),Bu=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=Ae(t);i&&this._events.get(t.type)?.forEach((e,r)=>{(r===i||r.contains(i))&&e.forEach(s=>s.handleEvent(t))})}}addHandler(t,i,e,r){let s=this._events.get(i);if(s){let o=s.get(e);o?o.add(r):s.set(e,new Set([r]))}else this._events.set(i,new Map([[e,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,g_)})}removeHandler(t,i,e){let r=this._events.get(t);if(!r)return;let s=r.get(i);s&&(s.delete(e),s.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,g_)))}},m_={enterDuration:225,exitDuration:150},xb=800,__=dr({passive:!0,capture:!0}),v_=["mousedown","touchstart"],y_=["mouseup","mouseleave","touchend","touchcancel"],Fs=class Fs{constructor(t,i,e,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ci(e))}fadeInRipple(t,i,e={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=S(S({},m_),e.animation);e.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let o=e.radius||Rb(t,i,r),a=t-r.left,l=i-r.top,c=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-o}px`,h.style.top=`${l-o}px`,h.style.height=`${o*2}px`,h.style.width=`${o*2}px`,e.color!=null&&(h.style.backgroundColor=e.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);let u=window.getComputedStyle(h),d=u.transitionProperty,g=u.transitionDuration,m=d==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,v=new Uu(this,h,e,m);h.style.transform="scale3d(1, 1, 1)",v.state=_e.FADING_IN,e.persistent||(this._mostRecentTransientRipple=v);let f=null;return!m&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let p=()=>this._finishRippleTransition(v),_=()=>this._destroyRipple(v);h.addEventListener("transitionend",p),h.addEventListener("transitioncancel",_),f={onTransitionEnd:p,onTransitionCancel:_}}),this._activeRipples.set(v,f),(m||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(t.state===_e.FADING_OUT||t.state===_e.HIDDEN)return;let i=t.element,e=S(S({},m_),t.config.animation);i.style.transitionDuration=`${e.exitDuration}ms`,i.style.opacity="0",t.state=_e.FADING_OUT,(t._animationForciblyDisabledThroughCss||!e.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=ci(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,v_.forEach(e=>{Fs._eventManager.addHandler(this._ngZone,e,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{y_.forEach(i=>{this._triggerElement.addEventListener(i,this,__)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===_e.FADING_IN?this._startFadeOutTransition(t):t.state===_e.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:e}=t.config;t.state=_e.VISIBLE,!e&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=_e.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=Ou(t),e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+xb;!this._target.rippleDisabled&&!i&&!e&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Pu(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let e=0;e<i.length;e++)this.fadeInRipple(i[e].clientX,i[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===_e.VISIBLE||t.config.terminateOnPointerUp&&t.state===_e.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(v_.forEach(i=>Fs._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&y_.forEach(i=>t.removeEventListener(i,this,__)))}};Fs._eventManager=new Bu;var w_=Fs;function Rb(n,t,i){let e=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(e*e+r*r)}function Ib(n,t){}var js=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Gu="mdc-dialog--open",b_="mdc-dialog--opening",E_="mdc-dialog--closing",Tb=150,Sb=75,Ab=(()=>{let t=class t extends ju{constructor(e,r,s,o,a,l,c,h,u){super(e,r,s,o,a,l,c,u),this._animationMode=h,this._animationStateChanged=new $t,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?x_(this._config.enterAnimationDuration)??Tb:0,this._exitAnimationDuration=this._animationsEnabled?x_(this._config.exitAnimationDuration)??Sb:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(C_,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(b_,Gu)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Gu),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Gu),this._animationsEnabled?(this._hostElement.style.setProperty(C_,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(E_)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(b_,E_)}_waitForAnimationToComplete(e,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(U(yt),U(Ra),U(G,8),U(js),U(Ls),U(Z),U(hi),U(xn,8),U(Ia))},t.\u0275cmp=he({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,s){r&2&&(Ua("id",s._config.id),Yi("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Qs("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[Wi,Pe],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,s){r&1&&(Ut(0,"div",0)(1,"div",1),Xi(2,Ib,0,0,"ng-template",2),Bt()())},dependencies:[Ps],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let n=t;return n})(),C_="--mat-dialog-transition-duration";function x_(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Ts(n.substring(0,n.length-2)):n.endsWith("s")?Ts(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Ta=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Ta||{}),zs=class{constructor(t,i,e){this._ref=t,this._containerInstance=e,this._afterOpened=new $,this._beforeClosed=new $,this._state=Ta.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(Dt(r=>r.state==="opened"),Ot(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Dt(r=>r.state==="closed"),Ot(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ws(this.backdropClick(),this.keydownEvents().pipe(Dt(r=>r.keyCode===27&&!this.disableClose&&!wa(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Mb(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Dt(i=>i.state==="closing"),Ot(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=Ta.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Ta.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Mb(n,t,i){return n._closeInteractionType=t,n.close(i)}var Hu=new tt("MatMdcDialogData"),Db=new tt("mat-mdc-dialog-default-options"),Ob=new tt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=P(Me);return()=>n.scrollStrategies.block()}});var Pb=0,Wu=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,r,s,o,a,l,c,h){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $,this._afterOpenedAtThisLevel=new $,this.dialogConfigClass=js,this.afterAllClosed=zi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ye(void 0))),this._dialog=r.get(zu),this._dialogRefConstructor=zs,this._dialogContainerType=Ab,this._dialogDataToken=Hu}open(e,r){let s;r=S(S({},this._defaultOptions||new js),r),r.id=r.id||`mat-mdc-dialog-${Pb++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,ft(S({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:wn,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(a,l,c)=>(s=new this._dialogRefConstructor(a,r,c),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}};t.\u0275fac=function(r){return new(r||t)(C(Me),C(te),C(mi,8),C(Db,8),C(Ob),C(t,12),C(mr),C(xn,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var R_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({providers:[Wu],imports:[p_,Ea,mn,Vu,Vu]});let n=t;return n})();var T_=(()=>{let t=class t{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}};t.\u0275fac=function(r){return new(r||t)(U(el,16))},t.\u0275pipe=cd({name:"safe",type:t,pure:!0});let n=t;return n})();var S_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({imports:[qi]});let n=t;return n})();var Lb=["content"],Nb=["frame"],vr=function(n){return n.EXPLORE="EXPLORE",n.GOOGLE_MAPS="GOOGLE_MAPS",n}(vr||{}),A_=(()=>{let t=class t{clickout(e){this.eRef.nativeElement.contains(e.target)?console.log("clicked inside"):this.dialogRef.close()}constructor(e,r,s,o){this.dialogRef=e,this.data=r,this.eRef=s,this.document=o,o.body.style.overflow="hidden"}ngOnDestroy(){document.body.style.overflow="auto"}ngAfterViewInit(){this.frame.nativeElement.style.display="none",this.content.nativeElement.style.flexDirection="row"}loaded(){setTimeout(()=>{this.frame.nativeElement.style.display="block",this.content.nativeElement.style.flexDirection="column"},1500)}onNoClick(){this.dialogRef.close()}explore(){this.dialogRef.close(vr.EXPLORE)}googleMaps(){this.dialogRef.close(vr.GOOGLE_MAPS)}};t.\u0275fac=function(r){return new(r||t)(U(zs),U(Hu),U(yt),U(G))},t.\u0275cmp=he({type:t,selectors:[["app-map-modal"]],viewQuery:function(r,s){if(r&1&&($i(Lb,5),$i(Nb,5)),r&2){let o;pi(o=gi())&&(s.content=o.first),pi(o=gi())&&(s.frame=o.first)}},hostBindings:function(r,s){r&1&&Ee("click",function(a){return s.clickout(a)},!1,Ed)},standalone:!0,features:[Pe],decls:27,vars:8,consts:[["content",""],["frame",""],[1,"map-modal"],[1,"header"],[1,"fa","fa-arrow-left",3,"click"],[1,"body"],[1,"title"],[1,"actions"],[1,"button",3,"click"],[1,"fa","fa-map"],[1,"section-1"],[1,"head"],[1,"img"],["width","100%","alt","",3,"src"],[1,"description",3,"innerHTML"],[1,"section-2"],["width","100%","height","auto","frameborder","0","scrolling","no","allowtransparency","true",3,"load","src"]],template:function(r,s){if(r&1){let o=Js();Ut(0,"div",2)(1,"div",3)(2,"i",4),Ee("click",function(){return Bi(o),Vi(s.onNoClick())}),Bt()(),Ut(3,"div",5)(4,"div",6),Zi(5),Bt(),Ut(6,"div",7)(7,"div",8),Ee("click",function(){return Bi(o),Vi(s.googleMaps())}),Zi(8,"Open on "),Ut(9,"b"),Zi(10,"Google Maps"),Bt()(),Ut(11,"div",8),Ee("click",function(){return Bi(o),Vi(s.explore())}),Zi(12,"Explore "),Ut(13,"b"),Zi(14,"Malta"),Bt(),Oe(15,"i",9),Bt()(),Ut(16,"div",10)(17,"div",11)(18,"div",12),Oe(19,"img",13),Ga(20,"safe"),Bt()(),Oe(21,"div",14),Bt(),Ut(22,"div",15,0)(24,"iframe",16,1),Ga(26,"safe"),Ee("load",function(){return Bi(o),Vi(s.loaded())}),Bt()()()()}r&2&&(De(5),Va(" ",s.data.title," "),De(14),fi("src",Ha(20,4,s.data.img),Ks),De(2),fi("innerHTML",s.data.description,wd),De(3),fi("src",Ha(26,6,s.data.url),bd))},dependencies:[R_,qi,S_,T_],styles:[".cdk-overlay-pane.mat-mdc-dialog-panel{padding:25px!important}  .mat-mdc-dialog-container{max-height:80dvh}.map-modal[_ngcontent-%COMP%]{overflow-y:scroll;height:100dvh;position:relative}.map-modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:auto;height:40px;display:flex;justify-content:space-between;padding:0 10px;box-sizing:border-box;align-items:center;background-color:#fff}.map-modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.map-modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex-grow:1;padding-inline:10px;text-align:center;font-weight:500}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:0 20px;display:flex;flex-direction:column;height:100%;gap:10px}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px;padding-inline:10px;text-align:center;font-weight:500}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;text-align:center;border-radius:8px;background-color:#e3e3e3;height:32px;display:flex;justify-content:center;align-items:center;gap:5px;font-size:14px}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:first-child{background-color:#0d6ad4;color:#fff}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-1[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}@media (min-width: 1400px){.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-1[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 1200px) and (max-width: 1399px){.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-1[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 992px) and (max-width: 1199px){.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-1[_ngcontent-%COMP%]{flex-direction:row}}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-1[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:contents}.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-2[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 1400px){.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-2[_ngcontent-%COMP%]{flex:0 0 50%}}@media (min-width: 1200px) and (max-width: 1399px){.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-2[_ngcontent-%COMP%]{flex:0 0 50%}}@media (min-width: 992px) and (max-width: 1199px){.map-modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .section-2[_ngcontent-%COMP%]{flex:0 0 50%}}"]});let n=t;return n})();var Us=[{id:0,title:"Near Ras id-Dawwara",description:"Located on the western coast of Malta, <b>Ras id-Dawwara</b> is celebrated for its panoramic views and serene landscapes. This coastal promontory is a prime spot for hiking and photography, offering sweeping vistas of the Mediterranean Sea and dramatic cliff formations. The area is also known for its spectacular sunsets, making it a perfect location for evening walks and nature appreciation.",img:"/assets/images/places/6.png",lon:14.35562,lat:35.866722,url:"https://www.instagram.com/reel/C6UC2RUoSjx/embed"},{id:1,title:"Blue Grotto",description:"The <b>Blue Grotto</b> is renowned for its stunning azure waters and impressive natural arches, located on the southern coast of Malta near the village of \u017Burrieq. Accessible by boat, this network of sea caverns mirrors the phosphorescent colors of the underwater flora. The grotto and surrounding area are popular for snorkeling, diving, and boat trips, offering visitors a breathtaking view of the clear, blue sea against a backdrop of high cliffs.",img:"/assets/images/places/3.jpg",lon:14.4562387,lat:35.8207177,url:"https://www.instagram.com/reel/C-C4kIjoFnZ/embed"},{id:2,title:"Il-Mara",description:"Il Mara, located between Fort Benghajsa and Ghar Hasan beneath the impressive cliffs, is a beautiful but less-traveled spot ideal for hiking. The area's remote location means fewer visitors and a peaceful hiking experience. The cliffs offer dramatic views of the surrounding landscape, and the terrain provides a moderate challenge suitable for most hikers looking for an adventure off the beaten path.",img:"/assets/images/places/2.png",lon:14.5305347,lat:35.8065369,url:"https://www.instagram.com/reel/C2zz_hjMcY-/embed"},{id:3,title:"G\u0127ar ir-Ri\u0127",description:"<b>G\u0127ar ir-Ri\u0127</b> is in front of one of the cliff passages whose mouth is hidden behind a large rock. As you enter it you will find various rock formations that have formed over the years. At the end of it comes to another mouth that overlooks the sea with wonderful views.",img:"/assets/images/places/0.png",lon:14.525437010570169,lat:35.80702570126614,url:"https://www.instagram.com/reel/C4_IILpoxRx/embed"},{id:4,title:"Ras Il-Mignuna Window",description:"This is a Natural Arch at <b>Ras Il-Mignuna</b> located on the coast of Qrendi, between Wied i\u017C-\u017Burrieq and G\u0127ar Lapsi",img:"/assets/images/places/1.jpg",lon:14.438552453233333,lat:35.822497835426105,url:"https://www.instagram.com/reel/C4vmiFnorW3/embed"},{id:5,title:"Ras id-Dawwara",description:"Located on the western coast of Malta, <b>Ras id-Dawwara</b> is celebrated for its panoramic views and serene landscapes. This coastal promontory is a prime spot for hiking and photography, offering sweeping vistas of the Mediterranean Sea and dramatic cliff formations. The area is also known for its spectacular sunsets, making it a perfect location for evening walks and nature appreciation.",img:"/assets/images/places/4.jpg",lon:14.3536699,lat:35.8681994,url:"https://www.instagram.com/reel/C4GkCUZM1Zp/embed"},{id:6,title:"Popeye Village",description:"Originally constructed as a film set for the 1980 movie 'Popeye', <b>Popeye Village</b> has since transformed into a colorful and vibrant amusement park. Located at Anchor Bay in the north-west of Malta, this unique attraction offers a glimpse into the quirky world of Popeye the Sailor. Visitors can explore the rustic wooden buildings, take part in various themed activities, and enjoy shows and boat rides. The bay also offers stunning views, making it a fun and picturesque destination for families and tourists alike.",img:"/assets/images/places/5.jpg",lon:14.341693,lat:35.960651,url:"https://www.instagram.com/reel/C4OF8cKMavp/embed"},{id:7,title:"Elephant Rock",description:"Elephant Rock is a stunning natural rock formation that resembles the shape of an elephant. Located along Malta's picturesque coastline, this geological wonder is a favorite spot for photographers and nature lovers. The area around Elephant Rock offers scenic walks and the opportunity to explore secluded coves and crystal-clear waters.",img:"/assets/images/places/7.jpg",lon:14.346907885575565,lat:36.01422213881614,url:"https://www.instagram.com/reel/C6BwwfTIXFm/embed"},{id:8,title:"Munxar Path",description:"Munxar Path is a scenic coastal walk in Marsaskala, offering breathtaking views of the Mediterranean Sea and the rugged Maltese coastline. This trail is perfect for nature enthusiasts and walkers who enjoy peaceful, picturesque landscapes. Along the path, hikers can observe local flora and fauna, explore small, hidden coves, and enjoy tranquil moments by the sea.",img:"/assets/images/places/8.jpg",lon:14.570848,lat:35.849367,url:"https://www.instagram.com/reel/C5ftOgOIvYz/embed"},{id:9,title:"Munxar Window",description:"The Munxar Window is a striking natural arch located along the rugged coastline of Malta, near Marsaskala. This impressive geological formation offers a unique sight, especially popular among photographers and nature enthusiasts. The area around the Munxar Window is ideal for scenic hikes and provides panoramic views of the surrounding sea and landscape, making it a must-visit for those seeking the beauty of Malta's natural wonders.",img:"/assets/images/places/9.JPG",lon:14.5698237,lat:35.8499062,url:"https://www.instagram.com/reel/C9ruKhgOCEo/embed"},{id:10,title:"Hofriet Window",description:"Hofriet Window, also known as the 'Blue Cave', is one of Malta's lesser-known yet captivating natural arches, located near the southern coast. This secluded spot is accessible primarily by boat and offers a unique blend of azure waters and dramatic rock formations. The tranquility and natural beauty of the area make it an ideal destination for those looking to escape the more crowded tourist spots and enjoy some of Malta's pristine marine environment.",img:"/assets/images/places/10.jpg",lon:14.563689974293295,lat:35.83819204033,url:"https://www.instagram.com/reel/C3nYoDeMwf_/embed"},{id:11,title:"Bighi Cot-Lift",description:"The Bighi Cot-Lift, part of the historical Bighi Royal Naval Hospital in Kalkara, is a remarkable example of early 20th-century engineering. Initially used to transport patients and goods between the hospital and the waterfront, the cot-lift is now a unique cultural heritage site that attracts visitors interested in the technological innovations of the past. The surrounding area offers stunning views of the Grand Harbour, making it a worthwhile visit for history buffs and those enjoying scenic landscapes.",img:"/assets/images/places/11.jpg",lon:14.5244437,lat:35.8919094,url:"https://www.instagram.com/reel/C_7b6G6udei/embed"},{id:12,title:"Wied il-G\u0127asel",description:"Wied il-G\u0127asel, which translates to 'Valley of Honey' in Maltese, is one of the longest valleys located in the northern region of Malta, near Mosta. This picturesque valley is renowned for its lush vegetation, seasonal streams, and historical significance, including several ancient cart ruts and a mysterious network of tunnels. It is a favorite among hikers and nature lovers for its serene environment and the diverse flora and fauna that can be explored throughout the year.",img:"/assets/images/places/12.jpg",lon:14.4250258,lat:35.9155058,url:"https://www.instagram.com/reel/C30t3rOMBVB/embed"},{id:13,title:"Coral Lagoon",description:"Coral Lagoon, located near Mellie\u0127a on the northern coast of Malta, is a stunning natural wonder renowned for its crystal-clear waters and unique circular shape. This secluded lagoon is accessible via a hole in its rocky roof or by sea kayak, making it an adventurous spot for explorers and water sports enthusiasts. The Coral Lagoon is a perfect location for snorkeling, where one can observe a variety of marine life in a tranquil, almost untouched environment.",img:"/assets/images/places/13.jpg",lon:14.367659,lat:35.997909,url:"https://www.instagram.com/reel/C7M0_gtOLJN/embed"},{id:14,title:"Il-\u0120ebla l-Imtaqqba",description:"Il-\u0120ebla l-Imtaqqba, also known as the 'Punctured Rock', is a striking natural landmark located along the picturesque coast of Malta. This unique rock formation is noted for its distinctive hole that goes right through it, creating a natural window to the sea beyond. The site is a popular spot for photographers and nature enthusiasts, offering breathtaking views especially at sunset. The area around Il-\u0120ebla l-Imtaqqba also provides excellent opportunities for hiking and enjoying the tranquil Mediterranean landscape.",img:"/assets/images/places/16.jpg",lon:14.325799,lat:36.010848,url:"https://www.instagram.com/reel/C5yJsAaIdk4/embed"},{id:15,title:"Paradise Bay",description:"Paradise Bay, located at the northern tip of Malta near \u010Airkewwa, is one of the island's most picturesque beaches. Known for its crystal-clear waters and fine sandy beach, this secluded cove is surrounded by rugged cliffs that provide shelter and create a tranquil, almost private beach atmosphere. Paradise Bay is ideal for swimming, sunbathing, and snorkeling, making it a favorite among both locals and tourists seeking a serene getaway. The bay also features amenities such as a restaurant and beach equipment rentals, enhancing the comfort and convenience of your visit.",img:"/assets/images/places/17.png",lon:14.332826579817256,lat:35.98227580320132,url:"https://www.instagram.com/reel/CxBX5csMihe/embed"},{id:16,title:"L-G\u0127ar ta\u2019 Bla Saqaf",description:"L-G\u0127ar ta\u2019 Bla Saqaf, translating to 'The Cave Without a Ceiling' in English, is a remarkable open-air cave located in the limits of Mellie\u0127a. This unique geological formation is known for its impressive natural arch and panoramic views of the surrounding countryside and coastline. The cave is a popular destination for hikers and nature lovers who come to explore its rugged beauty and enjoy the serene atmosphere that the area offers.",img:"/assets/images/places/15.jpg",lon:14.329411,lat:36.009697,url:"https://www.instagram.com/reel/C6eVS0GoPf9/embed"},{id:17,title:"Natural Window",description:"This natural window is located in Comino near a historic coastal fortification on the northern coast of Malta, called 'Il-Batterija ta' Santa Marija'",img:"/assets/images/places/18.jpg",lon:14.347281410906533,lat:36.00631138767528,url:"https://www.instagram.com/reel/C6_Sb24oiEs/embed"},{id:18,title:"Mistra Bay",description:"Mistra Bay, located in the northern part of Malta, is a tranquil and picturesque bay known for its clear, shallow waters and pebble beach. This serene spot is ideal for swimming, snorkeling, and relaxing by the sea. Surrounded by natural beauty and historical sites, such as the Mistra Battery, the bay offers a perfect blend of leisure and exploration. The calm waters and peaceful atmosphere make Mistra Bay a hidden gem, providing a great escape from the more crowded tourist spots.",img:"/assets/images/places/minstra.JPG",lon:14.391039725356249,lat:35.957417736969006,url:"https://www.instagram.com/reel/CuxB6E-N3nR/embed"},{id:19,title:"Dingli Cliffs",description:"Dingli Cliffs, located on the western coast of Malta, are one of the island's most breathtaking natural landmarks. Rising over 250 meters above sea level, these dramatic cliffs offer stunning panoramic views of the Mediterranean Sea and the surrounding countryside. The area is perfect for hiking and enjoying spectacular sunsets. Visitors can also explore nearby attractions, such as the small chapel of St. Mary Magdalene, perched right on the edge of the cliffs. Dingli Cliffs provide a serene and awe-inspiring experience for nature lovers and photographers alike.",img:"/assets/images/places/21.JPG",lon:14.39847475818653,lat:35.84141667763579,url:"https://www.instagram.com/reel/C9-ITjtIirm/embed"},{id:20,title:"White Rocks",description:"White Rocks is a stunning coastal area located on the northeastern coast of Malta. Known for its striking white limestone formations, this area offers breathtaking views of the Mediterranean Sea and a unique landscape perfect for photography and exploration. The White Rocks area is a popular spot for hikers and nature enthusiasts who come to enjoy the scenic beauty and the serene atmosphere. Whether you're looking to take a leisurely walk along the coast or explore the rocky terrain, White Rocks provides a memorable outdoor experience.",img:"/assets/images/places/20.png",lon:14.469458617253675,lat:35.93356783527314,url:"https://www.instagram.com/reel/C9fGqT3MlKT/embed"},{id:21,title:"St. Mark's Tower",description:"St. Mark's Tower, also known as Qalet Marku Tower, is a historic watchtower located on the northeastern coast of Malta. Built in the 17th century by the Order of Saint John, this coastal fortification was part of a network of towers used to defend the island against invaders. Today, St. Mark's Tower stands as a testament to Malta's rich history, offering visitors a glimpse into the past. The tower is situated in a scenic area with beautiful views of the Mediterranean Sea, making it a popular spot for history enthusiasts and photographers.",img:"/assets/images/places/23.jpg",lon:14.453294928876327,lat:35.94647468280512,url:"https://www.instagram.com/reel/CpGJ1gggRbR/embed"},{id:22,title:"G\u0127ar i\u010B-\u010Aomb",description:"G\u0127ar i\u010B-\u010Aomb, also known as the 'Lead Cave', is a fascinating natural cave located in the scenic countryside of Malta. This cave is renowned for its intriguing rock formations and historical significance, having been used in ancient times for various purposes. Visitors to G\u0127ar i\u010B-\u010Aomb can explore its depths and admire the natural beauty and geological features that make it a unique spot. The surrounding area also offers picturesque views and opportunities for hiking and nature walks.",img:"/assets/images/places/19.JPG",lon:14.372112708186386,lat:35.99309133941263,url:"https://www.instagram.com/reel/C7eUdnoI6L1/embed"},{id:24,title:"IX-Xaqqa",description:"IX-Xaqqa is a picturesque coastal feature located on the southwestern coast of Malta. Known for its rugged cliffs and clear blue waters, IX-Xaqqa offers spectacular views and a peaceful environment away from the more touristy areas. It is a great spot for hiking, rock climbing, and diving, with its dramatic landscape and rich marine life. The area's natural beauty and tranquility make it an ideal destination for outdoor enthusiasts and photographers seeking to capture the essence of Malta's coastal charm.",img:"/assets/images/places/24.jpg",lon:14.4155089,lat:35.8337247,url:"https://www.instagram.com/reel/C-P-EmKIEtq/embed"},{id:25,title:"Fungus Rock",description:"Fungus Rock, also known as Il-\u0120ebla tal-\u0120eneral, is a small islet located at the entrance of the Dwejra Bay on the west coast of Gozo, Malta. This 60-meter high rock is renowned for the rare medicinal fungus that once grew there, which was highly prized by the Knights of St. John. The area around Fungus Rock is popular for its dramatic coastal scenery, crystal clear waters, and excellent diving spots. It is a protected nature reserve, offering visitors a unique glimpse into Malta's natural and historical heritage.",img:"/assets/images/places/Fungus.jpg",lon:14.1876756,lat:36.0478154,url:"https://www.instagram.com/reel/C9kUr9Vo8mX/embed"},{id:26,title:"Birgu (Vittoriosa)",description:"<b>Birgu</b>, also known as Vittoriosa, is one of Malta's historic Three Cities, famed for its rich history and vibrant maritime heritage. This charming city is a tapestry of narrow cobbled streets, ancient dwellings, and baroque buildings, inviting visitors to step back in time. Explore the picturesque waterfront, enjoy the bustling market squares, and soak in the local culture and cuisine at quaint cafes and eateries. Birgu is a living museum, offering an immersive experience into the heart of Maltese history and tradition.",img:"/assets/images/places/26.jpg",lon:14.521621366602675,lat:35.88986318933959,url:"https://www.instagram.com/reel/C-iD05doMJg/embed"},{id:23,title:"Wied il-Miela\u0127 Window",description:"Wied il-Miela\u0127 Window is a natural limestone arch located on the north-western coast of the island of Gozo, Malta. It is a lesser-known but equally stunning counterpart to the famous Azure Window. The arch offers breathtaking views of the Mediterranean Sea and is a favorite spot for photographers and nature enthusiasts. The area around Wied il-Miela\u0127 is perfect for hiking and exploring the rugged coastal landscape. Visitors can enjoy the serene beauty of this natural wonder while taking in the fresh sea breeze.",img:"/assets/images/places/rock.jpg",lon:14.2045948,lat:36.0710816,url:"https://www.instagram.com/reel/C9fAQhIoq2Q/embed"},{id:27,title:"Fort of St. Angelo",description:"<b>Fort of St. Angelo</b> stands majestically at the tip of the Birgu Peninsula, guarding the entrance to the Grand Harbour with its formidable walls and storied past. This iconic fortress is a cornerstone of Malta\u2019s military history, offering panoramic views of the surrounding harbor and cities. Visitors can explore its ancient ramparts, dungeons, and chapels, each layer telling a story of knights, sieges, and battles. The fort's strategic importance and architectural grandeur make it a must-visit for anyone interested in Malta's defensive heritage.",img:"/assets/images/places/27.jpg",lon:14.518716107448817,lat:35.891786702482676,url:"https://www.instagram.com/reel/C-p-agxIuuZ/embed"},{id:28,title:"La Guardiola",description:"La Guardiola, located at the tip of Senglea in Malta, is a historical watchtower offering breathtaking views of the Grand Harbour. Built as part of the city's fortifications, this iconic lookout point once played a crucial role in protecting Malta from potential invaders. Today, La Guardiola is a serene spot where visitors can enjoy the panoramic views of Valletta, the Three Cities, and the surrounding seascape, making it a must-see for history lovers and those seeking scenic vistas.",img:"/assets/images/places/12.jpg",lon:14.513937913495793,lat:35.89074420324843,url:"https://www.instagram.com/reel/C_7b6G6udei/embed"},{id:29,title:"Mercury Tower",description:"Mercury Tower is the tallest building in Malta, located in the bustling district of St. Julian's. Designed by world-renowned architect Zaha Hadid, this modern skyscraper stands as a symbol of Malta's forward-thinking development and architectural ambition. With its sleek design and stunning views over the island, Mercury Tower has quickly become an iconic landmark. Visitors can explore the surrounding area, which is filled with restaurants, shops, and nightlife, making it a perfect spot for both locals and tourists to enjoy Malta's vibrant city life.",img:"/assets/images/places/mercury_tower.jpg",lon:14.489268894113534,lat:35.922811493727934,url:"https://www.instagram.com/reel/DAq9mCqoznm/embed"}];var Lt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Xu=class extends pt{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+pg,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Lt.ELEMENT,this.handleElementChanged),this.addChangeListener(Lt.MAP,this.handleMapChanged),this.addChangeListener(Lt.OFFSET,this.handleOffsetChanged),this.addChangeListener(Lt.POSITION,this.handlePositionChanged),this.addChangeListener(Lt.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(Lt.ELEMENT)}getId(){return this.id}getMap(){return this.get(Lt.MAP)||null}getOffset(){return this.get(Lt.OFFSET)}getPosition(){return this.get(Lt.POSITION)}getPositioning(){return this.get(Lt.POSITIONING)}handleElementChanged(){Go(this.element);let t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(un(this.element),Y(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let t=this.getMap();if(t){this.mapPostrenderListenerKey=H(t,me.POSTRENDER,this.render,this),this.updatePixelPosition();let i=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?i.insertBefore(this.element,i.childNodes[0]||null):i.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(Lt.ELEMENT,t)}setMap(t){this.set(Lt.MAP,t)}setOffset(t){this.set(Lt.OFFSET,t)}setPosition(t){this.set(Lt.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){let i=this.getMap();if(!i||!i.getTargetElement()||!this.get(Lt.POSITION))return;let e=this.getRect(i.getTargetElement(),i.getSize()),r=this.getElement(),s=this.getRect(r,[lg(r),cg(r)]);t=t||{};let o=t.margin===void 0?20:t.margin;if(!So(e,s)){let a=s[0]-e[0],l=e[2]-s[2],c=s[1]-e[1],h=e[3]-s[3],u=[0,0];if(a<0?u[0]=a-o:l<0&&(u[0]=Math.abs(l)+o),c<0?u[1]=c-o:h<0&&(u[1]=Math.abs(h)+o),u[0]!==0||u[1]!==0){let d=i.getView().getCenterInternal(),g=i.getPixelFromCoordinateInternal(d);if(!g)return;let m=[g[0]+u[0],g[1]+u[1]],v=t.animation||{};i.getView().animateInternal({center:i.getCoordinateFromPixelInternal(m),duration:v.duration,easing:v.easing})}}}getRect(t,i){let e=t.getBoundingClientRect(),r=e.left+window.pageXOffset,s=e.top+window.pageYOffset;return[r,s,r+i[0],s+i[1]]}setPositioning(t){this.set(Lt.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){let t=this.getMap(),i=this.getPosition();if(!t||!t.isRendered()||!i){this.setVisible(!1);return}let e=t.getPixelFromCoordinate(i),r=t.getSize();this.updateRenderedPosition(e,r)}updateRenderedPosition(t,i){let e=this.element.style,r=this.getOffset(),s=this.getPositioning();this.setVisible(!0);let o=Math.round(t[0]+r[0])+"px",a=Math.round(t[1]+r[1])+"px",l="0%",c="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?c="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(c="-50%");let h=`translate(${l}, ${c}) translate(${o}, ${a})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,e.transform=h)}getOptions(){return this.options}},Yu=Xu;function jb(n,t){if(n&1){let i=Js();Td(0,2),Ut(1,"img",3),Ee("click",function(){let r=Bi(i).$implicit,s=Ba();return Vi(s.clickon(r))}),Bt(),Sd()}if(n&2){let i=t.$implicit;De(),Ad("id",i.id),fi("src",i.img,Ks)}}var x2=(()=>{let t=class t{constructor(e,r,s){this.dialog=e,this.activatedRoute=r,this.router=s,this.maltaCoordinates=[14.363354400245052,35.95195406978092],this.locations=Us.reverse()}ngAfterViewInit(){this.map=Gm(Is(this.maltaCoordinates[0],this.maltaCoordinates[1]),10.2,"ol-map"),Us.forEach((e,r)=>{var s=new Yu({stopEvent:!1,positioning:"bottom-center",element:document.getElementById(`${e.id}`)});s.setPosition(Is(e.lon,e.lat)),this.map.addOverlay(s)}),this.handleClickOnMapPin(),this.activatedRoute.queryParams.subscribe(e=>{if(e.title){let r=Us.find(s=>encodeURIComponent(s.title)===e.title)??Us.find(s=>encodeURIComponent(s.title.replace(" ","-"))===e.title);this.openDialog(r,Is(r?.lon,r?.lat))}})}handleClickOnMapPin(){Hm(this.map,(e,r)=>{let o=e?.getGeometry()?.getFlatCoordinates(),a=e.getId();console.log(ma(o))})}clickon(e){console.log(e);let r={title:encodeURIComponent(e.title.replace(" ","-"))};this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{}}).then(s=>{this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:r,queryParamsHandling:"merge"})})}openDialog(e,r){setTimeout(()=>{this.dialog.open(A_,{data:e}).afterClosed().subscribe(s=>{if(s===vr.EXPLORE&&this.map.setView(_a(this.getMaltaViewCoordinates(),10.2)),s===vr.GOOGLE_MAPS){let o="https://maps.google.com/?q="+ma(r).reverse().join(",");window.open(o,"_blank")}})},1),(this.map.getView().getZoom()??0)<=13&&this.map.setView(_a(r,13))}getMaltaViewCoordinates(){return Is(this.maltaCoordinates[0],this.maltaCoordinates[1])}};t.\u0275fac=function(r){return new(r||t)(U(Wu),U(yi),U(wo))},t.\u0275cmp=he({type:t,selectors:[["app-map"]],decls:2,vars:1,consts:[["id","ol-map",1,"map-container"],["style","overflow: hidden;display: flex; height: inherit;",4,"ngFor","ngForOf"],[2,"overflow","hidden","display","flex","height","inherit"],["width","80px","height","80px","alt","","srcset","",2,"border-radius","50%","cursor","pointer",3,"click","id","src"]],template:function(r,s){r&1&&(Oe(0,"div",0),Xi(1,jb,2,2,"ng-container",1)),r&2&&(De(),fi("ngForOf",s.locations))},dependencies:[jd],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .map-container[_ngcontent-%COMP%]{display:flex;flex:1 1 auto}"]});let n=t;return n})();var A2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=rt({imports:[qi]});let n=t;return n})();export{Vd as a,sE as b,Ov as c,FE as d,jE as e,x2 as f,A2 as g};
